2020-06-09 08:00:23.744  INFO 11724 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 11724 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 08:00:23.777 DEBUG 11724 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 08:00:23.778  INFO 11724 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 08:00:24.099  INFO 11724 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 08:00:24.100  INFO 11724 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 08:00:28.828  INFO 11724 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 08:00:28.884  INFO 11724 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 08:00:28.884  INFO 11724 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 08:00:29.074  INFO 11724 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 08:00:29.075  INFO 11724 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4974 ms
2020-06-09 08:00:30.720  INFO 11724 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 08:00:30.883  INFO 11724 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 08:00:32.290  INFO 11724 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 08:00:32.377  INFO 11724 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 08:00:32.381  INFO 11724 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 10.104 seconds (JVM running for 19.652)
2020-06-09 08:01:34.446  INFO 11724 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 08:01:34.447  INFO 11724 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 08:01:34.466  INFO 11724 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 19 ms
2020-06-09 08:01:34.532  INFO 11724 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 08:01:34.786  INFO 11724 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 08:01:35.311  INFO 11724 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 08:01:35.321 DEBUG 11724 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 08:01:35.364 DEBUG 11724 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 08:01:35.405 DEBUG 11724 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 08:01:35.410 DEBUG 11724 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog        : ==>  Preparing: /*主页博客展示*/ select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id order by b.update_time desc LIMIT ? 
2020-06-09 08:01:35.411 DEBUG 11724 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog        : ==> Parameters: 8(Integer)
2020-06-09 08:01:35.419 DEBUG 11724 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog        : <==      Total: 1
2020-06-09 08:01:35.426 DEBUG 11724 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 08:01:35.426 DEBUG 11724 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 08:01:35.428 DEBUG 11724 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getBlogType         : <==      Total: 1
2020-06-09 08:01:35.429 DEBUG 11724 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 08:01:35.430 DEBUG 11724 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 08:01:35.438 DEBUG 11724 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getBlogTag           : <==      Total: 3
2020-06-09 08:01:35.440 DEBUG 11724 --- [http-nio-8080-exec-2] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 08:01:35.440 DEBUG 11724 --- [http-nio-8080-exec-2] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 08:01:35.443 DEBUG 11724 --- [http-nio-8080-exec-2] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 1
2020-06-09 08:01:35.445  INFO 11724 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:01:35.446  INFO 11724 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: index
2020-06-09 08:01:37.096  INFO 11724 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 08:01:37.100 DEBUG 11724 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 08:01:37.101 DEBUG 11724 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 08:01:37.114 DEBUG 11724 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 08:01:37.114  INFO 11724 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:01:37.114  INFO 11724 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 08:02:45.876  INFO 11724 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 08:02:45.879 DEBUG 11724 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 08:02:45.879 DEBUG 11724 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 08:02:45.885 DEBUG 11724 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 08:02:45.957  INFO 11724 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:02:45.958  INFO 11724 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 08:02:46.647  INFO 11724 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 08:02:46.648 DEBUG 11724 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 08:02:46.649 DEBUG 11724 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 08:02:46.650 DEBUG 11724 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 08:02:46.651  INFO 11724 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:02:46.651  INFO 11724 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 08:02:46.896  INFO 11724 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 08:02:46.902 DEBUG 11724 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 08:02:46.902 DEBUG 11724 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 08:02:46.914 DEBUG 11724 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 0
2020-06-09 08:02:46.915  INFO 11724 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:02:46.915  INFO 11724 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: comment :: commentList
2020-06-09 08:02:46.961 ERROR 11724 --- [http-nio-8080-exec-5] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-5] Exception processing template "comment::[commentList]": Error resolving template [comment], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [comment], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 08:02:46.970 ERROR 11724 --- [http-nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [comment], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [comment], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 08:05:22.698  INFO 11724 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 08:05:22.700 DEBUG 11724 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 08:05:22.700 DEBUG 11724 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 08:05:22.713 DEBUG 11724 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 08:05:22.722  INFO 11724 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:05:22.723  INFO 11724 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 08:05:23.166  INFO 11724 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 08:05:23.167 DEBUG 11724 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 08:05:23.167 DEBUG 11724 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 08:05:23.170 DEBUG 11724 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 08:05:23.172  INFO 11724 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:05:23.172  INFO 11724 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 08:05:23.308  INFO 11724 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 08:05:23.309 DEBUG 11724 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 08:05:23.309 DEBUG 11724 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 08:05:23.311 DEBUG 11724 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 0
2020-06-09 08:05:23.311  INFO 11724 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:05:23.311  INFO 11724 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: comment :: commentList
2020-06-09 08:05:23.313 ERROR 11724 --- [http-nio-8080-exec-6] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-6] Exception processing template "comment::[commentList]": Error resolving template [comment], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [comment], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 08:05:23.316 ERROR 11724 --- [http-nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [comment], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [comment], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 08:06:34.748  INFO 11724 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 08:06:34.750 DEBUG 11724 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 08:06:34.751 DEBUG 11724 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 08:06:34.754 DEBUG 11724 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 08:06:34.765  INFO 11724 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:06:34.765  INFO 11724 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 08:06:35.174  INFO 11724 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 08:06:35.175 DEBUG 11724 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 08:06:35.176 DEBUG 11724 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 08:06:35.179 DEBUG 11724 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 08:06:35.179  INFO 11724 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:06:35.179  INFO 11724 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 08:06:35.409  INFO 11724 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 08:06:35.410 DEBUG 11724 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 08:06:35.410 DEBUG 11724 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 08:06:35.412 DEBUG 11724 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 0
2020-06-09 08:06:35.412  INFO 11724 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:06:35.412  INFO 11724 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: comment :: commentList
2020-06-09 08:06:35.414 ERROR 11724 --- [http-nio-8080-exec-7] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-7] Exception processing template "comment::[commentList]": Error resolving template [comment], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [comment], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 08:06:35.415 ERROR 11724 --- [http-nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [comment], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [comment], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 08:13:04.412  INFO 11724 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 08:13:04.414 DEBUG 11724 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 08:13:04.423 DEBUG 11724 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 08:13:04.428 DEBUG 11724 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 08:13:04.437  INFO 11724 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:13:04.437  INFO 11724 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 08:13:04.840  INFO 11724 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 08:13:04.841 DEBUG 11724 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 08:13:04.841 DEBUG 11724 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 08:13:04.843 DEBUG 11724 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 08:13:04.844  INFO 11724 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:13:04.844  INFO 11724 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 08:13:05.084  INFO 11724 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 08:18:31.005  WARN 11724 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m25s350ms168µs800ns).
2020-06-09 08:18:31.005 DEBUG 11724 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 08:18:31.021 DEBUG 11724 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 08:18:31.021 DEBUG 11724 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 0
2020-06-09 08:24:10.054  WARN 11724 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m59s202ms515µs300ns).
2020-06-09 08:24:10.054  INFO 11724 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:24:10.054  INFO 11724 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: comment :: commentList
2020-06-09 08:24:10.070 ERROR 11724 --- [http-nio-8080-exec-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-1] Exception processing template "comment::[commentList]": Error resolving template [comment], template might not exist or might not be accessible by any of the configured Template Resolvers

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [comment], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 08:24:10.085 ERROR 11724 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [comment], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause

org.thymeleaf.exceptions.TemplateInputException: Error resolving template [comment], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 08:42:34.731  INFO 1552 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 1552 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 08:42:34.734 DEBUG 1552 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 08:42:34.734  INFO 1552 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 08:42:34.838  INFO 1552 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 08:42:34.838  INFO 1552 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 08:42:36.147  INFO 1552 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 08:42:36.147  INFO 1552 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 08:42:36.147  INFO 1552 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 08:42:36.241  INFO 1552 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 08:42:36.241  INFO 1552 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1403 ms
2020-06-09 08:42:36.959  INFO 1552 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 08:42:37.053  INFO 1552 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 08:42:37.397  INFO 1552 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 08:42:37.444  INFO 1552 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 08:42:37.444  INFO 1552 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 3.366 seconds (JVM running for 9.218)
2020-06-09 08:44:52.596  INFO 1552 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 08:44:52.596  INFO 1552 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 08:44:52.608  INFO 1552 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2020-06-09 08:44:52.646  INFO 1552 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 08:44:52.684  INFO 1552 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 08:44:52.847  INFO 1552 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 08:44:52.860 DEBUG 1552 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 08:44:52.887 DEBUG 1552 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 08:44:52.916 DEBUG 1552 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 08:44:53.004  INFO 1552 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:44:53.004  INFO 1552 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 08:44:53.975  INFO 1552 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 08:44:53.978 DEBUG 1552 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 08:44:53.979 DEBUG 1552 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 08:44:53.985 DEBUG 1552 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 08:44:53.986  INFO 1552 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:44:53.987  INFO 1552 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 08:44:54.210  INFO 1552 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 08:44:57.324 DEBUG 1552 --- [http-nio-8080-exec-4] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 08:44:57.326 DEBUG 1552 --- [http-nio-8080-exec-4] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 08:44:57.338 DEBUG 1552 --- [http-nio-8080-exec-4] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 0
2020-06-09 08:45:45.091  WARN 1552 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=52s149ms761µs400ns).
2020-06-09 08:45:52.466  INFO 1552 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:45:52.466  INFO 1552 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: comment :: commentList
2020-06-09 08:46:20.983  INFO 6924 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 6924 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 08:46:20.983 DEBUG 6924 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 08:46:20.983  INFO 6924 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 08:46:21.046  INFO 6924 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 08:46:21.046  INFO 6924 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 08:46:22.454  INFO 6924 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 08:46:22.464  INFO 6924 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 08:46:22.464  INFO 6924 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 08:46:22.554  INFO 6924 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 08:46:22.554  INFO 6924 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1508 ms
2020-06-09 08:46:23.257  INFO 6924 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 08:46:23.366  INFO 6924 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 08:46:23.694  INFO 6924 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 08:46:23.741  INFO 6924 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 08:46:23.741  INFO 6924 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 3.358 seconds (JVM running for 9.197)
2020-06-09 08:47:03.506  INFO 12804 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 12804 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 08:47:03.506 DEBUG 12804 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 08:47:03.506  INFO 12804 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 08:47:03.616  INFO 12804 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 08:47:03.616  INFO 12804 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 08:47:04.912  INFO 12804 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 08:47:04.912  INFO 12804 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 08:47:04.912  INFO 12804 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 08:47:05.006  INFO 12804 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 08:47:05.006  INFO 12804 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1390 ms
2020-06-09 08:47:05.724  INFO 12804 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 08:47:05.818  INFO 12804 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 08:47:06.193  INFO 12804 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 08:47:06.240  INFO 12804 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 08:47:06.240  INFO 12804 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 3.331 seconds (JVM running for 9.18)
2020-06-09 08:47:26.172  INFO 12804 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 08:47:26.172  INFO 12804 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 08:47:26.184  INFO 12804 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2020-06-09 08:47:26.220  INFO 12804 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 08:47:26.257  INFO 12804 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 08:47:26.441  INFO 12804 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 08:47:26.450 DEBUG 12804 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 08:47:26.474 DEBUG 12804 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 08:47:26.523 DEBUG 12804 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 08:47:26.613  INFO 12804 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:47:26.614  INFO 12804 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 08:47:27.571  INFO 12804 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 08:47:27.574 DEBUG 12804 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 08:47:27.574 DEBUG 12804 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 08:47:27.576 DEBUG 12804 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 08:47:27.576  INFO 12804 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:47:27.577  INFO 12804 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 08:47:27.759  INFO 12804 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 08:47:29.997 DEBUG 12804 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 08:47:29.997 DEBUG 12804 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 08:47:29.999 DEBUG 12804 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 0
2020-06-09 08:47:30.000  INFO 12804 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:47:30.001  INFO 12804 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 08:51:48.727  INFO 16524 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 16524 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 08:51:48.742 DEBUG 16524 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 08:51:48.742  INFO 16524 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 08:51:48.867  INFO 16524 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 08:51:48.867  INFO 16524 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 08:51:50.164  INFO 16524 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 08:51:50.179  INFO 16524 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 08:51:50.179  INFO 16524 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 08:51:50.273  INFO 16524 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 08:51:50.273  INFO 16524 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1406 ms
2020-06-09 08:51:50.992  INFO 16524 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 08:51:51.085  INFO 16524 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 08:51:51.429  INFO 16524 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 08:51:51.460  INFO 16524 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 08:51:51.476  INFO 16524 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 3.342 seconds (JVM running for 9.207)
2020-06-09 08:52:38.585  INFO 16524 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 08:52:38.586  INFO 16524 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 08:52:38.598  INFO 16524 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2020-06-09 08:52:38.635  INFO 16524 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 08:52:38.667  INFO 16524 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 08:52:38.807  INFO 16524 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 08:52:38.815 DEBUG 16524 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 08:52:38.837 DEBUG 16524 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 08:52:38.863 DEBUG 16524 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 08:52:38.939  INFO 16524 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:52:38.939  INFO 16524 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 08:52:39.879  INFO 16524 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 08:52:39.882 DEBUG 16524 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 08:52:39.883 DEBUG 16524 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 08:52:39.885 DEBUG 16524 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 08:52:39.886  INFO 16524 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:52:39.886  INFO 16524 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 08:52:40.069  INFO 16524 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 08:52:42.387 DEBUG 16524 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 08:52:42.388 DEBUG 16524 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 08:52:42.390 DEBUG 16524 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 0
2020-06-09 08:52:42.391  INFO 16524 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:52:42.391  INFO 16524 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 08:56:40.440  INFO 16524 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=qq, email=1802585483@qq.com, content=qq, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=-1, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[]))])
2020-06-09 08:58:18.916  WARN 16524 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m5s239ms668µs).
2020-06-09 08:58:51.179 DEBUG 16524 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id, admincomment) values (?,?,?,?, ?,?,?, ?); 
2020-06-09 08:58:51.209 DEBUG 16524 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.saveComment      : ==> Parameters: qq(String), 1802585483@qq.com(String), qq(String), /images/avatar.jpg(String), 2020-06-09 08:58:46.353(Timestamp), null, -1(Long), false(Boolean)
2020-06-09 08:58:51.397  INFO 16524 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 08:58:51.397 ERROR 16524 --- [http-nio-8080-exec-6] c.b.handler.ControllerExceptionHandler   : Request url: /comment, Exception: {}

org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'admincomment' in 'field list'
### The error may exist in file [F:\idea\blog\blog-master\blog\target\classes\mapper\CommentDao.xml]
### The error may involve com.blog.dao.CommentDao.saveComment-Inline
### The error occurred while setting parameters
### SQL: insert into blog.t_comment (nickname,email,content,avatar,         create_time,blog_id,parent_comment_id, admincomment)         values (?,?,?,?,         ?,?,?, ?);
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'admincomment' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'admincomment' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:235) ~[spring-jdbc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72) ~[spring-jdbc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at com.sun.proxy.$Proxy82.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:93) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy86.saveComment(Unknown Source) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.sun.proxy.$Proxy87.saveComment(Unknown Source) ~[na:na]
	at com.blog.service.impl.CommentServiceImpl.saveComment(CommentServiceImpl.java:101) ~[classes/:na]
	at com.blog.controller.CommentController.post(CommentController.java:46) ~[classes/:na]
	at com.blog.controller.CommentController$$FastClassBySpringCGLIB$$6c601308.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.blog.controller.CommentController$$EnhancerBySpringCGLIB$$d99ced59.post(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'admincomment' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-3.4.2.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-3.4.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy114.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.3.jar:3.5.3]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy112.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.3.jar:3.5.3]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426) ~[mybatis-spring-2.0.3.jar:2.0.3]
	... 87 common frames omitted

2020-06-09 08:58:51.413  WARN 16524 --- [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'admincomment' in 'field list'
### The error may exist in file [F:\idea\blog\blog-master\blog\target\classes\mapper\CommentDao.xml]
### The error may involve com.blog.dao.CommentDao.saveComment-Inline
### The error occurred while setting parameters
### SQL: insert into blog.t_comment (nickname,email,content,avatar,         create_time,blog_id,parent_comment_id, admincomment)         values (?,?,?,?,         ?,?,?, ?);
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'admincomment' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'admincomment' in 'field list']
2020-06-09 09:01:58.807  INFO 21568 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 21568 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 09:01:58.807 DEBUG 21568 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 09:01:58.807  INFO 21568 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 09:01:58.917  INFO 21568 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 09:01:58.917  INFO 21568 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 09:02:00.260  INFO 21568 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 09:02:00.276  INFO 21568 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 09:02:00.276  INFO 21568 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 09:02:00.354  INFO 21568 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 09:02:00.354  INFO 21568 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1437 ms
2020-06-09 09:02:01.088  INFO 21568 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 09:02:01.182  INFO 21568 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 09:02:01.510  INFO 21568 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 09:02:01.557  INFO 21568 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 09:02:01.557  INFO 21568 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 3.399 seconds (JVM running for 9.157)
2020-06-09 09:03:04.098  INFO 21568 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 09:03:04.098  INFO 21568 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 09:03:04.108  INFO 21568 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2020-06-09 09:03:04.158  INFO 21568 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:03:04.202  INFO 21568 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 09:03:04.367  INFO 21568 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 09:03:04.375 DEBUG 21568 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:03:04.397 DEBUG 21568 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:03:04.422 DEBUG 21568 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:03:04.510  INFO 21568 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:03:04.510  INFO 21568 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:03:05.492  INFO 21568 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:03:05.500 DEBUG 21568 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:03:05.501 DEBUG 21568 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:03:05.503 DEBUG 21568 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:03:05.503  INFO 21568 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:03:05.503  INFO 21568 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:03:05.692  INFO 21568 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:03:07.922 DEBUG 21568 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:03:07.923 DEBUG 21568 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:03:07.925 DEBUG 21568 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 0
2020-06-09 09:03:07.927  INFO 21568 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:03:07.927  INFO 21568 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:08:01.251  INFO 21568 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:08:01.255 DEBUG 21568 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:08:01.256 DEBUG 21568 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:08:01.271 DEBUG 21568 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:08:01.280  INFO 21568 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:08:01.281  INFO 21568 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:08:01.845  INFO 21568 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:08:01.846 DEBUG 21568 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:08:01.847 DEBUG 21568 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:08:01.848 DEBUG 21568 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:08:01.849  INFO 21568 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:08:01.849  INFO 21568 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:08:02.046  INFO 21568 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:08:05.499 DEBUG 21568 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:08:05.500 DEBUG 21568 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:08:05.501 DEBUG 21568 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 0
2020-06-09 09:08:05.502  INFO 21568 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:08:05.502  INFO 21568 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:08:14.066  INFO 21568 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=qq, email=1802585483@qq.com, content=qq, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=-1, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[]))])
2020-06-09 09:08:15.587 DEBUG 21568 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id) values (?,?,?,?, ?,?,?); 
2020-06-09 09:08:15.590 DEBUG 21568 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.saveComment      : ==> Parameters: qq(String), 1802585483@qq.com(String), qq(String), /images/avatar.jpg(String), 2020-06-09 09:08:15.585(Timestamp), null, -1(Long)
2020-06-09 09:08:15.779  INFO 21568 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:08:15.787 ERROR 21568 --- [http-nio-8080-exec-10] c.b.handler.ControllerExceptionHandler   : Request url: /comment, Exception: {}

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
### The error may exist in file [F:\idea\blog\blog-master\blog\target\classes\mapper\CommentDao.xml]
### The error may involve com.blog.dao.CommentDao.saveComment-Inline
### The error occurred while setting parameters
### SQL: insert into blog.t_comment (nickname,email,content,avatar,         create_time,blog_id,parent_comment_id)         values (?,?,?,?,         ?,?,?);
### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
; Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247) ~[spring-jdbc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72) ~[spring-jdbc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at com.sun.proxy.$Proxy82.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:93) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy86.saveComment(Unknown Source) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.sun.proxy.$Proxy87.saveComment(Unknown Source) ~[na:na]
	at com.blog.service.impl.CommentServiceImpl.saveComment(CommentServiceImpl.java:101) ~[classes/:na]
	at com.blog.controller.CommentController.post(CommentController.java:46) ~[classes/:na]
	at com.blog.controller.CommentController$$FastClassBySpringCGLIB$$6c601308.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.blog.controller.CommentController$$EnhancerBySpringCGLIB$$80809b81.post(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-3.4.2.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-3.4.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy114.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.3.jar:3.5.3]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy112.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.3.jar:3.5.3]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426) ~[mybatis-spring-2.0.3.jar:2.0.3]
	... 87 common frames omitted

2020-06-09 09:08:15.791  WARN 21568 --- [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
### The error may exist in file [F:\idea\blog\blog-master\blog\target\classes\mapper\CommentDao.xml]
### The error may involve com.blog.dao.CommentDao.saveComment-Inline
### The error occurred while setting parameters
### SQL: insert into blog.t_comment (nickname,email,content,avatar,         create_time,blog_id,parent_comment_id)         values (?,?,?,?,         ?,?,?);
### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
; Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))]
2020-06-09 09:09:14.383  INFO 21568 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:09:14.384 DEBUG 21568 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:09:14.385 DEBUG 21568 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:09:14.392 DEBUG 21568 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:09:14.402  INFO 21568 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:09:14.402  INFO 21568 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:09:14.870  INFO 21568 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:09:14.870 DEBUG 21568 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:09:14.871 DEBUG 21568 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:09:14.878 DEBUG 21568 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:09:14.878  INFO 21568 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:09:14.878  INFO 21568 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:09:15.068  INFO 21568 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:09:15.069 DEBUG 21568 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:09:15.069 DEBUG 21568 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:09:15.071 DEBUG 21568 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 0
2020-06-09 09:09:15.072  INFO 21568 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:09:15.073  INFO 21568 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:09:19.614  INFO 21568 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=qq, email=1802585483@qq.com, content=qq, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=-1, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[]))])
2020-06-09 09:10:14.254  WARN 21568 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m8s747ms360µs700ns).
2020-06-09 09:10:15.654 DEBUG 21568 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id) values (?,?,?,?, ?,?,?); 
2020-06-09 09:10:15.661 DEBUG 21568 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.saveComment      : ==> Parameters: qq(String), 1802585483@qq.com(String), qq(String), /images/avatar.jpg(String), 2020-06-09 09:10:15.654(Timestamp), null, -1(Long)
2020-06-09 09:10:15.661  INFO 21568 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:10:15.676 ERROR 21568 --- [http-nio-8080-exec-9] c.b.handler.ControllerExceptionHandler   : Request url: /comment, Exception: {}

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
### The error may exist in file [F:\idea\blog\blog-master\blog\target\classes\mapper\CommentDao.xml]
### The error may involve com.blog.dao.CommentDao.saveComment-Inline
### The error occurred while setting parameters
### SQL: insert into blog.t_comment (nickname,email,content,avatar,         create_time,blog_id,parent_comment_id)         values (?,?,?,?,         ?,?,?);
### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
; Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247) ~[spring-jdbc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72) ~[spring-jdbc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at com.sun.proxy.$Proxy82.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:93) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy86.saveComment(Unknown Source) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.sun.proxy.$Proxy87.saveComment(Unknown Source) ~[na:na]
	at com.blog.service.impl.CommentServiceImpl.saveComment(CommentServiceImpl.java:101) ~[classes/:na]
	at com.blog.controller.CommentController.post(CommentController.java:46) ~[classes/:na]
	at com.blog.controller.CommentController$$FastClassBySpringCGLIB$$6c601308.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.blog.controller.CommentController$$EnhancerBySpringCGLIB$$80809b81.post(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-3.4.2.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-3.4.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy114.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.3.jar:3.5.3]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy112.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.3.jar:3.5.3]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426) ~[mybatis-spring-2.0.3.jar:2.0.3]
	... 87 common frames omitted

2020-06-09 09:10:15.692  WARN 21568 --- [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
### The error may exist in file [F:\idea\blog\blog-master\blog\target\classes\mapper\CommentDao.xml]
### The error may involve com.blog.dao.CommentDao.saveComment-Inline
### The error occurred while setting parameters
### SQL: insert into blog.t_comment (nickname,email,content,avatar,         create_time,blog_id,parent_comment_id)         values (?,?,?,?,         ?,?,?);
### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
; Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))]
2020-06-09 09:10:46.836  INFO 8504 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 8504 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 09:10:46.838 DEBUG 8504 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 09:10:46.838  INFO 8504 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 09:10:46.918  INFO 8504 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 09:10:46.918  INFO 8504 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 09:10:48.613  INFO 8504 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 09:10:48.623  INFO 8504 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 09:10:48.624  INFO 8504 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 09:10:48.717  INFO 8504 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 09:10:48.717  INFO 8504 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1799 ms
2020-06-09 09:10:49.437  INFO 8504 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 09:10:49.533  INFO 8504 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 09:10:50.179  INFO 8504 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 09:10:50.269  INFO 8504 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 09:10:50.277  INFO 8504 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 4.054 seconds (JVM running for 9.884)
2020-06-09 09:12:31.472  INFO 8504 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 09:12:31.473  INFO 8504 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 09:12:31.488  INFO 8504 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2020-06-09 09:12:31.534  INFO 8504 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:12:31.581  INFO 8504 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 09:12:31.789  INFO 8504 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 09:12:31.797 DEBUG 8504 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:12:31.825 DEBUG 8504 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:12:31.856 DEBUG 8504 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:12:31.956  INFO 8504 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:12:31.956  INFO 8504 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:12:32.996  INFO 8504 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:12:33.005 DEBUG 8504 --- [http-nio-8080-exec-3] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:12:33.006 DEBUG 8504 --- [http-nio-8080-exec-3] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:12:33.008 DEBUG 8504 --- [http-nio-8080-exec-3] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:12:33.008  INFO 8504 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:12:33.009  INFO 8504 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:12:33.245  INFO 8504 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:12:33.254 DEBUG 8504 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:12:33.255 DEBUG 8504 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:12:33.257 DEBUG 8504 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 0
2020-06-09 09:12:33.258  INFO 8504 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:12:33.258  INFO 8504 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:12:39.050  INFO 8504 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=qq, email=1802585483@qq.com, content=qq, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=-1, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[]))])
2020-06-09 09:12:48.103 DEBUG 8504 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id) values (?,?,?,?, ?,?,?); 
2020-06-09 09:12:48.124 DEBUG 8504 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.saveComment      : ==> Parameters: qq(String), 1802585483@qq.com(String), qq(String), /images/avatar.jpg(String), 2020-06-09 09:12:46.784(Timestamp), 11(Long), -1(Long)
2020-06-09 09:12:52.316  INFO 8504 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:12:52.326 ERROR 8504 --- [http-nio-8080-exec-2] c.b.handler.ControllerExceptionHandler   : Request url: /comment, Exception: {}

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
### The error may exist in file [F:\idea\blog\blog-master\blog\target\classes\mapper\CommentDao.xml]
### The error may involve com.blog.dao.CommentDao.saveComment-Inline
### The error occurred while setting parameters
### SQL: insert into blog.t_comment (nickname,email,content,avatar,         create_time,blog_id,parent_comment_id)         values (?,?,?,?,         ?,?,?);
### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
; Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247) ~[spring-jdbc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72) ~[spring-jdbc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at com.sun.proxy.$Proxy82.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:93) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy86.saveComment(Unknown Source) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.sun.proxy.$Proxy87.saveComment(Unknown Source) ~[na:na]
	at com.blog.service.impl.CommentServiceImpl.saveComment(CommentServiceImpl.java:101) ~[classes/:na]
	at com.blog.controller.CommentController.post(CommentController.java:47) ~[classes/:na]
	at com.blog.controller.CommentController$$FastClassBySpringCGLIB$$6c601308.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.blog.controller.CommentController$$EnhancerBySpringCGLIB$$5866d938.post(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-3.4.2.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-3.4.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy114.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.3.jar:3.5.3]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy112.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.3.jar:3.5.3]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426) ~[mybatis-spring-2.0.3.jar:2.0.3]
	... 87 common frames omitted

2020-06-09 09:12:52.329  WARN 8504 --- [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
### The error may exist in file [F:\idea\blog\blog-master\blog\target\classes\mapper\CommentDao.xml]
### The error may involve com.blog.dao.CommentDao.saveComment-Inline
### The error occurred while setting parameters
### SQL: insert into blog.t_comment (nickname,email,content,avatar,         create_time,blog_id,parent_comment_id)         values (?,?,?,?,         ?,?,?);
### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
; Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `parent_comment_id` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))]
2020-06-09 09:13:56.554  INFO 8504 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:13:56.555 DEBUG 8504 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:13:56.556 DEBUG 8504 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:13:56.563 DEBUG 8504 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:13:56.571  INFO 8504 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:13:56.571  INFO 8504 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:13:57.071  INFO 8504 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:13:57.082 DEBUG 8504 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:13:57.082 DEBUG 8504 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:13:57.084 DEBUG 8504 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:13:57.084  INFO 8504 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:13:57.084  INFO 8504 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:13:57.272  INFO 8504 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:13:57.273 DEBUG 8504 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:13:57.273 DEBUG 8504 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:13:57.284 DEBUG 8504 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 0
2020-06-09 09:13:57.285  INFO 8504 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:13:57.285  INFO 8504 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:14:04.541  INFO 8504 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=qq, email=1802585483@qq.com, content=qqq, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=-1, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[]))])
2020-06-09 09:14:08.151 DEBUG 8504 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id) values (?,?,?,?, ?,?,?); 
2020-06-09 09:14:08.152 DEBUG 8504 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : ==> Parameters: qq(String), 1802585483@qq.com(String), qqq(String), /images/avatar.jpg(String), 2020-06-09 09:14:08.143(Timestamp), 11(Long), -1(Long)
2020-06-09 09:14:08.160 DEBUG 8504 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : <==    Updates: 1
2020-06-09 09:14:08.160  INFO 8504 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:14:08.160  INFO 8504 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: redirect:/comment
2020-06-09 09:14:08.280 ERROR 8504 --- [http-nio-8080-exec-7] c.b.handler.ControllerExceptionHandler   : Request url: /comment, Exception: {}

org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:213) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:421) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:367) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:110) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:59) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:395) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1234) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1016) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 09:14:08.281  WARN 8504 --- [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2020-06-09 09:15:11.525  INFO 14896 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 14896 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 09:15:11.529 DEBUG 14896 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 09:15:11.529  INFO 14896 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 09:15:11.579  INFO 14896 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 09:15:11.579  INFO 14896 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 09:15:13.302  INFO 14896 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 09:15:13.314  INFO 14896 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 09:15:13.314  INFO 14896 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 09:15:13.421  INFO 14896 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 09:15:13.422  INFO 14896 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1843 ms
2020-06-09 09:15:14.418  INFO 14896 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 09:15:14.549  INFO 14896 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 09:15:14.996  INFO 14896 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 09:15:15.050  INFO 14896 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 09:15:15.052  INFO 14896 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 4.47 seconds (JVM running for 10.524)
2020-06-09 09:16:45.306  INFO 14896 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 09:16:45.306  INFO 14896 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 09:16:45.320  INFO 14896 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2020-06-09 09:16:45.358  INFO 14896 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:16:45.392  INFO 14896 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 09:16:45.554  INFO 14896 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 09:16:45.567 DEBUG 14896 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:16:45.591 DEBUG 14896 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:16:45.633 DEBUG 14896 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:16:45.742  INFO 14896 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:16:45.742  INFO 14896 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:16:46.632  INFO 14896 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:16:46.636 DEBUG 14896 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:16:46.636 DEBUG 14896 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:16:46.638 DEBUG 14896 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:16:46.638  INFO 14896 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:16:46.638  INFO 14896 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:16:46.824  INFO 14896 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:16:46.833 DEBUG 14896 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:16:46.834 DEBUG 14896 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:16:46.848 DEBUG 14896 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 1
2020-06-09 09:16:46.850 DEBUG 14896 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:16:46.851 DEBUG 14896 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:16:46.853 DEBUG 14896 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:16:46.853  INFO 14896 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:16:46.853  INFO 14896 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:17:01.243  INFO 14896 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=ww, email=1802585483@qq.com, content=www, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=-1, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[]))])
2020-06-09 09:17:12.205 DEBUG 14896 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id) values (?,?,?,?, ?,?,?); 
2020-06-09 09:17:12.225 DEBUG 14896 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.saveComment      : ==> Parameters: ww(String), 1802585483@qq.com(String), www(String), /images/avatar.jpg(String), 2020-06-09 09:17:12.195(Timestamp), 11(Long), -1(Long)
2020-06-09 09:17:12.235 DEBUG 14896 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.saveComment      : <==    Updates: 1
2020-06-09 09:17:14.445  INFO 14896 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:17:14.445  INFO 14896 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: redirect:/comments
2020-06-09 09:18:08.019  INFO 10104 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 10104 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 09:18:08.024 DEBUG 10104 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 09:18:08.025  INFO 10104 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 09:18:08.335  INFO 10104 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 09:18:08.336  INFO 10104 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 09:18:10.688  INFO 10104 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 09:18:10.698  INFO 10104 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 09:18:10.698  INFO 10104 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 09:18:10.812  INFO 10104 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 09:18:10.813  INFO 10104 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2477 ms
2020-06-09 09:18:11.737  INFO 10104 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 09:18:11.853  INFO 10104 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 09:18:12.292  INFO 10104 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 09:18:12.358  INFO 10104 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 09:18:12.361  INFO 10104 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 5.151 seconds (JVM running for 11.131)
2020-06-09 09:20:27.725  INFO 10104 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 09:20:27.726  INFO 10104 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 09:20:27.741  INFO 10104 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2020-06-09 09:20:27.783  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:20:27.829  INFO 10104 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 09:20:27.994  INFO 10104 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 09:20:28.005 DEBUG 10104 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:20:28.029 DEBUG 10104 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:20:28.061 DEBUG 10104 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:20:28.177  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:20:28.177  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:20:29.096  INFO 10104 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:20:29.101 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:20:29.103 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:20:29.106 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:20:29.107  INFO 10104 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:20:29.107  INFO 10104 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:20:29.296  INFO 10104 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:20:29.304 DEBUG 10104 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:20:29.304 DEBUG 10104 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:20:29.325 DEBUG 10104 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 09:20:29.326 DEBUG 10104 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:20:29.326 DEBUG 10104 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 09:20:29.327 DEBUG 10104 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:20:29.328 DEBUG 10104 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:20:29.328 DEBUG 10104 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:20:29.330 DEBUG 10104 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:20:29.330  INFO 10104 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:20:29.330  INFO 10104 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:20:36.250  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=11, email=1802585483@qq.com, content=11, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=-1, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[]))])
2020-06-09 09:20:38.522 DEBUG 10104 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id) values (?,?,?,?, ?,?,?); 
2020-06-09 09:20:38.532 DEBUG 10104 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.saveComment      : ==> Parameters: 11(String), 1802585483@qq.com(String), 11(String), /images/avatar.jpg(String), 2020-06-09 09:20:38.519(Timestamp), 11(Long), -1(Long)
2020-06-09 09:20:38.539 DEBUG 10104 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.saveComment      : <==    Updates: 1
2020-06-09 09:20:41.494  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:20:41.494  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: redirect:/comments/11
2020-06-09 09:20:41.513  INFO 10104 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:20:41.515 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:20:41.515 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:20:41.517 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 3
2020-06-09 09:20:41.518 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:20:41.519 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 09:20:41.525 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:20:41.526 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:20:41.526 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 09:20:41.528 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:20:41.528 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:20:41.528 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:20:41.530 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:20:41.530  INFO 10104 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:20:41.531  INFO 10104 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:20:53.412  INFO 10104 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=11, email=1802585483@qq.com, content=xxx, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=5, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[]))])
2020-06-09 09:20:59.866 DEBUG 10104 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id) values (?,?,?,?, ?,?,?); 
2020-06-09 09:20:59.866 DEBUG 10104 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.saveComment      : ==> Parameters: 11(String), 1802585483@qq.com(String), xxx(String), /images/avatar.jpg(String), 2020-06-09 09:20:59.855(Timestamp), 11(Long), 5(Long)
2020-06-09 09:20:59.866 DEBUG 10104 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.saveComment      : <==    Updates: 1
2020-06-09 09:20:59.866  INFO 10104 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:20:59.866  INFO 10104 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: redirect:/comments/11
2020-06-09 09:20:59.875  INFO 10104 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:20:59.875 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:20:59.875 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:20:59.875 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 3
2020-06-09 09:20:59.875 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:20:59.875 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 09:20:59.875 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:20:59.875 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:20:59.875 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 09:20:59.885 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 09:20:59.885 DEBUG 10104 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:20:59.885 DEBUG 10104 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 7(Long)
2020-06-09 09:20:59.885 DEBUG 10104 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 09:20:59.885 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:20:59.885 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:20:59.885 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:20:59.885  INFO 10104 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:20:59.895  INFO 10104 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:21:00.025 ERROR 10104 --- [http-nio-8080-exec-6] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-6] Exception processing template "blog::[commentList]": An error happened during template parsing (template: "class path resource [templates/blog.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/blog.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "reply.parentComment.nickname" (template: "blog" - line 488, col 57)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "reply.parentComment.nickname" (template: "blog" - line 488, col 57)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.AdditionExpression.executeAddition(AdditionExpression.java:96) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.ComplexExpression.executeComplex(ComplexExpression.java:62) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:112) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:293) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.attoparser.select.BlockSelectorMarkupHandler.handleCloseElementEnd(BlockSelectorMarkupHandler.java:1178) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'nickname' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	... 85 common frames omitted

2020-06-09 09:21:00.045 ERROR 10104 --- [http-nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/blog.html]")] with root cause

org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'nickname' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.AdditionExpression.executeAddition(AdditionExpression.java:96) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.ComplexExpression.executeComplex(ComplexExpression.java:62) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:112) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:293) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.attoparser.select.BlockSelectorMarkupHandler.handleCloseElementEnd(BlockSelectorMarkupHandler.java:1178) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 09:21:13.076  INFO 10104 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:21:13.098 DEBUG 10104 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:21:13.098 DEBUG 10104 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:21:13.101 DEBUG 10104 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:21:13.110  INFO 10104 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:21:13.110  INFO 10104 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:21:13.581  INFO 10104 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:21:13.587 DEBUG 10104 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:21:13.587 DEBUG 10104 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:21:13.590 DEBUG 10104 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:21:13.591  INFO 10104 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:21:13.591  INFO 10104 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:21:13.749  INFO 10104 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:21:13.749 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:21:13.749 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:21:13.752 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 3
2020-06-09 09:21:13.753 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:21:13.753 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 09:21:13.754 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:21:13.755 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:21:13.755 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 09:21:13.757 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 09:21:13.758 DEBUG 10104 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:21:13.760 DEBUG 10104 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 7(Long)
2020-06-09 09:21:13.761 DEBUG 10104 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 09:21:13.762 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:21:13.763 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:21:13.764 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:21:13.764  INFO 10104 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:21:13.764  INFO 10104 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:21:13.771 ERROR 10104 --- [http-nio-8080-exec-4] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-4] Exception processing template "blog::[commentList]": An error happened during template parsing (template: "class path resource [templates/blog.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/blog.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "reply.parentComment.nickname" (template: "blog" - line 488, col 57)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "reply.parentComment.nickname" (template: "blog" - line 488, col 57)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.AdditionExpression.executeAddition(AdditionExpression.java:96) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.ComplexExpression.executeComplex(ComplexExpression.java:62) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:112) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:293) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.attoparser.select.BlockSelectorMarkupHandler.handleCloseElementEnd(BlockSelectorMarkupHandler.java:1178) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'nickname' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	... 85 common frames omitted

2020-06-09 09:21:13.775 ERROR 10104 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/blog.html]")] with root cause

org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'nickname' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.AdditionExpression.executeAddition(AdditionExpression.java:96) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.ComplexExpression.executeComplex(ComplexExpression.java:62) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:112) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:293) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.attoparser.select.BlockSelectorMarkupHandler.handleCloseElementEnd(BlockSelectorMarkupHandler.java:1178) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 09:30:19.427  INFO 10104 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 09:30:19.911 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 09:30:19.911 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 09:30:19.916 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 09:30:19.919 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getIndexBlog        : ==>  Preparing: /*主页博客展示*/ select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id order by b.update_time desc LIMIT ? 
2020-06-09 09:30:19.920 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getIndexBlog        : ==> Parameters: 8(Integer)
2020-06-09 09:30:19.923 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getIndexBlog        : <==      Total: 1
2020-06-09 09:30:19.928 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 09:30:19.928 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 09:30:19.929 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.TypeDao.getBlogType         : <==      Total: 1
2020-06-09 09:30:19.930 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 09:30:19.930 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 09:30:19.932 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.TagDao.getBlogTag           : <==      Total: 3
2020-06-09 09:30:19.933 DEBUG 10104 --- [http-nio-8080-exec-7] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 09:30:19.934 DEBUG 10104 --- [http-nio-8080-exec-7] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 09:30:19.937 DEBUG 10104 --- [http-nio-8080-exec-7] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 1
2020-06-09 09:30:19.939  INFO 10104 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:30:19.939  INFO 10104 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: index
2020-06-09 09:30:20.578  INFO 10104 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:30:20.580 DEBUG 10104 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:30:20.581 DEBUG 10104 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:30:20.582 DEBUG 10104 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:30:20.583  INFO 10104 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:30:20.583  INFO 10104 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:30:20.860  INFO 10104 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:30:20.860 DEBUG 10104 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:30:20.860 DEBUG 10104 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:30:20.864 DEBUG 10104 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:30:20.873  INFO 10104 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:30:20.873  INFO 10104 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:30:21.408  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:30:21.409 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:30:21.409 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:30:21.411 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:30:21.411  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:30:21.411  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:30:21.594  INFO 10104 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:30:26.218 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:30:26.220 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:30:26.270 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 3
2020-06-09 09:30:43.104 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:30:43.109 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 09:30:43.114 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:31:07.184 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:31:07.184 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 09:31:07.189 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 09:31:40.599 DEBUG 10104 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:31:40.603 DEBUG 10104 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 7(Long)
2020-06-09 09:31:40.614 DEBUG 10104 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 09:35:41.120  WARN 10104 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m5s427ms207µs700ns).
2020-06-09 09:35:41.162  INFO 10104 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:35:41.173 DEBUG 10104 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:35:41.174 DEBUG 10104 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:35:41.194 DEBUG 10104 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:35:41.200  INFO 10104 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:35:41.200  INFO 10104 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:35:44.174  INFO 10104 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:35:44.178 DEBUG 10104 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:35:44.176 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:35:44.178 DEBUG 10104 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:35:44.179 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:35:44.181 DEBUG 10104 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:35:44.182  INFO 10104 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:35:44.182  INFO 10104 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:35:44.182 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:35:44.563  INFO 10104 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:35:44.582 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:35:44.590 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:35:45.006 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 3
2020-06-09 09:35:45.007 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:35:45.008 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 09:35:45.026 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:35:45.028 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:35:45.028 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 09:35:45.339 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 09:35:45.340 DEBUG 10104 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:35:45.341 DEBUG 10104 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 7(Long)
2020-06-09 09:35:45.363 DEBUG 10104 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 09:35:45.364 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:35:45.364 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:35:45.859 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:35:45.861  INFO 10104 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:35:45.861  INFO 10104 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:35:59.461 ERROR 10104 --- [http-nio-8080-exec-4] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-4] Exception processing template "blog::[commentList]": An error happened during template parsing (template: "class path resource [templates/blog.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/blog.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "reply.parentComment.nickname" (template: "blog" - line 488, col 57)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "reply.parentComment.nickname" (template: "blog" - line 488, col 57)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.AdditionExpression.executeAddition(AdditionExpression.java:96) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.ComplexExpression.executeComplex(ComplexExpression.java:62) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:112) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:293) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.attoparser.select.BlockSelectorMarkupHandler.handleCloseElementEnd(BlockSelectorMarkupHandler.java:1178) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'nickname' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	... 85 common frames omitted

2020-06-09 09:35:59.482 ERROR 10104 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/blog.html]")] with root cause

org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'nickname' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.AdditionExpression.executeAddition(AdditionExpression.java:96) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.ComplexExpression.executeComplex(ComplexExpression.java:62) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:112) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:293) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.attoparser.select.BlockSelectorMarkupHandler.handleCloseElementEnd(BlockSelectorMarkupHandler.java:1178) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 09:36:24.428  INFO 10104 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:36:24.433  INFO 10104 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:36:24.438 ERROR 10104 --- [http-nio-8080-exec-3] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-3] Exception processing template "blog::[commentList]": An error happened during template parsing (template: "class path resource [templates/blog.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/blog.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "reply.parentComment.nickname" (template: "blog" - line 488, col 57)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "reply.parentComment.nickname" (template: "blog" - line 488, col 57)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.AdditionExpression.executeAddition(AdditionExpression.java:96) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.ComplexExpression.executeComplex(ComplexExpression.java:62) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:112) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:293) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.attoparser.select.BlockSelectorMarkupHandler.handleCloseElementEnd(BlockSelectorMarkupHandler.java:1178) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'nickname' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	... 85 common frames omitted

2020-06-09 09:36:24.453 ERROR 10104 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/blog.html]")] with root cause

org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'nickname' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.AdditionExpression.executeAddition(AdditionExpression.java:96) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.ComplexExpression.executeComplex(ComplexExpression.java:62) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:112) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:293) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.attoparser.select.BlockSelectorMarkupHandler.handleCloseElementEnd(BlockSelectorMarkupHandler.java:1178) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 09:36:33.069  INFO 10104 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:36:33.188 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:36:33.188 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:36:33.201 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:36:33.205  INFO 10104 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:36:33.205  INFO 10104 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:36:33.763  INFO 10104 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:36:33.764 DEBUG 10104 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:36:33.765 DEBUG 10104 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:36:33.767 DEBUG 10104 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:36:33.768  INFO 10104 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:36:33.768  INFO 10104 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:36:34.027  INFO 10104 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:36:42.735 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:36:42.739 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:36:42.756 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 3
2020-06-09 09:36:44.563 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:36:44.567 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 09:36:44.573 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:36:48.283 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:36:48.287 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 09:36:48.303 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 09:36:48.653 DEBUG 10104 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:36:48.656 DEBUG 10104 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 7(Long)
2020-06-09 09:36:48.663 DEBUG 10104 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 09:36:51.745 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:36:51.747 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:36:51.752 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:37:06.233  INFO 10104 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:37:06.233  INFO 10104 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:37:06.233 ERROR 10104 --- [http-nio-8080-exec-6] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-6] Exception processing template "blog::[commentList]": An error happened during template parsing (template: "class path resource [templates/blog.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/blog.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "reply.parentComment.nickname" (template: "blog" - line 488, col 57)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "reply.parentComment.nickname" (template: "blog" - line 488, col 57)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.AdditionExpression.executeAddition(AdditionExpression.java:96) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.ComplexExpression.executeComplex(ComplexExpression.java:62) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:112) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:293) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.attoparser.select.BlockSelectorMarkupHandler.handleCloseElementEnd(BlockSelectorMarkupHandler.java:1178) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'nickname' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	... 85 common frames omitted

2020-06-09 09:37:06.253 ERROR 10104 --- [http-nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/blog.html]")] with root cause

org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'nickname' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.AdditionExpression.executeAddition(AdditionExpression.java:96) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.ComplexExpression.executeComplex(ComplexExpression.java:62) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:112) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:293) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.attoparser.select.BlockSelectorMarkupHandler.handleCloseElementEnd(BlockSelectorMarkupHandler.java:1178) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 09:38:08.026  INFO 10104 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:38:08.029 DEBUG 10104 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:38:08.031 DEBUG 10104 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:38:08.036 DEBUG 10104 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:38:08.045  INFO 10104 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:38:08.046  INFO 10104 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:38:08.484  INFO 10104 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:38:08.485 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:38:08.485 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:38:08.487 DEBUG 10104 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:38:08.487  INFO 10104 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:38:08.487  INFO 10104 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:38:08.751  INFO 10104 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:39:20.740  WARN 10104 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m25s89ms41µs700ns).
2020-06-09 09:39:20.740 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:39:20.750 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:39:20.759 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 3
2020-06-09 09:39:20.759 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:39:20.770 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 09:39:20.770 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:39:20.775 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:39:20.775 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 09:39:20.782 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 09:39:20.782 DEBUG 10104 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:39:20.782 DEBUG 10104 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 7(Long)
2020-06-09 09:39:20.782 DEBUG 10104 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 09:39:20.790 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:39:20.790 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:39:20.790 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:40:36.680  WARN 10104 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m15s942ms737µs700ns).
2020-06-09 09:40:36.680  INFO 10104 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:40:36.680  INFO 10104 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:40:36.690 ERROR 10104 --- [http-nio-8080-exec-4] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-4] Exception processing template "blog::[commentList]": An error happened during template parsing (template: "class path resource [templates/blog.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/blog.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "reply.parentComment.nickname" (template: "blog" - line 488, col 57)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "reply.parentComment.nickname" (template: "blog" - line 488, col 57)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.AdditionExpression.executeAddition(AdditionExpression.java:96) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.ComplexExpression.executeComplex(ComplexExpression.java:62) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:112) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:293) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.attoparser.select.BlockSelectorMarkupHandler.handleCloseElementEnd(BlockSelectorMarkupHandler.java:1178) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'nickname' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	... 85 common frames omitted

2020-06-09 09:40:36.709 ERROR 10104 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/blog.html]")] with root cause

org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'nickname' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.AdditionExpression.executeAddition(AdditionExpression.java:96) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.ComplexExpression.executeComplex(ComplexExpression.java:62) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:112) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:293) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.attoparser.select.BlockSelectorMarkupHandler.handleCloseElementEnd(BlockSelectorMarkupHandler.java:1178) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 09:41:52.824  INFO 10104 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:41:52.826 DEBUG 10104 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:41:52.826 DEBUG 10104 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:41:52.838 DEBUG 10104 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:41:52.841  INFO 10104 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:41:52.842  INFO 10104 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:41:53.349  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:41:53.349 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:41:53.350 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:41:53.351 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:41:53.351  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:41:53.351  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:41:54.494  INFO 10104 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:41:56.836 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:41:56.838 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:41:56.847 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 3
2020-06-09 09:41:56.851 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:41:56.852 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 09:41:56.856 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:41:56.861 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:41:56.862 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 09:41:56.869 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 09:41:56.872 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:41:56.874 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 7(Long)
2020-06-09 09:41:56.878 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 09:41:56.882 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:41:56.883 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:41:56.887 DEBUG 10104 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:42:27.170  WARN 10104 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s449ms895µs400ns).
2020-06-09 09:43:15.290  WARN 10104 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=48s121ms268µs300ns).
2020-06-09 09:43:15.290  INFO 10104 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:43:15.291  INFO 10104 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:43:15.299 ERROR 10104 --- [http-nio-8080-exec-7] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-7] Exception processing template "blog::[commentList]": An error happened during template parsing (template: "class path resource [templates/blog.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/blog.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) [thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) [thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "reply.parentComment.nickname" (template: "blog" - line 488, col 57)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "reply.parentComment.nickname" (template: "blog" - line 488, col 57)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.AdditionExpression.executeAddition(AdditionExpression.java:96) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.ComplexExpression.executeComplex(ComplexExpression.java:62) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:112) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:293) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.attoparser.select.BlockSelectorMarkupHandler.handleCloseElementEnd(BlockSelectorMarkupHandler.java:1178) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'nickname' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	... 85 common frames omitted

2020-06-09 09:43:15.305 ERROR 10104 --- [http-nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/blog.html]")] with root cause

org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'nickname' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.AdditionExpression.executeAddition(AdditionExpression.java:96) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.ComplexExpression.executeComplex(ComplexExpression.java:62) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:112) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:293) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.attoparser.select.BlockSelectorMarkupHandler.handleCloseElementEnd(BlockSelectorMarkupHandler.java:1178) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189) ~[thymeleaf-spring5-3.0.11.RELEASE.jar:3.0.11.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 09:43:19.156  INFO 10104 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:43:19.164 DEBUG 10104 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:43:19.165 DEBUG 10104 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:43:19.167 DEBUG 10104 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:43:19.176  INFO 10104 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:43:19.176  INFO 10104 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:43:19.693  INFO 10104 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:43:19.694 DEBUG 10104 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:43:19.695 DEBUG 10104 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:43:19.699 DEBUG 10104 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:43:19.700  INFO 10104 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:43:19.700  INFO 10104 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:43:19.950  INFO 10104 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:43:21.846 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:43:21.846 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:43:21.847 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 3
2020-06-09 09:43:21.848 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:43:21.848 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 09:43:21.849 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:43:21.850 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:43:21.850 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 09:43:21.852 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 09:43:21.853 DEBUG 10104 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:43:21.853 DEBUG 10104 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 7(Long)
2020-06-09 09:43:21.854 DEBUG 10104 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 09:43:21.855 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:43:21.855 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:43:21.856 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:43:21.856  INFO 10104 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:43:21.856  INFO 10104 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:44:36.780  INFO 10104 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:44:36.781 DEBUG 10104 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:44:36.781 DEBUG 10104 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:44:36.784 DEBUG 10104 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:44:36.789  INFO 10104 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:44:36.789  INFO 10104 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:44:37.233  INFO 10104 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:44:37.237 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:44:37.239 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:44:37.241 DEBUG 10104 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:44:37.242  INFO 10104 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:44:37.242  INFO 10104 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:44:37.477  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:44:41.984 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:44:41.984 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:44:41.986 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 3
2020-06-09 09:44:41.987 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:44:41.987 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 09:44:41.988 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:44:41.989 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:44:41.989 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 09:44:41.991 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 09:44:41.991 DEBUG 10104 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:44:41.991 DEBUG 10104 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 7(Long)
2020-06-09 09:44:41.993 DEBUG 10104 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 09:44:41.993 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:44:41.993 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:44:41.995 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:44:41.995  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:44:41.995  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:44:55.222  INFO 10104 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=22, email=1802585483@qq.com, content=222, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=7, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[]))])
2020-06-09 09:44:55.223 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id) values (?,?,?,?, ?,?,?); 
2020-06-09 09:44:55.224 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.saveComment      : ==> Parameters: 22(String), 1802585483@qq.com(String), 222(String), /images/avatar.jpg(String), 2020-06-09 09:44:55.222(Timestamp), 11(Long), 7(Long)
2020-06-09 09:44:55.231 DEBUG 10104 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.saveComment      : <==    Updates: 1
2020-06-09 09:44:55.231  INFO 10104 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:44:55.231  INFO 10104 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: redirect:/comments/11
2020-06-09 09:44:55.235  INFO 10104 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:45:00.539 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:45:00.544 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:45:00.549 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 3
2020-06-09 09:45:00.559 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:45:00.559 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 09:45:00.565 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:45:00.569 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:45:00.569 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 09:45:00.579 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 09:45:00.579 DEBUG 10104 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:45:00.579 DEBUG 10104 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 7(Long)
2020-06-09 09:45:00.579 DEBUG 10104 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 09:45:00.589 DEBUG 10104 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:45:00.589 DEBUG 10104 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 8(Long)
2020-06-09 09:45:00.589 DEBUG 10104 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 09:45:00.589 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:45:00.589 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:45:00.599 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:45:31.449  INFO 10104 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:45:31.449  INFO 10104 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:45:50.714  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.loginPage, args=[])
2020-06-09 09:45:50.729  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:45:50.729  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: admin/login
2020-06-09 09:45:55.425  INFO 10104 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/login, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.login, args=[ldd, 123, org.apache.catalina.session.StandardSessionFacade@41afc14b, {}])
2020-06-09 09:45:55.428 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.U.queryByUsernameAndPassword       : ==>  Preparing: select * from blog.t_user where username = ? and password = ?; 
2020-06-09 09:45:55.428 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.U.queryByUsernameAndPassword       : ==> Parameters: ldd(String), 202cb962ac59075b964b07152d234b70(String)
2020-06-09 09:45:55.431 DEBUG 10104 --- [http-nio-8080-exec-5] c.b.d.U.queryByUsernameAndPassword       : <==      Total: 1
2020-06-09 09:45:55.431  INFO 10104 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:45:55.432  INFO 10104 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: admin/index
2020-06-09 09:45:57.403  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:45:57.404 DEBUG 10104 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:45:57.405 DEBUG 10104 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:45:57.411 DEBUG 10104 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:45:57.415  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:45:57.415  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:45:57.886  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:45:57.886 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:45:57.887 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:45:57.888 DEBUG 10104 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:45:57.888  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:45:57.888  INFO 10104 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:45:58.069  INFO 10104 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:46:01.125 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:46:01.126 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:46:01.129 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 3
2020-06-09 09:46:01.130 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:46:01.130 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 09:46:01.132 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:46:01.133 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:46:01.133 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 09:46:01.135 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 09:46:01.135 DEBUG 10104 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:46:01.136 DEBUG 10104 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 7(Long)
2020-06-09 09:46:01.137 DEBUG 10104 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 09:46:01.137 DEBUG 10104 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:46:01.138 DEBUG 10104 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 8(Long)
2020-06-09 09:46:01.139 DEBUG 10104 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 09:46:01.140 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:46:01.140 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:46:01.141 DEBUG 10104 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:46:01.142  INFO 10104 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:46:01.142  INFO 10104 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:52:04.430  INFO 18204 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 18204 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 09:52:04.432 DEBUG 18204 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 09:52:04.433  INFO 18204 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 09:52:04.534  INFO 18204 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 09:52:04.534  INFO 18204 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 09:52:07.155  INFO 18204 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 09:52:07.166  INFO 18204 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 09:52:07.166  INFO 18204 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 09:52:07.266  INFO 18204 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 09:52:07.266  INFO 18204 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2732 ms
2020-06-09 09:52:08.304  INFO 18204 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 09:52:08.435  INFO 18204 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 09:52:08.870  INFO 18204 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 09:52:08.926  INFO 18204 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 09:52:08.930  INFO 18204 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 5.035 seconds (JVM running for 10.961)
2020-06-09 09:52:33.831  INFO 18204 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 09:52:33.832  INFO 18204 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 09:52:33.848  INFO 18204 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 16 ms
2020-06-09 09:52:33.892  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:52:33.941  INFO 18204 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 09:52:34.141  INFO 18204 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 09:52:34.148 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:52:34.174 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:52:34.205 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:52:34.284  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:52:34.285  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:52:35.315  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:52:35.322 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:52:35.322 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:52:35.324 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:52:35.325  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:52:35.325  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:52:35.495  INFO 18204 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:52:35.497 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:52:35.498 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:52:35.508 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 3
2020-06-09 09:52:35.509 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:52:35.509 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 09:52:35.510 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:52:35.511 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:52:35.512 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 09:52:35.513 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 09:52:35.514 DEBUG 18204 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:52:35.515 DEBUG 18204 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 7(Long)
2020-06-09 09:52:35.517 DEBUG 18204 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 09:52:35.520 DEBUG 18204 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:52:35.521 DEBUG 18204 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 8(Long)
2020-06-09 09:52:35.524 DEBUG 18204 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 09:52:35.524 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:52:35.524 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:52:35.526 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:52:35.526  INFO 18204 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:52:35.526  INFO 18204 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:52:53.007  INFO 18204 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/login, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.login, args=[ldd, 123, org.apache.catalina.session.StandardSessionFacade@3c4500ad, {}])
2020-06-09 09:52:53.013 DEBUG 18204 --- [http-nio-8080-exec-3] c.b.d.U.queryByUsernameAndPassword       : ==>  Preparing: select * from blog.t_user where username = ? and password = ?; 
2020-06-09 09:52:53.013 DEBUG 18204 --- [http-nio-8080-exec-3] c.b.d.U.queryByUsernameAndPassword       : ==> Parameters: ldd(String), 202cb962ac59075b964b07152d234b70(String)
2020-06-09 09:52:53.015 DEBUG 18204 --- [http-nio-8080-exec-3] c.b.d.U.queryByUsernameAndPassword       : <==      Total: 1
2020-06-09 09:52:53.016  INFO 18204 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:52:53.016  INFO 18204 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: admin/index
2020-06-09 09:52:55.000  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 09:52:55.005 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 09:52:55.005 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 09:52:55.011 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 09:52:55.021  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:52:55.022  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 09:52:55.459  INFO 18204 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 09:52:55.459 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 09:52:55.460 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 09:52:55.463 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 09:52:55.463  INFO 18204 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:52:55.463  INFO 18204 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 09:52:55.658  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:52:55.659 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:52:55.659 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:52:55.660 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 3
2020-06-09 09:52:55.661 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:52:55.662 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 09:52:55.663 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:52:55.664 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:52:55.664 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 09:52:55.667 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 09:52:55.671 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:52:55.672 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 7(Long)
2020-06-09 09:52:55.674 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 09:52:55.675 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:52:55.676 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 8(Long)
2020-06-09 09:52:55.679 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 09:52:55.681 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:52:55.681 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:52:55.691 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:52:55.692  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:52:55.693  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 09:53:05.059  INFO 18204 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=键上艺术家, email=13803345745@163.com, content=aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=-1, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[])), org.apache.catalina.session.StandardSessionFacade@3c4500ad])
2020-06-09 09:53:05.061 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getBlog             : ==>  Preparing: /*后台展示博客*/ select b.id, b.published, b.flag, b.title, b.content, b.type_id typeid, ty.name typename, b.first_picture, b.description, b.recommend, b.share_statement, b.appreciation, b.commentabled , t.id tagid ,t.name tagname from t_blog b left join t_type ty on ty.id=b.type_id LEFT JOIN t_blog_tags bt on bt.blogs_id = b.id left join t_tag t on t.id= bt.tags_id where b.id = ?; 
2020-06-09 09:53:05.061 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getBlog             : ==> Parameters: 11(Long)
2020-06-09 09:53:05.068 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getBlog             : <==      Total: 3
2020-06-09 09:53:05.069 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id, admincomment) values (?,?,?,?, ?,?,?, ?); 
2020-06-09 09:53:05.071 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : ==> Parameters: 键上艺术家(String), 13803345745@163.com(String), aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa(String), http://img5.imgtn.bdimg.com/it/u=871084579,2353160254&fm=26&gp=0.jpg(String), 2020-06-09 09:53:05.068(Timestamp), null, -1(Long), true(Boolean)
2020-06-09 09:53:05.075 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : <==    Updates: 1
2020-06-09 09:53:05.075  INFO 18204 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:53:05.076  INFO 18204 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: redirect:/comments/11
2020-06-09 09:53:05.090  INFO 18204 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 09:53:05.091 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:53:05.091 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 09:53:05.094 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 4
2020-06-09 09:53:05.095 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:53:05.095 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 9(Long)
2020-06-09 09:53:05.096 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:53:05.097 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:53:05.097 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 09:53:05.099 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:53:05.099 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:53:05.100 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 09:53:05.101 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 09:53:05.102 DEBUG 18204 --- [http-nio-8080-exec-8] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:53:05.102 DEBUG 18204 --- [http-nio-8080-exec-8] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 7(Long)
2020-06-09 09:53:05.105 DEBUG 18204 --- [http-nio-8080-exec-8] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 09:53:05.105 DEBUG 18204 --- [http-nio-8080-exec-8] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:53:05.105 DEBUG 18204 --- [http-nio-8080-exec-8] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 8(Long)
2020-06-09 09:53:05.107 DEBUG 18204 --- [http-nio-8080-exec-8] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 09:53:05.108 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 09:53:05.108 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 09:53:05.110 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 09:53:05.110  INFO 18204 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 09:53:05.110  INFO 18204 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:00:37.761  INFO 18204 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 10:00:37.768 DEBUG 18204 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:00:37.771 DEBUG 18204 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:00:37.774 DEBUG 18204 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:00:37.783  INFO 18204 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:00:37.783  INFO 18204 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:00:38.337  INFO 18204 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:00:38.338 DEBUG 18204 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:00:38.339 DEBUG 18204 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:00:38.351 DEBUG 18204 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:00:38.351  INFO 18204 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:00:38.351  INFO 18204 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:00:38.533  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:00:38.533 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:00:38.534 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:00:38.535 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 4
2020-06-09 10:00:38.536 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:00:38.536 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 9(Long)
2020-06-09 10:00:38.539 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:00:38.540 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:00:38.540 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 10:00:38.547 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:00:38.548 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:00:38.548 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 10:00:38.550 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:00:38.551 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:00:38.551 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 7(Long)
2020-06-09 10:00:38.553 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:00:38.553 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:00:38.554 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 8(Long)
2020-06-09 10:00:38.571 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:00:38.572 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:00:38.572 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 10:00:38.574 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:00:38.574  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:00:38.574  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:00:51.137  INFO 18204 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=键上艺术家, email=1802585483@qq.com, content=4444, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=8, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[])), org.apache.catalina.session.StandardSessionFacade@3c4500ad])
2020-06-09 10:00:51.138 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getBlog             : ==>  Preparing: /*后台展示博客*/ select b.id, b.published, b.flag, b.title, b.content, b.type_id typeid, ty.name typename, b.first_picture, b.description, b.recommend, b.share_statement, b.appreciation, b.commentabled , t.id tagid ,t.name tagname from t_blog b left join t_type ty on ty.id=b.type_id LEFT JOIN t_blog_tags bt on bt.blogs_id = b.id left join t_tag t on t.id= bt.tags_id where b.id = ?; 
2020-06-09 10:00:51.139 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getBlog             : ==> Parameters: 11(Long)
2020-06-09 10:00:51.157 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getBlog             : <==      Total: 3
2020-06-09 10:00:51.157 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id, admincomment) values (?,?,?,?, ?,?,?, ?); 
2020-06-09 10:00:51.158 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : ==> Parameters: 键上艺术家(String), 1802585483@qq.com(String), 4444(String), http://img5.imgtn.bdimg.com/it/u=871084579,2353160254&fm=26&gp=0.jpg(String), 2020-06-09 10:00:51.157(Timestamp), null, 8(Long), true(Boolean)
2020-06-09 10:00:51.164 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : <==    Updates: 1
2020-06-09 10:00:51.164  INFO 18204 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:00:51.164  INFO 18204 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: redirect:/comments/11
2020-06-09 10:00:51.170  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:00:51.171 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:00:51.172 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:00:51.174 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 4
2020-06-09 10:00:51.175 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:00:51.175 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 9(Long)
2020-06-09 10:00:51.176 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:00:51.177 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:00:51.177 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 6(Long)
2020-06-09 10:00:51.179 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:00:51.179 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:00:51.179 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 5(Long)
2020-06-09 10:00:51.181 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:00:51.181 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:00:51.181 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 7(Long)
2020-06-09 10:00:51.183 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:00:51.184 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:00:51.185 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 8(Long)
2020-06-09 10:00:51.186 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:00:51.187 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:00:51.188 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 10(Long)
2020-06-09 10:00:51.189 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:00:51.189 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:00:51.190 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 4(Long)
2020-06-09 10:00:51.191 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:00:51.191  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:00:51.191  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:01:25.522  INFO 18204 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 10:01:25.557 DEBUG 18204 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:01:25.558 DEBUG 18204 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:01:25.561 DEBUG 18204 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:01:25.566  INFO 18204 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:01:25.566  INFO 18204 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:01:26.098  INFO 18204 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:01:26.100 DEBUG 18204 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:01:26.100 DEBUG 18204 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:01:26.101 DEBUG 18204 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:01:26.102  INFO 18204 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:01:26.103  INFO 18204 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:01:26.367  INFO 18204 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:01:26.368 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:01:26.368 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:01:26.372 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 0
2020-06-09 10:01:26.374  INFO 18204 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:01:26.375  INFO 18204 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:01:58.496  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=键上艺术家, email=1802585483@qq.com, content=有问题Q我呦, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=-1, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[])), org.apache.catalina.session.StandardSessionFacade@3c4500ad])
2020-06-09 10:01:58.498 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getBlog             : ==>  Preparing: /*后台展示博客*/ select b.id, b.published, b.flag, b.title, b.content, b.type_id typeid, ty.name typename, b.first_picture, b.description, b.recommend, b.share_statement, b.appreciation, b.commentabled , t.id tagid ,t.name tagname from t_blog b left join t_type ty on ty.id=b.type_id LEFT JOIN t_blog_tags bt on bt.blogs_id = b.id left join t_tag t on t.id= bt.tags_id where b.id = ?; 
2020-06-09 10:01:58.499 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getBlog             : ==> Parameters: 11(Long)
2020-06-09 10:01:58.501 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getBlog             : <==      Total: 3
2020-06-09 10:01:58.502 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id, admincomment) values (?,?,?,?, ?,?,?, ?); 
2020-06-09 10:01:58.502 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.saveComment      : ==> Parameters: 键上艺术家(String), 1802585483@qq.com(String), 有问题Q我呦(String), http://img5.imgtn.bdimg.com/it/u=871084579,2353160254&fm=26&gp=0.jpg(String), 2020-06-09 10:01:58.502(Timestamp), null, -1(Long), true(Boolean)
2020-06-09 10:01:58.508 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.saveComment      : <==    Updates: 1
2020-06-09 10:01:58.508  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:01:58.508  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: redirect:/comments/11
2020-06-09 10:01:58.514  INFO 18204 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:01:58.515 DEBUG 18204 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:01:58.515 DEBUG 18204 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:01:58.517 DEBUG 18204 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 1
2020-06-09 10:01:58.517 DEBUG 18204 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:01:58.517 DEBUG 18204 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:01:58.519 DEBUG 18204 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:01:58.519  INFO 18204 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:01:58.519  INFO 18204 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:02:02.183  INFO 18204 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/logout, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.logout, args=[org.apache.catalina.session.StandardSessionFacade@3c4500ad])
2020-06-09 10:02:02.183  INFO 18204 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:02:02.184  INFO 18204 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: redirect:/admin
2020-06-09 10:02:02.196  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.loginPage, args=[])
2020-06-09 10:02:02.197  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:02:02.197  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: admin/login
2020-06-09 10:02:46.272  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=微微, email=1802585483@qq.com, content=博主，留言板怎么实现的呀，求解, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=-1, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[])), org.apache.catalina.session.StandardSessionFacade@3c4500ad])
2020-06-09 10:02:46.273 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getBlog             : ==>  Preparing: /*后台展示博客*/ select b.id, b.published, b.flag, b.title, b.content, b.type_id typeid, ty.name typename, b.first_picture, b.description, b.recommend, b.share_statement, b.appreciation, b.commentabled , t.id tagid ,t.name tagname from t_blog b left join t_type ty on ty.id=b.type_id LEFT JOIN t_blog_tags bt on bt.blogs_id = b.id left join t_tag t on t.id= bt.tags_id where b.id = ?; 
2020-06-09 10:02:46.274 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getBlog             : ==> Parameters: 11(Long)
2020-06-09 10:02:46.277 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getBlog             : <==      Total: 3
2020-06-09 10:02:46.277 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id, admincomment) values (?,?,?,?, ?,?,?, ?); 
2020-06-09 10:02:46.278 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.saveComment      : ==> Parameters: 微微(String), 1802585483@qq.com(String), 博主，留言板怎么实现的呀，求解(String), /images/avatar.jpg(String), 2020-06-09 10:02:46.277(Timestamp), null, -1(Long), false(Boolean)
2020-06-09 10:02:46.284 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.saveComment      : <==    Updates: 1
2020-06-09 10:02:46.285  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:02:46.285  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: redirect:/comments/11
2020-06-09 10:02:46.290  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:02:46.291 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:02:46.291 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:02:46.292 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:02:46.293 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:02:46.293 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:02:46.294 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:02:46.294 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:02:46.295 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:02:46.296 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:02:46.297  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:02:46.297  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:05:06.889  INFO 18204 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=微微, email=1802585483@qq.com, content=后面我会把制作博客的过程写出来，敬请期待吧，你也可以跳转到这篇文章上面的B站链接，学习李仁密同学的讲解视频~, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=12, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[])), org.apache.catalina.session.StandardSessionFacade@3c4500ad])
2020-06-09 10:05:06.891 DEBUG 18204 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getBlog             : ==>  Preparing: /*后台展示博客*/ select b.id, b.published, b.flag, b.title, b.content, b.type_id typeid, ty.name typename, b.first_picture, b.description, b.recommend, b.share_statement, b.appreciation, b.commentabled , t.id tagid ,t.name tagname from t_blog b left join t_type ty on ty.id=b.type_id LEFT JOIN t_blog_tags bt on bt.blogs_id = b.id left join t_tag t on t.id= bt.tags_id where b.id = ?; 
2020-06-09 10:05:06.891 DEBUG 18204 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getBlog             : ==> Parameters: 11(Long)
2020-06-09 10:05:06.894 DEBUG 18204 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getBlog             : <==      Total: 3
2020-06-09 10:05:06.895 DEBUG 18204 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id, admincomment) values (?,?,?,?, ?,?,?, ?); 
2020-06-09 10:05:06.896 DEBUG 18204 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.saveComment      : ==> Parameters: 微微(String), 1802585483@qq.com(String), 后面我会把制作博客的过程写出来，敬请期待吧，你也可以跳转到这篇文章上面的B站链接，学习李仁密同学的讲解视频~(String), /images/avatar.jpg(String), 2020-06-09 10:05:06.894(Timestamp), null, 12(Long), false(Boolean)
2020-06-09 10:05:06.902 DEBUG 18204 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.saveComment      : <==    Updates: 1
2020-06-09 10:05:06.902  INFO 18204 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:05:06.903  INFO 18204 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: redirect:/comments/11
2020-06-09 10:05:06.907  INFO 18204 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:05:06.907 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:05:06.908 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:05:06.909 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:05:06.910 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:05:06.910 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:05:06.912 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:05:06.913 DEBUG 18204 --- [http-nio-8080-exec-8] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:05:06.913 DEBUG 18204 --- [http-nio-8080-exec-8] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 13(Long)
2020-06-09 10:05:06.915 DEBUG 18204 --- [http-nio-8080-exec-8] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:05:06.916 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:05:06.916 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:05:06.917 DEBUG 18204 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:05:06.918  INFO 18204 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:05:06.918  INFO 18204 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:05:37.353  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/login, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.login, args=[ldd, 123, org.apache.catalina.session.StandardSessionFacade@3c4500ad, {}])
2020-06-09 10:05:37.354 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.d.U.queryByUsernameAndPassword       : ==>  Preparing: select * from blog.t_user where username = ? and password = ?; 
2020-06-09 10:05:37.354 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.d.U.queryByUsernameAndPassword       : ==> Parameters: ldd(String), 202cb962ac59075b964b07152d234b70(String)
2020-06-09 10:05:37.356 DEBUG 18204 --- [http-nio-8080-exec-1] c.b.d.U.queryByUsernameAndPassword       : <==      Total: 1
2020-06-09 10:05:37.356  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:05:37.356  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: admin/index
2020-06-09 10:05:39.560  INFO 18204 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 10:05:39.571 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:05:39.573 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:05:39.576 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:05:39.580  INFO 18204 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:05:39.580  INFO 18204 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:05:40.240  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:05:40.242 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:05:40.243 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:05:40.244 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:05:40.245  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:05:40.245  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:05:40.442  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:05:40.442 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:05:40.443 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:05:40.447 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:05:40.447 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:05:40.447 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:05:40.456 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:05:40.458 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:05:40.458 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:05:40.461 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:05:40.462  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:05:40.462  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:07:19.524  INFO 18204 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=键上艺术家, email=1802585483@qq.com, content=后面我会出讲解文章的，你也可以跳转到该B站链接：https://www.bilibili.com/video/BV1nE411r7TF?p=43，跟着李仁密同学的讲解视频学习，, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=12, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[])), org.apache.catalina.session.StandardSessionFacade@3c4500ad])
2020-06-09 10:07:19.526 DEBUG 18204 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.getBlog             : ==>  Preparing: /*后台展示博客*/ select b.id, b.published, b.flag, b.title, b.content, b.type_id typeid, ty.name typename, b.first_picture, b.description, b.recommend, b.share_statement, b.appreciation, b.commentabled , t.id tagid ,t.name tagname from t_blog b left join t_type ty on ty.id=b.type_id LEFT JOIN t_blog_tags bt on bt.blogs_id = b.id left join t_tag t on t.id= bt.tags_id where b.id = ?; 
2020-06-09 10:07:19.526 DEBUG 18204 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.getBlog             : ==> Parameters: 11(Long)
2020-06-09 10:07:19.530 DEBUG 18204 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.getBlog             : <==      Total: 3
2020-06-09 10:07:19.530 DEBUG 18204 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id, admincomment) values (?,?,?,?, ?,?,?, ?); 
2020-06-09 10:07:19.531 DEBUG 18204 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.saveComment      : ==> Parameters: 键上艺术家(String), 1802585483@qq.com(String), 后面我会出讲解文章的，你也可以跳转到该B站链接：https://www.bilibili.com/video/BV1nE411r7TF?p=43，跟着李仁密同学的讲解视频学习，(String), http://img5.imgtn.bdimg.com/it/u=871084579,2353160254&fm=26&gp=0.jpg(String), 2020-06-09 10:07:19.53(Timestamp), null, 12(Long), true(Boolean)
2020-06-09 10:07:19.537 DEBUG 18204 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.saveComment      : <==    Updates: 1
2020-06-09 10:07:19.537  INFO 18204 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:07:19.537  INFO 18204 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: redirect:/comments/11
2020-06-09 10:07:19.541  INFO 18204 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:07:19.542 DEBUG 18204 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:07:19.542 DEBUG 18204 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:07:19.544 DEBUG 18204 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:07:19.545 DEBUG 18204 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:07:19.546 DEBUG 18204 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:07:19.547 DEBUG 18204 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:07:19.548 DEBUG 18204 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:07:19.548 DEBUG 18204 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:07:19.550 DEBUG 18204 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:07:19.550 DEBUG 18204 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:07:19.550 DEBUG 18204 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:07:19.551 DEBUG 18204 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:07:19.552  INFO 18204 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:07:19.552  INFO 18204 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:07:28.861  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.blogs, args=[1, {}])
2020-06-09 10:07:29.027 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t WHERE b.type_id = t.id 
2020-06-09 10:07:29.028 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==> Parameters: 
2020-06-09 10:07:29.033 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getAllBlog_COUNT    : <==      Total: 1
2020-06-09 10:07:29.034 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getAllBlog          : ==>  Preparing: /*后台博客展示*/ select b.id, b.title, b.update_time, b.recommend, b.type_id, b.published, t.id typeid, t.name typename from t_blog b, t_type t where b.type_id = t.id /*博客类型id=类型id*/ LIMIT ? 
2020-06-09 10:07:29.034 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getAllBlog          : ==> Parameters: 5(Integer)
2020-06-09 10:07:29.036 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getAllBlog          : <==      Total: 1
2020-06-09 10:07:29.078 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getAllType          : ==>  Preparing: select * from t_type 
2020-06-09 10:07:29.079 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getAllType          : ==> Parameters: 
2020-06-09 10:07:29.081 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getAllType          : <==      Total: 2
2020-06-09 10:07:29.084 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getAllTag            : ==>  Preparing: select * from blog.t_tag 
2020-06-09 10:07:29.084 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getAllTag            : ==> Parameters: 
2020-06-09 10:07:29.085 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getAllTag            : <==      Total: 4
2020-06-09 10:07:29.086  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:07:29.086  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: admin/blogs
2020-06-09 10:07:30.712  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs/11/input, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.toEditBlog, args=[11, {}])
2020-06-09 10:07:30.713 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getBlog             : ==>  Preparing: /*后台展示博客*/ select b.id, b.published, b.flag, b.title, b.content, b.type_id typeid, ty.name typename, b.first_picture, b.description, b.recommend, b.share_statement, b.appreciation, b.commentabled , t.id tagid ,t.name tagname from t_blog b left join t_type ty on ty.id=b.type_id LEFT JOIN t_blog_tags bt on bt.blogs_id = b.id left join t_tag t on t.id= bt.tags_id where b.id = ?; 
2020-06-09 10:07:30.713 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getBlog             : ==> Parameters: 11(Long)
2020-06-09 10:07:30.716 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getBlog             : <==      Total: 3
2020-06-09 10:07:30.717 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.TypeDao.getAllType          : ==>  Preparing: select * from t_type 
2020-06-09 10:07:30.718 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.TypeDao.getAllType          : ==> Parameters: 
2020-06-09 10:07:30.720 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.TypeDao.getAllType          : <==      Total: 2
2020-06-09 10:07:30.724 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.TagDao.getAllTag            : ==>  Preparing: select * from blog.t_tag 
2020-06-09 10:07:30.724 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.TagDao.getAllTag            : ==> Parameters: 
2020-06-09 10:07:30.725 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.TagDao.getAllTag            : <==      Total: 4
2020-06-09 10:07:30.725  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:07:30.726  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: admin/blogs-input
2020-06-09 10:07:43.383  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.addBlog, args=[Blog(id=11, title=Spring Boot开发小而美的个人博客, content=# Spring Boot开发小而美的个人博客

> 原文作者：李仁密

> B站教学地址 : https://www.bilibili.com/video/BV1nE411r7TF?p=43

**个人博客功能：**


**技术组合：**

- 后端：Spring Boot + JPA + thymeleaf模板
- 数据库：MySQL
- 前端UI：Semantic UI框架

**工具与环境：**

- IDEA
- Maven 3
- JDK 8
- Axure RP 8

**课程内容模块：**

- 需求分析与功能规划
- 页面设计与开发
- 技术框架搭建
- 后端管理功能实现
- 前端管理功能实现

**你能学得什么？**

- 基于Spring Boot的完整全栈式的开发套路
- Semantic UI框架的使用
- 一套博客系统的源代码与设计

## 1、需求与功能

### 1.1 用户故事

用户故事是敏捷框架中的一种开发方法。可以帮助开发者转换视角，以用户的角度更好的把握需求，从而实现具有商业价值的功能。

> 用户故事最好是用户团队编写

**用户故事模板**：

- As a (role of user), I want (some feature) so that (some business value).
- 作为一个(某个角色) 使用者，我可以做(某个功能) 事情，如此可以有(某个商业价值) 的好处

**关键点**：角色、功能、商业价值

**举例**：

- 作为一个招聘网站**注册用户**，我想**查看最近3天发布的招聘信息**，以便于**了解最新的招聘信息**。
- 作为公司，可以张贴新工作。



个人博客系统的用户故事：

角色：**普通访客**，**管理员（我）**

- 访客，可以分页查看所有的博客
- 访客，可以快速查看博客数最多的6个分类
- 访客，可以查看所有的分类
- 访客，可以查看某个分类下的博客列表
- 访客，可以快速查看标记博客最多的10个标签
- 访客，可以查看所有的标签
- 访客，可以查看某个标签下的博客列表
- 访客，可以根据年度时间线查看博客列表
- 访客，可以快速查看最新的推荐博客
- 访客，可以用关键字全局搜索博客
- 访客，可以查看单个博客内容
- 访客，可以对博客内容进行评论
- 访客，可以赞赏博客内容
- 访客，可以微信扫码阅读博客内容
- 访客，可以在首页扫描公众号二维码关注我
- 我，可以用户名和密码登录后台管理
- 我，可以管理博客
  - 我，可以发布新博客
  - 我，可以对博客进行分类
  - 我，可以对博客打标签
  - 我，可以修改博客
  - 我，可以删除博客
  - 我，可以根据标题，分类，标签查询博客
- 我，可以管理博客分类
  - 我，可以新增一个分类
  - 我，可以修改一个分类
  - 我，可以删除一个分类
  - 我，可以根据分类名称查询分类
- 我，可以管理标签
  - 我，可以新增一个标签
  - 我，可以修改一个标签
  - 我，可以删除一个标签
  - 我，可以根据名称查询标签

### 1.2 功能规划

![](https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg)

## 2、页面设计与开发

### 2.1 设计

**页面规划：**

前端展示：首页、详情页、分类、标签、归档、关于我

后台管理：模板页

### 2.2 页面开发



[Semantic UI官网](https://semantic-ui.com/)

[Semantic UI中文官网](http://www.semantic-ui.cn/)

[WebStorm下载与破解](https://imcoding.me/blogs/5)

[背景图片资源](https://www.toptal.com/designers/subtlepatterns/)

### 2.3 插件集成



[编辑器 Markdown](https://pandao.github.io/editor.md/)

[内容排版 typo.css](https://github.com/sofish/typo.css)

[动画 animate.css](https://daneden.github.io/animate.css/)

[代码高亮 prism](https://github.com/PrismJS/prism)

[目录生成 Tocbot](https://tscanlin.github.io/tocbot/)

[滚动侦测 waypoints](http://imakewebthings.com/waypoints/)

[平滑滚动 jquery.scrollTo](https://github.com/flesler/jquery.scrollTo)

[二维码生成 qrcode.js](https://davidshimjs.github.io/qrcodejs/)

## 3、框架搭建

> [IDEA下载 https://www.jetbrains.com/idea/](https://www.jetbrains.com/idea/)

### 3.1 构建与配置

**1、引入Spring Boot模块：**

- web
- Thymeleaf
- JPA
- MySQL
- Aspects
- DevTools

**2、application.yml配置**

- 使用 thymeleaf 3

  pom.xml:

```xml
<thymeleaf.version>3.0.2.RELEASE</thymeleaf.version>
<thymeleaf-layout-dialect.version>2.1.1</thymeleaf-layout-dialect.version>
```

  	application.yml:

```yaml
spring:
  thymeleaf:
    mode: HTML
```

- 数据库连接配置

```yaml
spring:
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://localhost:3306/blog?useUnicode=true&characterEncoding=utf-8
    username: root
    password: root
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
```

- 日志配置

  application.yml:

```yaml
logging:
  level:
    root: info
    com.imcoding: debug
  file: log/imcoding.log
```

​	logback-spring.xml：

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<configuration>
    <!--包含Spring boot对logback日志的默认配置-->
    <include resource="org/springframework/boot/logging/logback/defaults.xml" />
    <property name="LOG_FILE" value="${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}}/spring.log}"/>
    <include resource="org/springframework/boot/logging/logback/console-appender.xml" />

    <!--重写了Spring Boot框架 org/springframework/boot/logging/logback/file-appender.xml 配置-->
    <appender name="TIME_FILE"
              class="ch.qos.logback.core.rolling.RollingFileAppender">
        <encoder>
            <pattern>${FILE_LOG_PATTERN}</pattern>
        </encoder>
        <file>${LOG_FILE}</file>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${LOG_FILE}.%d{yyyy-MM-dd}.%i</fileNamePattern>
            <!--保留历史日志一个月的时间-->
            <maxHistory>30</maxHistory>
            <!--
            Spring Boot默认情况下，日志文件10M时，会切分日志文件,这样设置日志文件会在100M时切分日志
            -->
            <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
                <maxFileSize>10MB</maxFileSize>
            </timeBasedFileNamingAndTriggeringPolicy>

        </rollingPolicy>
    </appender>

    <root level="INFO">
        <appender-ref ref="CONSOLE" />
        <appender-ref ref="TIME_FILE" />
    </root>

</configuration>
<!--
    1、继承Spring boot logback设置（可以在appliaction.yml或者application.properties设置logging.*属性）
    2、重写了默认配置，设置日志文件大小在100MB时，按日期切分日志，切分后目录：

        my.2017-08-01.0   80MB
        my.2017-08-01.1   10MB
        my.2017-08-02.0   56MB
        my.2017-08-03.0   53MB
        ......
-->
```

- 生产环境与开发环境配置
  - application-dev.yml
  - application-pro.yml

### 3.2 异常处理

**1、定义错误页面**

- 404
- 500
- error

**2、全局处理异常**

统一处理异常：

```java
@ControllerAdvice
public class ControllerExceptionHandler {

    private final Logger logger = LoggerFactory.getLogger(ControllerExceptionHandler.class);
    /**
     * 异常处理
     * @param request
     * @param e
     * @return
     */
    @ExceptionHandler({Exception.class})
    public ModelAndView handleException(HttpServletRequest request, Exception e) throws Exception {

        logger.error("Request URL : {} , Exception : {}", request.getRequestURL(), e);

        if (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null) {
            throw e;
        }
        ModelAndView mav = new ModelAndView();
        mav.addObject("url", request.getRequestURL());
        mav.addObject("exception", e);
        mav.setViewName("error/error");

        return mav;
    }
}
```



错误页面异常信息显示处理：

```html
<div>
    <div th:utext="'&lt;!--'" th:remove="tag"></div>
    <div th:utext="'Failed Request URL : ' + ${url}" th:remove="tag"></div>
    <div th:utext="'Exception message : ' + ${exception.message}" th:remove="tag"></div>
    <ul th:remove="tag">
        <li th:each="st : ${exception.stackTrace}" th:remove="tag"><span th:utext="${st}" th:remove="tag"></span></li>
    </ul>
    <div th:utext="'--&gt;'" th:remove="tag"></div>
</div>
```



**3、资源找不到异常**

```java
@ResponseStatus(HttpStatus.NOT_FOUND)
public class NotFoundExcepiton extends RuntimeException {

    public NotFoundExcepiton() {
    }

    public NotFoundExcepiton(String message) {
        super(message);
    }

    public NotFoundExcepiton(String message, Throwable cause) {
        super(message, cause);
    }
}
```



### 3.3 日志处理

**1、记录日志内容**

- 请求 url
- 访问者 ip
- 调用方法 classMethod
- 参数 args
- 返回内容

**2、记录日志类：**

```java
@Aspect
@Component
public class LogAspect {

    private final Logger logger = LoggerFactory.getLogger(this.getClass());

    /**
     * 定义切面
     */
    @Pointcut("execution(* com.imcoding.web.*.*(..))")
    public void log() {
    }

    @Before("log()")
    public void doBefore(JoinPoint joinPoint) {
        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
        HttpServletRequest request = attributes.getRequest();
        String classMethod = joinPoint.getSignature().getDeclaringTypeName() + "." + joinPoint.getSignature().getName();
        ReqeustLog reqeustLog = new ReqeustLog(
                request.getRequestURL().toString(),
                request.getRemoteAddr(),
                classMethod,
                joinPoint.getArgs()
        );
        logger.info("Rquest  ----- {}",reqeustLog);
    }

    @After("log()")
    public void doAfter() {
        //logger.info("---------- doAfter 2 ----------");
    }

    @AfterReturning(returning = "result",pointcut = "log()")
    public void doAtfertRturning(Object result) {
        logger.info("Return ------ {}",result );
    }


    private class ReqeustLog {
        private String url;
        private String ip;
        private String classMethod;
        private Object[] args;

        public ReqeustLog(String url, String ip, String classMethod, Object[] args) {
            this.url = url;
            this.ip = ip;
            this.classMethod = classMethod;
            this.args = args;
        }

        @Override
        public String toString() {
            return "ReqeustLog{" +
                    "url='" + url + '\'' +
                    ", ip='" + ip + '\'' +
                    ", classMethod='" + classMethod + '\'' +
                    ", args=" + Arrays.toString(args) +
                    '}';
        }
    }

}

```



### 3.4 页面处理



**1、静态页面导入project**

**2、thymeleaf布局**

- 定义fragment
- 使用fragment布局

**3、错误页面美化**

4、设计与规范

### 4.1 实体设计

**实体类：**

- 博客 Blog
- 博客分类 Type
- 博客标签 Tag
- 博客评论 Comment
- 用户 User



**实体关系：**

![](http://on91wk3hn.bkt.clouddn.com/17-10-14/87092095.jpg)

**评论类自关联关系：**

![](http://on91wk3hn.bkt.clouddn.com/17-10-14/41296045.jpg)

**Blog类：**

![](http://on91wk3hn.bkt.clouddn.com/17-10-14/38390041.jpg)

**Type类：**

![](http://on91wk3hn.bkt.clouddn.com/17-10-14/22984471.jpg)

**Tag类：**

![](http://on91wk3hn.bkt.clouddn.com/17-10-14/70860077.jpg)

**Comment类：**

![](http://on91wk3hn.bkt.clouddn.com/17-10-14/77104424.jpg)



**User类：**

![](http://on91wk3hn.bkt.clouddn.com/17-10-14/10367795.jpg)



### 4.2 应用分层

![](http://on91wk3hn.bkt.clouddn.com/17-10-14/64528736.jpg)

### 4.3 命名约定

**Service/DAO层命名约定：**

- 获取单个对象的方法用get做前缀。
- 获取多个对象的方法用list做前缀。
- 获取统计值的方法用count做前缀。
- 插入的方法用save(推荐)或insert做前缀。
- 删除的方法用remove(推荐)或delete做前缀。
- 修改的方法用update做前缀。



![](https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg)

## 5、后台管理功能实现

### 5.1 登录



**1、构建登录页面和后台管理首页**

**2、UserService和UserRepository**

**3、LoginController实现登录**

**4、MD5加密**

**5、登录拦截器**

### 5.2 分类管理



**1、分类管理页面**

**2、分类列表分页**

```javascript
{
  "content":[
    {"id":123,"title":"blog122","content":"this is blog content"},
    {"id":122,"title":"blog121","content":"this is blog content"},
    {"id":121,"title":"blog120","content":"this is blog content"},
    {"id":120,"title":"blog119","content":"this is blog content"},
    {"id":119,"title":"blog118","content":"this is blog content"},
    {"id":118,"title":"blog117","content":"this is blog content"},
    {"id":117,"title":"blog116","content":"this is blog content"},
    {"id":116,"title":"blog115","content":"this is blog content"},
    {"id":115,"title":"blog114","content":"this is blog content"},
    {"id":114,"title":"blog113","content":"this is blog content"},
    {"id":113,"title":"blog112","content":"this is blog content"},
    {"id":112,"title":"blog111","content":"this is blog content"},
    {"id":111,"title":"blog110","content":"this is blog content"},
    {"id":110,"title":"blog109","content":"this is blog content"},
    {"id":109,"title":"blog108","content":"this is blog content"}],
  "last":false,
  "totalPages":9,
  "totalElements":123,
  "size":15,
  "number":0,
  "first":true,
  "sort":[{
    "direction":"DESC",
    "property":"id",
    "ignoreCase":false,
    "nullHandling":"NATIVE",
    "ascending":false
  }],
  "numberOfElements":15
}

```



**3、分类新增、修改、删除**

### 5.3 标签管理

### 5.4 博客管理



**1、博客分页查询**

**2、博客新增**

**3、博客修改**

**4、博客删除**

## 6、前端展示功能实现

### 6.1 首页展示



**1、博客列表**

**2、top分类**

**3、top标签**

**4、最新博客推荐**

**5、博客详情**

**1、Markdown 转换 HTML**

- [commonmark-java  https://github.com/atlassian/commonmark-java](https://github.com/atlassian/commonmark-java)
- pom.xml引用commonmark和扩展插件

```xml
<dependency>
   <groupId>com.atlassian.commonmark</groupId>
   <artifactId>commonmark</artifactId>
   <version>0.10.0</version>
</dependency>
<dependency>
   <groupId>com.atlassian.commonmark</groupId>
   <artifactId>commonmark-ext-heading-anchor</artifactId>
   <version>0.10.0</version>
</dependency>
<dependency>
   <groupId>com.atlassian.commonmark</groupId>
   <artifactId>commonmark-ext-gfm-tables</artifactId>
   <version>0.10.0</version>
</dependency>

```



**2、评论功能**



- 评论信息提交与回复功能
- 评论信息列表展示功能
- 管理员回复评论功能

### 6.2 分类页

### 6.3 标签页

### 6.4 归档页

### 6.5 关于我





, firstPicture=https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1590818036358&di=9569a5452be6c4297afbb3746283a8d3&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201804%2F18%2F172344g6tsuasyytq2dd7a.png, flag=转载, views=null, appreciation=false, shareStatement=true, commentabled=true, published=true, recommend=true, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=9,10,11, description=此文章为李仁密同学的教学文本。我第一次学习搭建个人博客，在此感谢李仁密同学录制的教学视频以及课件资源。
第一次是在B站看到的李同学搭建博客的视频，感触颇多，于是跟着视频学习了下来，期间学会了很多编程思想，期待自己能像李同学一样，用精简的代码写出优美的界面。因为之前没有学习过JPA，所以改用Mybatis操作数据库，之后会写一篇自己针对该博客的介绍的，键上艺术家，请继续保持向上的学习态度吧！, type=Type(id=8, name=null, blogs=[]), user=null, tags=[], comments=[]), org.apache.catalina.session.StandardSessionFacade@3c4500ad, {}])
2020-06-09 10:07:43.403 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getType             : ==>  Preparing: select id,name from blog.t_type where id = ? 
2020-06-09 10:07:43.404 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getType             : ==> Parameters: 8(Long)
2020-06-09 10:07:43.405 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getType             : <==      Total: 1
2020-06-09 10:07:43.410 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getTag               : ==>  Preparing: select id,name from blog.t_tag where id = ? 
2020-06-09 10:07:43.410 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getTag               : ==> Parameters: 9(Long)
2020-06-09 10:07:43.412 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getTag               : <==      Total: 1
2020-06-09 10:07:43.412 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getTag               : ==>  Preparing: select id,name from blog.t_tag where id = ? 
2020-06-09 10:07:43.412 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getTag               : ==> Parameters: 10(Long)
2020-06-09 10:07:43.414 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getTag               : <==      Total: 1
2020-06-09 10:07:43.414 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getTag               : ==>  Preparing: select id,name from blog.t_tag where id = ? 
2020-06-09 10:07:43.414 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getTag               : ==> Parameters: 11(Long)
2020-06-09 10:07:43.415 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getTag               : <==      Total: 1
2020-06-09 10:07:43.416 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:07:43.416 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 9(Long), 11(Long), 11(Long), 9(Long)
2020-06-09 10:07:43.427 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:07:43.427 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:07:43.428 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 10(Long), 11(Long), 11(Long), 10(Long)
2020-06-09 10:07:43.430 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:07:43.431 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:07:43.431 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 11(Long), 11(Long), 11(Long), 11(Long)
2020-06-09 10:07:43.433 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:07:43.433 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlog          : ==>  Preparing: update t_blog set published = ?,flag = ? , title = ?, content = ?, type_id = ?, first_picture = ? , description = ? , recommend = ? , share_statement = ?, appreciation = ?, commentabled = ? ,update_time = ? where id = ?; 
2020-06-09 10:07:43.434 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlog          : ==> Parameters: true(Boolean), 转载(String), Spring Boot开发小而美的个人博客(String), # Spring Boot开发小而美的个人博客

> 原文作者：李仁密

> B站教学地址 : https://www.bilibili.com/video/BV1nE411r7TF?p=43

**个人博客功能：**


**技术组合：**

- 后端：Spring Boot + JPA + thymeleaf模板
- 数据库：MySQL
- 前端UI：Semantic UI框架

**工具与环境：**

- IDEA
- Maven 3
- JDK 8
- Axure RP 8

**课程内容模块：**

- 需求分析与功能规划
- 页面设计与开发
- 技术框架搭建
- 后端管理功能实现
- 前端管理功能实现

**你能学得什么？**

- 基于Spring Boot的完整全栈式的开发套路
- Semantic UI框架的使用
- 一套博客系统的源代码与设计

## 1、需求与功能

### 1.1 用户故事

用户故事是敏捷框架中的一种开发方法。可以帮助开发者转换视角，以用户的角度更好的把握需求，从而实现具有商业价值的功能。

> 用户故事最好是用户团队编写

**用户故事模板**：

- As a (role of user), I want (some feature) so that (some business value).
- 作为一个(某个角色) 使用者，我可以做(某个功能) 事情，如此可以有(某个商业价值) 的好处

**关键点**：角色、功能、商业价值

**举例**：

- 作为一个招聘网站**注册用户**，我想**查看最近3天发布的招聘信息**，以便于**了解最新的招聘信息**。
- 作为公司，可以张贴新工作。



个人博客系统的用户故事：

角色：**普通访客**，**管理员（我）**

- 访客，可以分页查看所有的博客
- 访客，可以快速查看博客数最多的6个分类
- 访客，可以查看所有的分类
- 访客，可以查看某个分类下的博客列表
- 访客，可以快速查看标记博客最多的10个标签
- 访客，可以查看所有的标签
- 访客，可以查看某个标签下的博客列表
- 访客，可以根据年度时间线查看博客列表
- 访客，可以快速查看最新的推荐博客
- 访客，可以用关键字全局搜索博客
- 访客，可以查看单个博客内容
- 访客，可以对博客内容进行评论
- 访客，可以赞赏博客内容
- 访客，可以微信扫码阅读博客内容
- 访客，可以在首页扫描公众号二维码关注我
- 我，可以用户名和密码登录后台管理
- 我，可以管理博客
  - 我，可以发布新博客
  - 我，可以对博客进行分类
  - 我，可以对博客打标签
  - 我，可以修改博客
  - 我，可以删除博客
  - 我，可以根据标题，分类，标签查询博客
- 我，可以管理博客分类
  - 我，可以新增一个分类
  - 我，可以修改一个分类
  - 我，可以删除一个分类
  - 我，可以根据分类名称查询分类
- 我，可以管理标签
  - 我，可以新增一个标签
  - 我，可以修改一个标签
  - 我，可以删除一个标签
  - 我，可以根据名称查询标签

### 1.2 功能规划

![](https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg)

## 2、页面设计与开发

### 2.1 设计

**页面规划：**

前端展示：首页、详情页、分类、标签、归档、关于我

后台管理：模板页

### 2.2 页面开发



[Semantic UI官网](https://semantic-ui.com/)

[Semantic UI中文官网](http://www.semantic-ui.cn/)

[WebStorm下载与破解](https://imcoding.me/blogs/5)

[背景图片资源](https://www.toptal.com/designers/subtlepatterns/)

### 2.3 插件集成



[编辑器 Markdown](https://pandao.github.io/editor.md/)

[内容排版 typo.css](https://github.com/sofish/typo.css)

[动画 animate.css](https://daneden.github.io/animate.css/)

[代码高亮 prism](https://github.com/PrismJS/prism)

[目录生成 Tocbot](https://tscanlin.github.io/tocbot/)

[滚动侦测 waypoints](http://imakewebthings.com/waypoints/)

[平滑滚动 jquery.scrollTo](https://github.com/flesler/jquery.scrollTo)

[二维码生成 qrcode.js](https://davidshimjs.github.io/qrcodejs/)

## 3、框架搭建

> [IDEA下载 https://www.jetbrains.com/idea/](https://www.jetbrains.com/idea/)

### 3.1 构建与配置

**1、引入Spring Boot模块：**

- web
- Thymeleaf
- JPA
- MySQL
- Aspects
- DevTools

**2、application.yml配置**

- 使用 thymeleaf 3

  pom.xml:

```xml
<thymeleaf.version>3.0.2.RELEASE</thymeleaf.version>
<thymeleaf-layout-dialect.version>2.1.1</thymeleaf-layout-dialect.version>
```

  	application.yml:

```yaml
spring:
  thymeleaf:
    mode: HTML
```

- 数据库连接配置

```yaml
spring:
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://localhost:3306/blog?useUnicode=true&characterEncoding=utf-8
    username: root
    password: root
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
```

- 日志配置

  application.yml:

```yaml
logging:
  level:
    root: info
    com.imcoding: debug
  file: log/imcoding.log
```

​	logback-spring.xml：

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<configuration>
    <!--包含Spring boot对logback日志的默认配置-->
    <include resource="org/springframework/boot/logging/logback/defaults.xml" />
    <property name="LOG_FILE" value="${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}}/spring.log}"/>
    <include resource="org/springframework/boot/logging/logback/console-appender.xml" />

    <!--重写了Spring Boot框架 org/springframework/boot/logging/logback/file-appender.xml 配置-->
    <appender name="TIME_FILE"
              class="ch.qos.logback.core.rolling.RollingFileAppender">
        <encoder>
            <pattern>${FILE_LOG_PATTERN}</pattern>
        </encoder>
        <file>${LOG_FILE}</file>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${LOG_FILE}.%d{yyyy-MM-dd}.%i</fileNamePattern>
            <!--保留历史日志一个月的时间-->
            <maxHistory>30</maxHistory>
            <!--
            Spring Boot默认情况下，日志文件10M时，会切分日志文件,这样设置日志文件会在100M时切分日志
            -->
            <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
                <maxFileSize>10MB</maxFileSize>
            </timeBasedFileNamingAndTriggeringPolicy>

        </rollingPolicy>
    </appender>

    <root level="INFO">
        <appender-ref ref="CONSOLE" />
        <appender-ref ref="TIME_FILE" />
    </root>

</configuration>
<!--
    1、继承Spring boot logback设置（可以在appliaction.yml或者application.properties设置logging.*属性）
    2、重写了默认配置，设置日志文件大小在100MB时，按日期切分日志，切分后目录：

        my.2017-08-01.0   80MB
        my.2017-08-01.1   10MB
        my.2017-08-02.0   56MB
        my.2017-08-03.0   53MB
        ......
-->
```

- 生产环境与开发环境配置
  - application-dev.yml
  - application-pro.yml

### 3.2 异常处理

**1、定义错误页面**

- 404
- 500
- error

**2、全局处理异常**

统一处理异常：

```java
@ControllerAdvice
public class ControllerExceptionHandler {

    private final Logger logger = LoggerFactory.getLogger(ControllerExceptionHandler.class);
    /**
     * 异常处理
     * @param request
     * @param e
     * @return
     */
    @ExceptionHandler({Exception.class})
    public ModelAndView handleException(HttpServletRequest request, Exception e) throws Exception {

        logger.error("Request URL : {} , Exception : {}", request.getRequestURL(), e);

        if (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null) {
            throw e;
        }
        ModelAndView mav = new ModelAndView();
        mav.addObject("url", request.getRequestURL());
        mav.addObject("exception", e);
        mav.setViewName("error/error");

        return mav;
    }
}
```



错误页面异常信息显示处理：

```html
<div>
    <div th:utext="'&lt;!--'" th:remove="tag"></div>
    <div th:utext="'Failed Request URL : ' + ${url}" th:remove="tag"></div>
    <div th:utext="'Exception message : ' + ${exception.message}" th:remove="tag"></div>
    <ul th:remove="tag">
        <li th:each="st : ${exception.stackTrace}" th:remove="tag"><span th:utext="${st}" th:remove="tag"></span></li>
    </ul>
    <div th:utext="'--&gt;'" th:remove="tag"></div>
</div>
```



**3、资源找不到异常**

```java
@ResponseStatus(HttpStatus.NOT_FOUND)
public class NotFoundExcepiton extends RuntimeException {

    public NotFoundExcepiton() {
    }

    public NotFoundExcepiton(String message) {
        super(message);
    }

    public NotFoundExcepiton(String message, Throwable cause) {
        super(message, cause);
    }
}
```



### 3.3 日志处理

**1、记录日志内容**

- 请求 url
- 访问者 ip
- 调用方法 classMethod
- 参数 args
- 返回内容

**2、记录日志类：**

```java
@Aspect
@Component
public class LogAspect {

    private final Logger logger = LoggerFactory.getLogger(this.getClass());

    /**
     * 定义切面
     */
    @Pointcut("execution(* com.imcoding.web.*.*(..))")
    public void log() {
    }

    @Before("log()")
    public void doBefore(JoinPoint joinPoint) {
        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
        HttpServletRequest request = attributes.getRequest();
        String classMethod = joinPoint.getSignature().getDeclaringTypeName() + "." + joinPoint.getSignature().getName();
        ReqeustLog reqeustLog = new ReqeustLog(
                request.getRequestURL().toString(),
                request.getRemoteAddr(),
                classMethod,
                joinPoint.getArgs()
        );
        logger.info("Rquest  ----- {}",reqeustLog);
    }

    @After("log()")
    public void doAfter() {
        //logger.info("---------- doAfter 2 ----------");
    }

    @AfterReturning(returning = "result",pointcut = "log()")
    public void doAtfertRturning(Object result) {
        logger.info("Return ------ {}",result );
    }


    private class ReqeustLog {
        private String url;
        private String ip;
        private String classMethod;
        private Object[] args;

        public ReqeustLog(String url, String ip, String classMethod, Object[] args) {
            this.url = url;
            this.ip = ip;
            this.classMethod = classMethod;
            this.args = args;
        }

        @Override
        public String toString() {
            return "ReqeustLog{" +
                    "url='" + url + '\'' +
                    ", ip='" + ip + '\'' +
                    ", classMethod='" + classMethod + '\'' +
                    ", args=" + Arrays.toString(args) +
                    '}';
        }
    }

}

```



### 3.4 页面处理



**1、静态页面导入project**

**2、thymeleaf布局**

- 定义fragment
- 使用fragment布局

**3、错误页面美化**

4、设计与规范

### 4.1 实体设计

**实体类：**

- 博客 Blog
- 博客分类 Type
- 博客标签 Tag
- 博客评论 Comment
- 用户 User



**实体关系：**

![](http://on91wk3hn.bkt.clouddn.com/17-10-14/87092095.jpg)

**评论类自关联关系：**

![](http://on91wk3hn.bkt.clouddn.com/17-10-14/41296045.jpg)

**Blog类：**

![](http://on91wk3hn.bkt.clouddn.com/17-10-14/38390041.jpg)

**Type类：**

![](http://on91wk3hn.bkt.clouddn.com/17-10-14/22984471.jpg)

**Tag类：**

![](http://on91wk3hn.bkt.clouddn.com/17-10-14/70860077.jpg)

**Comment类：**

![](http://on91wk3hn.bkt.clouddn.com/17-10-14/77104424.jpg)



**User类：**

![](http://on91wk3hn.bkt.clouddn.com/17-10-14/10367795.jpg)



### 4.2 应用分层

![](http://on91wk3hn.bkt.clouddn.com/17-10-14/64528736.jpg)

### 4.3 命名约定

**Service/DAO层命名约定：**

- 获取单个对象的方法用get做前缀。
- 获取多个对象的方法用list做前缀。
- 获取统计值的方法用count做前缀。
- 插入的方法用save(推荐)或insert做前缀。
- 删除的方法用remove(推荐)或delete做前缀。
- 修改的方法用update做前缀。



![](https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg)

## 5、后台管理功能实现

### 5.1 登录



**1、构建登录页面和后台管理首页**

**2、UserService和UserRepository**

**3、LoginController实现登录**

**4、MD5加密**

**5、登录拦截器**

### 5.2 分类管理



**1、分类管理页面**

**2、分类列表分页**

```javascript
{
  "content":[
    {"id":123,"title":"blog122","content":"this is blog content"},
    {"id":122,"title":"blog121","content":"this is blog content"},
    {"id":121,"title":"blog120","content":"this is blog content"},
    {"id":120,"title":"blog119","content":"this is blog content"},
    {"id":119,"title":"blog118","content":"this is blog content"},
    {"id":118,"title":"blog117","content":"this is blog content"},
    {"id":117,"title":"blog116","content":"this is blog content"},
    {"id":116,"title":"blog115","content":"this is blog content"},
    {"id":115,"title":"blog114","content":"this is blog content"},
    {"id":114,"title":"blog113","content":"this is blog content"},
    {"id":113,"title":"blog112","content":"this is blog content"},
    {"id":112,"title":"blog111","content":"this is blog content"},
    {"id":111,"title":"blog110","content":"this is blog content"},
    {"id":110,"title":"blog109","content":"this is blog content"},
    {"id":109,"title":"blog108","content":"this is blog content"}],
  "last":false,
  "totalPages":9,
  "totalElements":123,
  "size":15,
  "number":0,
  "first":true,
  "sort":[{
    "direction":"DESC",
    "property":"id",
    "ignoreCase":false,
    "nullHandling":"NATIVE",
    "ascending":false
  }],
  "numberOfElements":15
}

```



**3、分类新增、修改、删除**

### 5.3 标签管理

### 5.4 博客管理



**1、博客分页查询**

**2、博客新增**

**3、博客修改**

**4、博客删除**

## 6、前端展示功能实现

### 6.1 首页展示



**1、博客列表**

**2、top分类**

**3、top标签**

**4、最新博客推荐**

**5、博客详情**

**1、Markdown 转换 HTML**

- [commonmark-java  https://github.com/atlassian/commonmark-java](https://github.com/atlassian/commonmark-java)
- pom.xml引用commonmark和扩展插件

```xml
<dependency>
   <groupId>com.atlassian.commonmark</groupId>
   <artifactId>commonmark</artifactId>
   <version>0.10.0</version>
</dependency>
<dependency>
   <groupId>com.atlassian.commonmark</groupId>
   <artifactId>commonmark-ext-heading-anchor</artifactId>
   <version>0.10.0</version>
</dependency>
<dependency>
   <groupId>com.atlassian.commonmark</groupId>
   <artifactId>commonmark-ext-gfm-tables</artifactId>
   <version>0.10.0</version>
</dependency>

```



**2、评论功能**



- 评论信息提交与回复功能
- 评论信息列表展示功能
- 管理员回复评论功能

### 6.2 分类页

### 6.3 标签页

### 6.4 归档页

### 6.5 关于我





(String), 8(Long), https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1590818036358&di=9569a5452be6c4297afbb3746283a8d3&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201804%2F18%2F172344g6tsuasyytq2dd7a.png(String), 此文章为李仁密同学的教学文本。我第一次学习搭建个人博客，在此感谢李仁密同学录制的教学视频以及课件资源。
第一次是在B站看到的李同学搭建博客的视频，感触颇多，于是跟着视频学习了下来，期间学会了很多编程思想，期待自己能像李同学一样，用精简的代码写出优美的界面。因为之前没有学习过JPA，所以改用Mybatis操作数据库，之后会写一篇自己针对该博客的介绍的，键上艺术家，请继续保持向上的学习态度吧！(String), true(Boolean), true(Boolean), false(Boolean), true(Boolean), 2020-06-09 10:07:43.416(Timestamp), 11(Long)
2020-06-09 10:07:43.449 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlog          : <==    Updates: 1
2020-06-09 10:07:43.449  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:07:43.449  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: redirect:/admin/blogs
2020-06-09 10:07:43.484  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.blogs, args=[1, {msg=新增成功}])
2020-06-09 10:07:43.486 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t WHERE b.type_id = t.id 
2020-06-09 10:07:43.486 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==> Parameters: 
2020-06-09 10:07:43.488 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getAllBlog_COUNT    : <==      Total: 1
2020-06-09 10:07:43.488 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getAllBlog          : ==>  Preparing: /*后台博客展示*/ select b.id, b.title, b.update_time, b.recommend, b.type_id, b.published, t.id typeid, t.name typename from t_blog b, t_type t where b.type_id = t.id /*博客类型id=类型id*/ LIMIT ? 
2020-06-09 10:07:43.488 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getAllBlog          : ==> Parameters: 5(Integer)
2020-06-09 10:07:43.490 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getAllBlog          : <==      Total: 1
2020-06-09 10:07:43.492 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getAllType          : ==>  Preparing: select * from t_type 
2020-06-09 10:07:43.493 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getAllType          : ==> Parameters: 
2020-06-09 10:07:43.494 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getAllType          : <==      Total: 2
2020-06-09 10:07:43.496 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getAllTag            : ==>  Preparing: select * from blog.t_tag 
2020-06-09 10:07:43.496 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getAllTag            : ==> Parameters: 
2020-06-09 10:07:43.497 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getAllTag            : <==      Total: 4
2020-06-09 10:07:43.497  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:07:43.497  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: admin/blogs
2020-06-09 10:07:44.918  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 10:07:44.919 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:07:44.920 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:07:44.923 DEBUG 18204 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:07:44.928  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:07:44.928  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:07:45.395  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:07:45.396 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:07:45.396 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:07:45.397 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:07:45.397  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:07:45.397  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:07:45.597  INFO 18204 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:07:45.597 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:07:45.598 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:07:45.603 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:07:45.604 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:07:45.605 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:07:45.611 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:07:45.611 DEBUG 18204 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:07:45.612 DEBUG 18204 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:07:45.619 DEBUG 18204 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:07:45.620 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:07:45.621 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:07:45.625 DEBUG 18204 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:07:45.625  INFO 18204 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:07:45.626  INFO 18204 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:08:09.527  INFO 18204 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/logout, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.logout, args=[org.apache.catalina.session.StandardSessionFacade@3c4500ad])
2020-06-09 10:08:09.527  INFO 18204 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:08:09.527  INFO 18204 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: redirect:/admin
2020-06-09 10:08:09.542  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.loginPage, args=[])
2020-06-09 10:08:09.542  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:08:09.542  INFO 18204 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: admin/login
2020-06-09 10:08:10.720  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 10:08:10.723 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:08:10.724 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:08:10.728 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:08:10.732  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:08:10.732  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:08:11.326  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:08:11.328 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:08:11.328 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:08:11.331 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:08:11.331  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:08:11.331  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:08:11.545  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:08:11.545 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:08:11.545 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:08:11.552 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:08:11.554 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:08:11.555 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:08:11.556 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:08:11.557 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:08:11.557 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:08:11.559 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:08:11.559 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:08:11.559 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:08:11.560 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:08:11.561  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:08:11.561  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:08:38.387  INFO 18204 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=夏日清风, email=1802585483@qq.com, content=嗯嗯，三克油哇, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=14, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[])), org.apache.catalina.session.StandardSessionFacade@3c4500ad])
2020-06-09 10:08:38.388 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getBlog             : ==>  Preparing: /*后台展示博客*/ select b.id, b.published, b.flag, b.title, b.content, b.type_id typeid, ty.name typename, b.first_picture, b.description, b.recommend, b.share_statement, b.appreciation, b.commentabled , t.id tagid ,t.name tagname from t_blog b left join t_type ty on ty.id=b.type_id LEFT JOIN t_blog_tags bt on bt.blogs_id = b.id left join t_tag t on t.id= bt.tags_id where b.id = ?; 
2020-06-09 10:08:38.389 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getBlog             : ==> Parameters: 11(Long)
2020-06-09 10:08:38.391 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getBlog             : <==      Total: 3
2020-06-09 10:08:38.391 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id, admincomment) values (?,?,?,?, ?,?,?, ?); 
2020-06-09 10:08:38.392 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : ==> Parameters: 夏日清风(String), 1802585483@qq.com(String), 嗯嗯，三克油哇(String), /images/avatar.jpg(String), 2020-06-09 10:08:38.391(Timestamp), null, 14(Long), false(Boolean)
2020-06-09 10:08:38.398 DEBUG 18204 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : <==    Updates: 1
2020-06-09 10:08:38.399  INFO 18204 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:08:38.399  INFO 18204 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: redirect:/comments/11
2020-06-09 10:08:38.402  INFO 18204 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:08:38.402 DEBUG 18204 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:08:38.402 DEBUG 18204 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:08:38.404 DEBUG 18204 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:08:38.404 DEBUG 18204 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:08:38.404 DEBUG 18204 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:08:38.406 DEBUG 18204 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:08:38.407 DEBUG 18204 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:08:38.407 DEBUG 18204 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:08:38.408 DEBUG 18204 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:08:38.409 DEBUG 18204 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:08:38.409 DEBUG 18204 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:08:38.411 DEBUG 18204 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:08:38.411 DEBUG 18204 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:08:38.411 DEBUG 18204 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:08:38.413 DEBUG 18204 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:08:38.413  INFO 18204 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:08:38.413  INFO 18204 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:10:41.506  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 10:10:41.510 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:10:41.511 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:10:41.517 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:10:41.523  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:10:41.523  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:10:42.171  INFO 18204 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:10:42.174 DEBUG 18204 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:10:42.174 DEBUG 18204 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:10:42.177 DEBUG 18204 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:10:42.178  INFO 18204 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:10:42.178  INFO 18204 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:10:42.360  INFO 18204 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:10:42.360 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:10:42.360 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:10:42.362 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:10:42.363 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:10:42.363 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:10:42.371 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:10:42.372 DEBUG 18204 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:10:42.372 DEBUG 18204 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:10:42.381 DEBUG 18204 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:10:42.382 DEBUG 18204 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:10:42.382 DEBUG 18204 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:10:42.383 DEBUG 18204 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:10:42.384 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:10:42.384 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:10:42.387 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:10:42.388  INFO 18204 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:10:42.388  INFO 18204 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:11:01.008  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 10:11:01.030 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:11:01.030 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:11:01.032 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:11:01.036  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:11:01.036  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:11:01.430  INFO 18204 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:11:01.431 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:11:01.431 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:11:01.432 DEBUG 18204 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:11:01.432  INFO 18204 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:11:01.432  INFO 18204 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:11:01.582  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:11:01.582 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:11:01.582 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:11:01.584 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:11:01.584 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:11:01.585 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:11:01.587 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:11:01.588 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:11:01.588 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:11:01.589 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:11:01.590 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:11:01.590 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:11:01.591 DEBUG 18204 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:11:01.591 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:11:01.591 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:11:01.592 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:11:01.593  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:11:01.593  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:11:22.193  INFO 18204 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}])
2020-06-09 10:11:22.195 DEBUG 18204 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:11:22.196 DEBUG 18204 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:11:22.198 DEBUG 18204 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:11:22.205  INFO 18204 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:11:22.205  INFO 18204 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:11:22.664  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:11:22.664 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:11:22.664 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:11:22.671 DEBUG 18204 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:11:22.671  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:11:22.671  INFO 18204 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:11:22.842  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:11:22.843 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:11:22.843 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:11:22.845 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:11:22.845 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:11:22.845 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:11:22.848 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:11:22.848 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:11:22.848 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:11:22.854 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:11:22.856 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:11:22.856 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:11:22.858 DEBUG 18204 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:11:22.859 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:11:22.859 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:11:22.860 DEBUG 18204 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:11:22.861  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:11:22.862  INFO 18204 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:21:20.209  INFO 7312 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 7312 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 10:21:20.216 DEBUG 7312 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 10:21:20.216  INFO 7312 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 10:21:20.387  INFO 7312 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 10:21:20.388  INFO 7312 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 10:21:22.298  INFO 7312 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 10:21:22.311  INFO 7312 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 10:21:22.312  INFO 7312 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 10:21:22.422  INFO 7312 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 10:21:22.422  INFO 7312 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2034 ms
2020-06-09 10:21:23.379  INFO 7312 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 10:21:23.509  INFO 7312 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 10:21:24.019  INFO 7312 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 10:21:24.113  INFO 7312 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 10:21:24.118  INFO 7312 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 5.15 seconds (JVM running for 11.585)
2020-06-09 10:22:26.893  INFO 7312 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 10:22:26.894  INFO 7312 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 10:22:26.909  INFO 7312 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2020-06-09 10:22:26.950  INFO 7312 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@7542e63c])
2020-06-09 10:22:26.988  INFO 7312 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 10:22:27.226  INFO 7312 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 10:22:27.233 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:22:27.257 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:22:27.289 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:22:27.372 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:22:27.373 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 9(Long), 11(Long), 11(Long), 9(Long)
2020-06-09 10:22:27.380 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:22:27.380 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:22:27.381 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 10(Long), 11(Long), 11(Long), 10(Long)
2020-06-09 10:22:27.382 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:22:27.383 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:22:27.383 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 11(Long), 11(Long), 11(Long), 11(Long)
2020-06-09 10:22:27.385 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:22:27.386 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlog          : ==>  Preparing: update t_blog set published = ?,flag = ? , title = ?, content = ?, type_id = ?, first_picture = ? , description = ? , recommend = ? , share_statement = ?, appreciation = ?, commentabled = ? ,update_time = ? where id = ?; 
2020-06-09 10:22:27.390 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlog          : ==> Parameters: false(Boolean), 转载(String), Spring Boot开发小而美的个人博客(String), <h1 id="spring-boot开发小而美的个人博客">Spring Boot开发小而美的个人博客</h1>
<blockquote>
<p>原文作者：李仁密</p>
</blockquote>
<blockquote>
<p>B站教学地址 : https://www.bilibili.com/video/BV1nE411r7TF?p=43</p>
</blockquote>
<p><strong>个人博客功能：</strong></p>
<p><strong>技术组合：</strong></p>
<ul>
<li>后端：Spring Boot + JPA + thymeleaf模板</li>
<li>数据库：MySQL</li>
<li>前端UI：Semantic UI框架</li>
</ul>
<p><strong>工具与环境：</strong></p>
<ul>
<li>IDEA</li>
<li>Maven 3</li>
<li>JDK 8</li>
<li>Axure RP 8</li>
</ul>
<p><strong>课程内容模块：</strong></p>
<ul>
<li>需求分析与功能规划</li>
<li>页面设计与开发</li>
<li>技术框架搭建</li>
<li>后端管理功能实现</li>
<li>前端管理功能实现</li>
</ul>
<p><strong>你能学得什么？</strong></p>
<ul>
<li>基于Spring Boot的完整全栈式的开发套路</li>
<li>Semantic UI框架的使用</li>
<li>一套博客系统的源代码与设计</li>
</ul>
<h2 id="1需求与功能">1、需求与功能</h2>
<h3 id="11-用户故事">1.1 用户故事</h3>
<p>用户故事是敏捷框架中的一种开发方法。可以帮助开发者转换视角，以用户的角度更好的把握需求，从而实现具有商业价值的功能。</p>
<blockquote>
<p>用户故事最好是用户团队编写</p>
</blockquote>
<p><strong>用户故事模板</strong>：</p>
<ul>
<li>As a (role of user), I want (some feature) so that (some business value).</li>
<li>作为一个(某个角色) 使用者，我可以做(某个功能) 事情，如此可以有(某个商业价值) 的好处</li>
</ul>
<p><strong>关键点</strong>：角色、功能、商业价值</p>
<p><strong>举例</strong>：</p>
<ul>
<li>作为一个招聘网站<strong>注册用户</strong>，我想<strong>查看最近3天发布的招聘信息</strong>，以便于<strong>了解最新的招聘信息</strong>。</li>
<li>作为公司，可以张贴新工作。</li>
</ul>
<p>个人博客系统的用户故事：</p>
<p>角色：<strong>普通访客</strong>，<strong>管理员（我）</strong></p>
<ul>
<li>访客，可以分页查看所有的博客</li>
<li>访客，可以快速查看博客数最多的6个分类</li>
<li>访客，可以查看所有的分类</li>
<li>访客，可以查看某个分类下的博客列表</li>
<li>访客，可以快速查看标记博客最多的10个标签</li>
<li>访客，可以查看所有的标签</li>
<li>访客，可以查看某个标签下的博客列表</li>
<li>访客，可以根据年度时间线查看博客列表</li>
<li>访客，可以快速查看最新的推荐博客</li>
<li>访客，可以用关键字全局搜索博客</li>
<li>访客，可以查看单个博客内容</li>
<li>访客，可以对博客内容进行评论</li>
<li>访客，可以赞赏博客内容</li>
<li>访客，可以微信扫码阅读博客内容</li>
<li>访客，可以在首页扫描公众号二维码关注我</li>
<li>我，可以用户名和密码登录后台管理</li>
<li>我，可以管理博客
<ul>
<li>我，可以发布新博客</li>
<li>我，可以对博客进行分类</li>
<li>我，可以对博客打标签</li>
<li>我，可以修改博客</li>
<li>我，可以删除博客</li>
<li>我，可以根据标题，分类，标签查询博客</li>
</ul>
</li>
<li>我，可以管理博客分类
<ul>
<li>我，可以新增一个分类</li>
<li>我，可以修改一个分类</li>
<li>我，可以删除一个分类</li>
<li>我，可以根据分类名称查询分类</li>
</ul>
</li>
<li>我，可以管理标签
<ul>
<li>我，可以新增一个标签</li>
<li>我，可以修改一个标签</li>
<li>我，可以删除一个标签</li>
<li>我，可以根据名称查询标签</li>
</ul>
</li>
</ul>
<h3 id="12-功能规划">1.2 功能规划</h3>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="2页面设计与开发">2、页面设计与开发</h2>
<h3 id="21-设计">2.1 设计</h3>
<p><strong>页面规划：</strong></p>
<p>前端展示：首页、详情页、分类、标签、归档、关于我</p>
<p>后台管理：模板页</p>
<h3 id="22-页面开发">2.2 页面开发</h3>
<p><a href="https://semantic-ui.com/" target="_blank">Semantic UI官网</a></p>
<p><a href="http://www.semantic-ui.cn/" target="_blank">Semantic UI中文官网</a></p>
<p><a href="https://imcoding.me/blogs/5" target="_blank">WebStorm下载与破解</a></p>
<p><a href="https://www.toptal.com/designers/subtlepatterns/" target="_blank">背景图片资源</a></p>
<h3 id="23-插件集成">2.3 插件集成</h3>
<p><a href="https://pandao.github.io/editor.md/" target="_blank">编辑器 Markdown</a></p>
<p><a href="https://github.com/sofish/typo.css" target="_blank">内容排版 typo.css</a></p>
<p><a href="https://daneden.github.io/animate.css/" target="_blank">动画 animate.css</a></p>
<p><a href="https://github.com/PrismJS/prism" target="_blank">代码高亮 prism</a></p>
<p><a href="https://tscanlin.github.io/tocbot/" target="_blank">目录生成 Tocbot</a></p>
<p><a href="http://imakewebthings.com/waypoints/" target="_blank">滚动侦测 waypoints</a></p>
<p><a href="https://github.com/flesler/jquery.scrollTo" target="_blank">平滑滚动 jquery.scrollTo</a></p>
<p><a href="https://davidshimjs.github.io/qrcodejs/" target="_blank">二维码生成 qrcode.js</a></p>
<h2 id="3框架搭建">3、框架搭建</h2>
<blockquote>
<p><a href="https://www.jetbrains.com/idea/" target="_blank">IDEA下载 https://www.jetbrains.com/idea/</a></p>
</blockquote>
<h3 id="31-构建与配置">3.1 构建与配置</h3>
<p><strong>1、引入Spring Boot模块：</strong></p>
<ul>
<li>web</li>
<li>Thymeleaf</li>
<li>JPA</li>
<li>MySQL</li>
<li>Aspects</li>
<li>DevTools</li>
</ul>
<p><strong>2、application.yml配置</strong></p>
<ul>
<li>
<p>使用 thymeleaf 3</p>
<p>pom.xml:</p>
</li>
</ul>
<pre><code class="language-xml">&lt;thymeleaf.version&gt;3.0.2.RELEASE&lt;/thymeleaf.version&gt;
&lt;thymeleaf-layout-dialect.version&gt;2.1.1&lt;/thymeleaf-layout-dialect.version&gt;
</code></pre>
<pre><code>application.yml:
</code></pre>
<pre><code class="language-yaml">spring:
  thymeleaf:
    mode: HTML
</code></pre>
<ul>
<li>数据库连接配置</li>
</ul>
<pre><code class="language-yaml">spring:
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://localhost:3306/blog?useUnicode=true&amp;characterEncoding=utf-8
    username: root
    password: root
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
</code></pre>
<ul>
<li>
<p>日志配置</p>
<p>application.yml:</p>
</li>
</ul>
<pre><code class="language-yaml">logging:
  level:
    root: info
    com.imcoding: debug
  file: log/imcoding.log
</code></pre>
<p>​	logback-spring.xml：</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;configuration&gt;
    &lt;!--包含Spring boot对logback日志的默认配置--&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot; /&gt;
    &lt;property name=&quot;LOG_FILE&quot; value=&quot;${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}}/spring.log}&quot;/&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;

    &lt;!--重写了Spring Boot框架 org/springframework/boot/logging/logback/file-appender.xml 配置--&gt;
    &lt;appender name=&quot;TIME_FILE&quot;
              class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;
        &lt;encoder&gt;
            &lt;pattern&gt;${FILE_LOG_PATTERN}&lt;/pattern&gt;
        &lt;/encoder&gt;
        &lt;file&gt;${LOG_FILE}&lt;/file&gt;
        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;
            &lt;fileNamePattern&gt;${LOG_FILE}.%d{yyyy-MM-dd}.%i&lt;/fileNamePattern&gt;
            &lt;!--保留历史日志一个月的时间--&gt;
            &lt;maxHistory&gt;30&lt;/maxHistory&gt;
            &lt;!--
            Spring Boot默认情况下，日志文件10M时，会切分日志文件,这样设置日志文件会在100M时切分日志
            --&gt;
            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;
                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;
            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;

        &lt;/rollingPolicy&gt;
    &lt;/appender&gt;

    &lt;root level=&quot;INFO&quot;&gt;
        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;
        &lt;appender-ref ref=&quot;TIME_FILE&quot; /&gt;
    &lt;/root&gt;

&lt;/configuration&gt;
&lt;!--
    1、继承Spring boot logback设置（可以在appliaction.yml或者application.properties设置logging.*属性）
    2、重写了默认配置，设置日志文件大小在100MB时，按日期切分日志，切分后目录：

        my.2017-08-01.0   80MB
        my.2017-08-01.1   10MB
        my.2017-08-02.0   56MB
        my.2017-08-03.0   53MB
        ......
--&gt;
</code></pre>
<ul>
<li>生产环境与开发环境配置
<ul>
<li>application-dev.yml</li>
<li>application-pro.yml</li>
</ul>
</li>
</ul>
<h3 id="32-异常处理">3.2 异常处理</h3>
<p><strong>1、定义错误页面</strong></p>
<ul>
<li>404</li>
<li>500</li>
<li>error</li>
</ul>
<p><strong>2、全局处理异常</strong></p>
<p>统一处理异常：</p>
<pre><code class="language-java">@ControllerAdvice
public class ControllerExceptionHandler {

    private final Logger logger = LoggerFactory.getLogger(ControllerExceptionHandler.class);
    /**
     * 异常处理
     * @param request
     * @param e
     * @return
     */
    @ExceptionHandler({Exception.class})
    public ModelAndView handleException(HttpServletRequest request, Exception e) throws Exception {

        logger.error(&quot;Request URL : {} , Exception : {}&quot;, request.getRequestURL(), e);

        if (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null) {
            throw e;
        }
        ModelAndView mav = new ModelAndView();
        mav.addObject(&quot;url&quot;, request.getRequestURL());
        mav.addObject(&quot;exception&quot;, e);
        mav.setViewName(&quot;error/error&quot;);

        return mav;
    }
}
</code></pre>
<p>错误页面异常信息显示处理：</p>
<pre><code class="language-html">&lt;div&gt;
    &lt;div th:utext=&quot;'&amp;lt;!--'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Failed Request URL : ' + ${url}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Exception message : ' + ${exception.message}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;ul th:remove=&quot;tag&quot;&gt;
        &lt;li th:each=&quot;st : ${exception.stackTrace}&quot; th:remove=&quot;tag&quot;&gt;&lt;span th:utext=&quot;${st}&quot; th:remove=&quot;tag&quot;&gt;&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
    &lt;div th:utext=&quot;'--&amp;gt;'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><strong>3、资源找不到异常</strong></p>
<pre><code class="language-java">@ResponseStatus(HttpStatus.NOT_FOUND)
public class NotFoundExcepiton extends RuntimeException {

    public NotFoundExcepiton() {
    }

    public NotFoundExcepiton(String message) {
        super(message);
    }

    public NotFoundExcepiton(String message, Throwable cause) {
        super(message, cause);
    }
}
</code></pre>
<h3 id="33-日志处理">3.3 日志处理</h3>
<p><strong>1、记录日志内容</strong></p>
<ul>
<li>请求 url</li>
<li>访问者 ip</li>
<li>调用方法 classMethod</li>
<li>参数 args</li>
<li>返回内容</li>
</ul>
<p><strong>2、记录日志类：</strong></p>
<pre><code class="language-java">@Aspect
@Component
public class LogAspect {

    private final Logger logger = LoggerFactory.getLogger(this.getClass());

    /**
     * 定义切面
     */
    @Pointcut(&quot;execution(* com.imcoding.web.*.*(..))&quot;)
    public void log() {
    }

    @Before(&quot;log()&quot;)
    public void doBefore(JoinPoint joinPoint) {
        ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
        HttpServletRequest request = attributes.getRequest();
        String classMethod = joinPoint.getSignature().getDeclaringTypeName() + &quot;.&quot; + joinPoint.getSignature().getName();
        ReqeustLog reqeustLog = new ReqeustLog(
                request.getRequestURL().toString(),
                request.getRemoteAddr(),
                classMethod,
                joinPoint.getArgs()
        );
        logger.info(&quot;Rquest  ----- {}&quot;,reqeustLog);
    }

    @After(&quot;log()&quot;)
    public void doAfter() {
        //logger.info(&quot;---------- doAfter 2 ----------&quot;);
    }

    @AfterReturning(returning = &quot;result&quot;,pointcut = &quot;log()&quot;)
    public void doAtfertRturning(Object result) {
        logger.info(&quot;Return ------ {}&quot;,result );
    }


    private class ReqeustLog {
        private String url;
        private String ip;
        private String classMethod;
        private Object[] args;

        public ReqeustLog(String url, String ip, String classMethod, Object[] args) {
            this.url = url;
            this.ip = ip;
            this.classMethod = classMethod;
            this.args = args;
        }

        @Override
        public String toString() {
            return &quot;ReqeustLog{&quot; +
                    &quot;url='&quot; + url + '\'' +
                    &quot;, ip='&quot; + ip + '\'' +
                    &quot;, classMethod='&quot; + classMethod + '\'' +
                    &quot;, args=&quot; + Arrays.toString(args) +
                    '}';
        }
    }

}

</code></pre>
<h3 id="34-页面处理">3.4 页面处理</h3>
<p><strong>1、静态页面导入project</strong></p>
<p><strong>2、thymeleaf布局</strong></p>
<ul>
<li>定义fragment</li>
<li>使用fragment布局</li>
</ul>
<p><strong>3、错误页面美化</strong></p>
<p>4、设计与规范</p>
<h3 id="41-实体设计">4.1 实体设计</h3>
<p><strong>实体类：</strong></p>
<ul>
<li>博客 Blog</li>
<li>博客分类 Type</li>
<li>博客标签 Tag</li>
<li>博客评论 Comment</li>
<li>用户 User</li>
</ul>
<p><strong>实体关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/87092095.jpg" alt="" /></p>
<p><strong>评论类自关联关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/41296045.jpg" alt="" /></p>
<p><strong>Blog类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/38390041.jpg" alt="" /></p>
<p><strong>Type类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/22984471.jpg" alt="" /></p>
<p><strong>Tag类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/70860077.jpg" alt="" /></p>
<p><strong>Comment类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/77104424.jpg" alt="" /></p>
<p><strong>User类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/10367795.jpg" alt="" /></p>
<h3 id="42-应用分层">4.2 应用分层</h3>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/64528736.jpg" alt="" /></p>
<h3 id="43-命名约定">4.3 命名约定</h3>
<p><strong>Service/DAO层命名约定：</strong></p>
<ul>
<li>获取单个对象的方法用get做前缀。</li>
<li>获取多个对象的方法用list做前缀。</li>
<li>获取统计值的方法用count做前缀。</li>
<li>插入的方法用save(推荐)或insert做前缀。</li>
<li>删除的方法用remove(推荐)或delete做前缀。</li>
<li>修改的方法用update做前缀。</li>
</ul>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="5后台管理功能实现">5、后台管理功能实现</h2>
<h3 id="51-登录">5.1 登录</h3>
<p><strong>1、构建登录页面和后台管理首页</strong></p>
<p><strong>2、UserService和UserRepository</strong></p>
<p><strong>3、LoginController实现登录</strong></p>
<p><strong>4、MD5加密</strong></p>
<p><strong>5、登录拦截器</strong></p>
<h3 id="52-分类管理">5.2 分类管理</h3>
<p><strong>1、分类管理页面</strong></p>
<p><strong>2、分类列表分页</strong></p>
<pre><code class="language-javascript">{
  &quot;content&quot;:[
    {&quot;id&quot;:123,&quot;title&quot;:&quot;blog122&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:122,&quot;title&quot;:&quot;blog121&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:121,&quot;title&quot;:&quot;blog120&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:120,&quot;title&quot;:&quot;blog119&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:119,&quot;title&quot;:&quot;blog118&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:118,&quot;title&quot;:&quot;blog117&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:117,&quot;title&quot;:&quot;blog116&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:116,&quot;title&quot;:&quot;blog115&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:115,&quot;title&quot;:&quot;blog114&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:114,&quot;title&quot;:&quot;blog113&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:113,&quot;title&quot;:&quot;blog112&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:112,&quot;title&quot;:&quot;blog111&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:111,&quot;title&quot;:&quot;blog110&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:110,&quot;title&quot;:&quot;blog109&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:109,&quot;title&quot;:&quot;blog108&quot;,&quot;content&quot;:&quot;this is blog content&quot;}],
  &quot;last&quot;:false,
  &quot;totalPages&quot;:9,
  &quot;totalElements&quot;:123,
  &quot;size&quot;:15,
  &quot;number&quot;:0,
  &quot;first&quot;:true,
  &quot;sort&quot;:[{
    &quot;direction&quot;:&quot;DESC&quot;,
    &quot;property&quot;:&quot;id&quot;,
    &quot;ignoreCase&quot;:false,
    &quot;nullHandling&quot;:&quot;NATIVE&quot;,
    &quot;ascending&quot;:false
  }],
  &quot;numberOfElements&quot;:15
}

</code></pre>
<p><strong>3、分类新增、修改、删除</strong></p>
<h3 id="53-标签管理">5.3 标签管理</h3>
<h3 id="54-博客管理">5.4 博客管理</h3>
<p><strong>1、博客分页查询</strong></p>
<p><strong>2、博客新增</strong></p>
<p><strong>3、博客修改</strong></p>
<p><strong>4、博客删除</strong></p>
<h2 id="6前端展示功能实现">6、前端展示功能实现</h2>
<h3 id="61-首页展示">6.1 首页展示</h3>
<p><strong>1、博客列表</strong></p>
<p><strong>2、top分类</strong></p>
<p><strong>3、top标签</strong></p>
<p><strong>4、最新博客推荐</strong></p>
<p><strong>5、博客详情</strong></p>
<p><strong>1、Markdown 转换 HTML</strong></p>
<ul>
<li><a href="https://github.com/atlassian/commonmark-java" target="_blank">commonmark-java  https://github.com/atlassian/commonmark-java</a></li>
<li>pom.xml引用commonmark和扩展插件</li>
</ul>
<pre><code class="language-xml">&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-heading-anchor&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-gfm-tables&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;

</code></pre>
<p><strong>2、评论功能</strong></p>
<ul>
<li>评论信息提交与回复功能</li>
<li>评论信息列表展示功能</li>
<li>管理员回复评论功能</li>
</ul>
<h3 id="62-分类页">6.2 分类页</h3>
<h3 id="63-标签页">6.3 标签页</h3>
<h3 id="64-归档页">6.4 归档页</h3>
<h3 id="65-关于我">6.5 关于我</h3>
(String), null, https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1590818036358&di=9569a5452be6c4297afbb3746283a8d3&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201804%2F18%2F172344g6tsuasyytq2dd7a.png(String), null, false(Boolean), true(Boolean), false(Boolean), true(Boolean), 2020-06-09 10:22:27.371(Timestamp), 11(Long)
2020-06-09 10:22:27.396 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlog          : <==    Updates: 1
2020-06-09 10:22:27.397  INFO 7312 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:22:27.397  INFO 7312 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:22:28.277  INFO 7312 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:22:28.317 DEBUG 7312 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:22:28.320 DEBUG 7312 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:22:28.322 DEBUG 7312 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:22:28.323  INFO 7312 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:22:28.323  INFO 7312 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:22:28.481  INFO 7312 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:22:28.488 DEBUG 7312 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:22:28.489 DEBUG 7312 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:22:28.497 DEBUG 7312 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:22:28.497 DEBUG 7312 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:22:28.498 DEBUG 7312 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:22:28.500 DEBUG 7312 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:22:28.502 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:22:28.504 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:22:28.508 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:22:28.508 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:22:28.508 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:22:28.510 DEBUG 7312 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:22:28.511 DEBUG 7312 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:22:28.511 DEBUG 7312 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:22:28.513 DEBUG 7312 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:22:28.513  INFO 7312 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:22:28.513  INFO 7312 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:22:45.082  INFO 7312 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/login, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.login, args=[ldd, 123, org.apache.catalina.session.StandardSessionFacade@7542e63c, {}])
2020-06-09 10:22:45.120 DEBUG 7312 --- [http-nio-8080-exec-4] c.b.d.U.queryByUsernameAndPassword       : ==>  Preparing: select * from blog.t_user where username = ? and password = ?; 
2020-06-09 10:22:45.121 DEBUG 7312 --- [http-nio-8080-exec-4] c.b.d.U.queryByUsernameAndPassword       : ==> Parameters: ldd(String), 202cb962ac59075b964b07152d234b70(String)
2020-06-09 10:22:45.123 DEBUG 7312 --- [http-nio-8080-exec-4] c.b.d.U.queryByUsernameAndPassword       : <==      Total: 1
2020-06-09 10:22:45.124  INFO 7312 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:22:45.124  INFO 7312 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: admin/index
2020-06-09 10:22:48.286  INFO 7312 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@7542e63c])
2020-06-09 10:22:48.291 DEBUG 7312 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:22:48.293 DEBUG 7312 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:22:48.296 DEBUG 7312 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:22:48.513  INFO 7312 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:22:48.513  INFO 7312 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:22:49.034  INFO 7312 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:22:49.041 DEBUG 7312 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:22:49.041 DEBUG 7312 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:22:49.042 DEBUG 7312 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:22:49.043  INFO 7312 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:22:49.043  INFO 7312 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:22:49.231  INFO 7312 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:22:49.232 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:22:49.233 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:22:49.240 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:22:49.242 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:22:49.242 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:22:49.245 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:22:49.246 DEBUG 7312 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:22:49.247 DEBUG 7312 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:22:49.249 DEBUG 7312 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:22:49.252 DEBUG 7312 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:22:49.253 DEBUG 7312 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:22:49.256 DEBUG 7312 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:22:49.257 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:22:49.258 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:22:49.259 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:22:49.259  INFO 7312 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:22:49.259  INFO 7312 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:22:53.703  INFO 7312 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@7542e63c])
2020-06-09 10:22:53.723 DEBUG 7312 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:22:53.724 DEBUG 7312 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:22:53.727 DEBUG 7312 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:22:53.732  INFO 7312 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:22:53.732  INFO 7312 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:22:54.299  INFO 7312 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:22:54.300 DEBUG 7312 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:22:54.300 DEBUG 7312 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:22:54.302 DEBUG 7312 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:22:54.302  INFO 7312 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:22:54.302  INFO 7312 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:22:54.490  INFO 7312 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:22:54.490 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:22:54.491 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:22:54.492 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:22:54.493 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:22:54.493 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:22:54.494 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:22:54.498 DEBUG 7312 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:22:54.499 DEBUG 7312 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:22:54.501 DEBUG 7312 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:22:54.502 DEBUG 7312 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:22:54.502 DEBUG 7312 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:22:54.503 DEBUG 7312 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:22:54.503 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:22:54.503 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:22:54.504 DEBUG 7312 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:22:54.505  INFO 7312 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:22:54.505  INFO 7312 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:23:27.644  INFO 7312 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@7542e63c])
2020-06-09 10:23:27.645 DEBUG 7312 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:23:27.645 DEBUG 7312 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:23:27.649 DEBUG 7312 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:23:27.654  INFO 7312 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:23:27.654  INFO 7312 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:23:28.088  INFO 7312 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:23:28.088 DEBUG 7312 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:23:28.088 DEBUG 7312 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:23:28.092 DEBUG 7312 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:23:28.092  INFO 7312 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:23:28.092  INFO 7312 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:23:28.251  INFO 7312 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:23:28.252 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:23:28.253 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:23:28.257 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:23:28.257 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:23:28.257 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:23:28.259 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:23:28.259 DEBUG 7312 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:23:28.259 DEBUG 7312 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:23:28.263 DEBUG 7312 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:23:28.264 DEBUG 7312 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:23:28.264 DEBUG 7312 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:23:28.269 DEBUG 7312 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:23:28.271 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:23:28.271 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:23:28.280 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:23:28.281  INFO 7312 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:23:28.283  INFO 7312 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:23:39.038  INFO 7312 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@7542e63c])
2020-06-09 10:23:40.971 DEBUG 7312 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:23:40.973 DEBUG 7312 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:23:40.991 DEBUG 7312 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:23:51.245  INFO 7312 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:23:51.245  INFO 7312 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:23:51.705  INFO 7312 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:23:51.706 DEBUG 7312 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:23:51.707 DEBUG 7312 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:23:51.711 DEBUG 7312 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:23:51.713  INFO 7312 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:23:51.713  INFO 7312 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:23:51.904  INFO 7312 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:23:51.904 DEBUG 7312 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:23:51.905 DEBUG 7312 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:23:51.920 DEBUG 7312 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:23:51.920 DEBUG 7312 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:23:51.921 DEBUG 7312 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:23:51.923 DEBUG 7312 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:23:51.923 DEBUG 7312 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:23:51.923 DEBUG 7312 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:23:51.934 DEBUG 7312 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:23:51.937 DEBUG 7312 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:23:51.938 DEBUG 7312 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:23:51.953 DEBUG 7312 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:23:51.953 DEBUG 7312 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:23:51.954 DEBUG 7312 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:23:51.954 DEBUG 7312 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:23:51.955  INFO 7312 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:23:51.955  INFO 7312 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:23:53.486  INFO 7312 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@7542e63c])
2020-06-09 10:23:55.456 DEBUG 7312 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:23:55.459 DEBUG 7312 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:23:55.480 DEBUG 7312 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:24:00.733  INFO 7312 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:24:00.733  INFO 7312 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:24:01.230  INFO 7312 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:24:01.231 DEBUG 7312 --- [http-nio-8080-exec-3] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:24:01.232 DEBUG 7312 --- [http-nio-8080-exec-3] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:24:01.233 DEBUG 7312 --- [http-nio-8080-exec-3] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:24:01.233  INFO 7312 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:24:01.233  INFO 7312 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:24:01.396  INFO 7312 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:24:01.397 DEBUG 7312 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:24:01.397 DEBUG 7312 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:24:01.399 DEBUG 7312 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:24:01.399 DEBUG 7312 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:24:01.399 DEBUG 7312 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:24:01.401 DEBUG 7312 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:24:01.401 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:24:01.401 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:24:01.407 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:24:01.409 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:24:01.409 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:24:01.410 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:24:01.411 DEBUG 7312 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:24:01.411 DEBUG 7312 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:24:01.412 DEBUG 7312 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:24:01.413  INFO 7312 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:24:01.413  INFO 7312 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:24:05.265  INFO 7312 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/logout, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.logout, args=[org.apache.catalina.session.StandardSessionFacade@7542e63c])
2020-06-09 10:24:05.265  INFO 7312 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:24:05.265  INFO 7312 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: redirect:/admin
2020-06-09 10:24:05.292  INFO 7312 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.loginPage, args=[])
2020-06-09 10:24:05.292  INFO 7312 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:24:05.292  INFO 7312 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: admin/login
2020-06-09 10:24:07.965  INFO 7312 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@7542e63c])
2020-06-09 10:24:09.279 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:24:09.281 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:24:09.297 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:24:11.005 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:24:11.010 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 9(Long), 11(Long), 11(Long), 9(Long)
2020-06-09 10:24:11.013 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:24:11.016 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:24:11.021 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 10(Long), 11(Long), 11(Long), 10(Long)
2020-06-09 10:24:11.024 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:24:11.026 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:24:11.031 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 11(Long), 11(Long), 11(Long), 11(Long)
2020-06-09 10:24:11.034 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:24:11.037 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.updateBlog          : ==>  Preparing: update t_blog set published = ?,flag = ? , title = ?, content = ?, type_id = ?, first_picture = ? , description = ? , recommend = ? , share_statement = ?, appreciation = ?, commentabled = ? ,update_time = ? where id = ?; 
2020-06-09 10:24:11.061 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.updateBlog          : ==> Parameters: false(Boolean), 转载(String), Spring Boot开发小而美的个人博客(String), <h1 id="spring-boot开发小而美的个人博客">Spring Boot开发小而美的个人博客</h1>
<blockquote>
<p>原文作者：李仁密</p>
</blockquote>
<blockquote>
<p>B站教学地址 : https://www.bilibili.com/video/BV1nE411r7TF?p=43</p>
</blockquote>
<p><strong>个人博客功能：</strong></p>
<p><strong>技术组合：</strong></p>
<ul>
<li>后端：Spring Boot + JPA + thymeleaf模板</li>
<li>数据库：MySQL</li>
<li>前端UI：Semantic UI框架</li>
</ul>
<p><strong>工具与环境：</strong></p>
<ul>
<li>IDEA</li>
<li>Maven 3</li>
<li>JDK 8</li>
<li>Axure RP 8</li>
</ul>
<p><strong>课程内容模块：</strong></p>
<ul>
<li>需求分析与功能规划</li>
<li>页面设计与开发</li>
<li>技术框架搭建</li>
<li>后端管理功能实现</li>
<li>前端管理功能实现</li>
</ul>
<p><strong>你能学得什么？</strong></p>
<ul>
<li>基于Spring Boot的完整全栈式的开发套路</li>
<li>Semantic UI框架的使用</li>
<li>一套博客系统的源代码与设计</li>
</ul>
<h2 id="1需求与功能">1、需求与功能</h2>
<h3 id="11-用户故事">1.1 用户故事</h3>
<p>用户故事是敏捷框架中的一种开发方法。可以帮助开发者转换视角，以用户的角度更好的把握需求，从而实现具有商业价值的功能。</p>
<blockquote>
<p>用户故事最好是用户团队编写</p>
</blockquote>
<p><strong>用户故事模板</strong>：</p>
<ul>
<li>As a (role of user), I want (some feature) so that (some business value).</li>
<li>作为一个(某个角色) 使用者，我可以做(某个功能) 事情，如此可以有(某个商业价值) 的好处</li>
</ul>
<p><strong>关键点</strong>：角色、功能、商业价值</p>
<p><strong>举例</strong>：</p>
<ul>
<li>作为一个招聘网站<strong>注册用户</strong>，我想<strong>查看最近3天发布的招聘信息</strong>，以便于<strong>了解最新的招聘信息</strong>。</li>
<li>作为公司，可以张贴新工作。</li>
</ul>
<p>个人博客系统的用户故事：</p>
<p>角色：<strong>普通访客</strong>，<strong>管理员（我）</strong></p>
<ul>
<li>访客，可以分页查看所有的博客</li>
<li>访客，可以快速查看博客数最多的6个分类</li>
<li>访客，可以查看所有的分类</li>
<li>访客，可以查看某个分类下的博客列表</li>
<li>访客，可以快速查看标记博客最多的10个标签</li>
<li>访客，可以查看所有的标签</li>
<li>访客，可以查看某个标签下的博客列表</li>
<li>访客，可以根据年度时间线查看博客列表</li>
<li>访客，可以快速查看最新的推荐博客</li>
<li>访客，可以用关键字全局搜索博客</li>
<li>访客，可以查看单个博客内容</li>
<li>访客，可以对博客内容进行评论</li>
<li>访客，可以赞赏博客内容</li>
<li>访客，可以微信扫码阅读博客内容</li>
<li>访客，可以在首页扫描公众号二维码关注我</li>
<li>我，可以用户名和密码登录后台管理</li>
<li>我，可以管理博客
<ul>
<li>我，可以发布新博客</li>
<li>我，可以对博客进行分类</li>
<li>我，可以对博客打标签</li>
<li>我，可以修改博客</li>
<li>我，可以删除博客</li>
<li>我，可以根据标题，分类，标签查询博客</li>
</ul>
</li>
<li>我，可以管理博客分类
<ul>
<li>我，可以新增一个分类</li>
<li>我，可以修改一个分类</li>
<li>我，可以删除一个分类</li>
<li>我，可以根据分类名称查询分类</li>
</ul>
</li>
<li>我，可以管理标签
<ul>
<li>我，可以新增一个标签</li>
<li>我，可以修改一个标签</li>
<li>我，可以删除一个标签</li>
<li>我，可以根据名称查询标签</li>
</ul>
</li>
</ul>
<h3 id="12-功能规划">1.2 功能规划</h3>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="2页面设计与开发">2、页面设计与开发</h2>
<h3 id="21-设计">2.1 设计</h3>
<p><strong>页面规划：</strong></p>
<p>前端展示：首页、详情页、分类、标签、归档、关于我</p>
<p>后台管理：模板页</p>
<h3 id="22-页面开发">2.2 页面开发</h3>
<p><a href="https://semantic-ui.com/" target="_blank">Semantic UI官网</a></p>
<p><a href="http://www.semantic-ui.cn/" target="_blank">Semantic UI中文官网</a></p>
<p><a href="https://imcoding.me/blogs/5" target="_blank">WebStorm下载与破解</a></p>
<p><a href="https://www.toptal.com/designers/subtlepatterns/" target="_blank">背景图片资源</a></p>
<h3 id="23-插件集成">2.3 插件集成</h3>
<p><a href="https://pandao.github.io/editor.md/" target="_blank">编辑器 Markdown</a></p>
<p><a href="https://github.com/sofish/typo.css" target="_blank">内容排版 typo.css</a></p>
<p><a href="https://daneden.github.io/animate.css/" target="_blank">动画 animate.css</a></p>
<p><a href="https://github.com/PrismJS/prism" target="_blank">代码高亮 prism</a></p>
<p><a href="https://tscanlin.github.io/tocbot/" target="_blank">目录生成 Tocbot</a></p>
<p><a href="http://imakewebthings.com/waypoints/" target="_blank">滚动侦测 waypoints</a></p>
<p><a href="https://github.com/flesler/jquery.scrollTo" target="_blank">平滑滚动 jquery.scrollTo</a></p>
<p><a href="https://davidshimjs.github.io/qrcodejs/" target="_blank">二维码生成 qrcode.js</a></p>
<h2 id="3框架搭建">3、框架搭建</h2>
<blockquote>
<p><a href="https://www.jetbrains.com/idea/" target="_blank">IDEA下载 https://www.jetbrains.com/idea/</a></p>
</blockquote>
<h3 id="31-构建与配置">3.1 构建与配置</h3>
<p><strong>1、引入Spring Boot模块：</strong></p>
<ul>
<li>web</li>
<li>Thymeleaf</li>
<li>JPA</li>
<li>MySQL</li>
<li>Aspects</li>
<li>DevTools</li>
</ul>
<p><strong>2、application.yml配置</strong></p>
<ul>
<li>
<p>使用 thymeleaf 3</p>
<p>pom.xml:</p>
</li>
</ul>
<pre><code class="language-xml">&lt;thymeleaf.version&gt;3.0.2.RELEASE&lt;/thymeleaf.version&gt;
&lt;thymeleaf-layout-dialect.version&gt;2.1.1&lt;/thymeleaf-layout-dialect.version&gt;
</code></pre>
<pre><code>application.yml:
</code></pre>
<pre><code class="language-yaml">spring:
  thymeleaf:
    mode: HTML
</code></pre>
<ul>
<li>数据库连接配置</li>
</ul>
<pre><code class="language-yaml">spring:
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://localhost:3306/blog?useUnicode=true&amp;characterEncoding=utf-8
    username: root
    password: root
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
</code></pre>
<ul>
<li>
<p>日志配置</p>
<p>application.yml:</p>
</li>
</ul>
<pre><code class="language-yaml">logging:
  level:
    root: info
    com.imcoding: debug
  file: log/imcoding.log
</code></pre>
<p>​	logback-spring.xml：</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;configuration&gt;
    &lt;!--包含Spring boot对logback日志的默认配置--&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot; /&gt;
    &lt;property name=&quot;LOG_FILE&quot; value=&quot;${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}}/spring.log}&quot;/&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;
<pre><code>&amp;lt;!--重写了Spring Boot框架 org/springframework/boot/logging/logback/file-appender.xml 配置--&amp;gt;
&amp;lt;appender name=&amp;quot;TIME_FILE&amp;quot;
          class=&amp;quot;ch.qos.logback.core.rolling.RollingFileAppender&amp;quot;&amp;gt;
    &amp;lt;encoder&amp;gt;
        &amp;lt;pattern&amp;gt;${FILE_LOG_PATTERN}&amp;lt;/pattern&amp;gt;
    &amp;lt;/encoder&amp;gt;
    &amp;lt;file&amp;gt;${LOG_FILE}&amp;lt;/file&amp;gt;
    &amp;lt;rollingPolicy class=&amp;quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&amp;quot;&amp;gt;
        &amp;lt;fileNamePattern&amp;gt;${LOG_FILE}.%d{yyyy-MM-dd}.%i&amp;lt;/fileNamePattern&amp;gt;
        &amp;lt;!--保留历史日志一个月的时间--&amp;gt;
        &amp;lt;maxHistory&amp;gt;30&amp;lt;/maxHistory&amp;gt;
        &amp;lt;!--
        Spring Boot默认情况下，日志文件10M时，会切分日志文件,这样设置日志文件会在100M时切分日志
        --&amp;gt;
        &amp;lt;timeBasedFileNamingAndTriggeringPolicy class=&amp;quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&amp;quot;&amp;gt;
            &amp;lt;maxFileSize&amp;gt;10MB&amp;lt;/maxFileSize&amp;gt;
        &amp;lt;/timeBasedFileNamingAndTriggeringPolicy&amp;gt;

    &amp;lt;/rollingPolicy&amp;gt;
&amp;lt;/appender&amp;gt;

&amp;lt;root level=&amp;quot;INFO&amp;quot;&amp;gt;
    &amp;lt;appender-ref ref=&amp;quot;CONSOLE&amp;quot; /&amp;gt;
    &amp;lt;appender-ref ref=&amp;quot;TIME_FILE&amp;quot; /&amp;gt;
&amp;lt;/root&amp;gt;
</code></pre>
<p>&lt;/configuration&gt;
&lt;!--
1、继承Spring boot logback设置（可以在appliaction.yml或者application.properties设置logging.*属性）
2、重写了默认配置，设置日志文件大小在100MB时，按日期切分日志，切分后目录：</p>
<pre><code>    my.2017-08-01.0   80MB
    my.2017-08-01.1   10MB
    my.2017-08-02.0   56MB
    my.2017-08-03.0   53MB
    ......
</code></pre>
<p>--&gt;
</code></pre></p>
<ul>
<li>生产环境与开发环境配置
<ul>
<li>application-dev.yml</li>
<li>application-pro.yml</li>
</ul>
</li>
</ul>
<h3 id="32-异常处理">3.2 异常处理</h3>
<p><strong>1、定义错误页面</strong></p>
<ul>
<li>404</li>
<li>500</li>
<li>error</li>
</ul>
<p><strong>2、全局处理异常</strong></p>
<p>统一处理异常：</p>
<pre><code class="language-java">@ControllerAdvice
public class ControllerExceptionHandler {
<pre><code>private final Logger logger = LoggerFactory.getLogger(ControllerExceptionHandler.class);
/**
 * 异常处理
 * @param request
 * @param e
 * @return
 */
@ExceptionHandler({Exception.class})
public ModelAndView handleException(HttpServletRequest request, Exception e) throws Exception {

    logger.error(&amp;quot;Request URL : {} , Exception : {}&amp;quot;, request.getRequestURL(), e);

    if (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null) {
        throw e;
    }
    ModelAndView mav = new ModelAndView();
    mav.addObject(&amp;quot;url&amp;quot;, request.getRequestURL());
    mav.addObject(&amp;quot;exception&amp;quot;, e);
    mav.setViewName(&amp;quot;error/error&amp;quot;);

    return mav;
}
</code></pre>
<p>}
</code></pre></p>
<p>错误页面异常信息显示处理：</p>
<pre><code class="language-html">&lt;div&gt;
    &lt;div th:utext=&quot;'&amp;lt;!--'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Failed Request URL : ' + ${url}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Exception message : ' + ${exception.message}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;ul th:remove=&quot;tag&quot;&gt;
        &lt;li th:each=&quot;st : ${exception.stackTrace}&quot; th:remove=&quot;tag&quot;&gt;&lt;span th:utext=&quot;${st}&quot; th:remove=&quot;tag&quot;&gt;&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
    &lt;div th:utext=&quot;'--&amp;gt;'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><strong>3、资源找不到异常</strong></p>
<pre><code class="language-java">@ResponseStatus(HttpStatus.NOT_FOUND)
public class NotFoundExcepiton extends RuntimeException {
<pre><code>public NotFoundExcepiton() {
}

public NotFoundExcepiton(String message) {
    super(message);
}

public NotFoundExcepiton(String message, Throwable cause) {
    super(message, cause);
}
</code></pre>
<p>}
</code></pre></p>
<h3 id="33-日志处理">3.3 日志处理</h3>
<p><strong>1、记录日志内容</strong></p>
<ul>
<li>请求 url</li>
<li>访问者 ip</li>
<li>调用方法 classMethod</li>
<li>参数 args</li>
<li>返回内容</li>
</ul>
<p><strong>2、记录日志类：</strong></p>
<pre><code class="language-java">@Aspect
@Component
public class LogAspect {
<pre><code>private final Logger logger = LoggerFactory.getLogger(this.getClass());

/**
 * 定义切面
 */
@Pointcut(&amp;quot;execution(* com.imcoding.web.*.*(..))&amp;quot;)
public void log() {
}

@Before(&amp;quot;log()&amp;quot;)
public void doBefore(JoinPoint joinPoint) {
    ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
    HttpServletRequest request = attributes.getRequest();
    String classMethod = joinPoint.getSignature().getDeclaringTypeName() + &amp;quot;.&amp;quot; + joinPoint.getSignature().getName();
    ReqeustLog reqeustLog = new ReqeustLog(
            request.getRequestURL().toString(),
            request.getRemoteAddr(),
            classMethod,
            joinPoint.getArgs()
    );
    logger.info(&amp;quot;Rquest  ----- {}&amp;quot;,reqeustLog);
}

@After(&amp;quot;log()&amp;quot;)
public void doAfter() {
    //logger.info(&amp;quot;---------- doAfter 2 ----------&amp;quot;);
}

@AfterReturning(returning = &amp;quot;result&amp;quot;,pointcut = &amp;quot;log()&amp;quot;)
public void doAtfertRturning(Object result) {
    logger.info(&amp;quot;Return ------ {}&amp;quot;,result );
}


private class ReqeustLog {
    private String url;
    private String ip;
    private String classMethod;
    private Object[] args;

    public ReqeustLog(String url, String ip, String classMethod, Object[] args) {
        this.url = url;
        this.ip = ip;
        this.classMethod = classMethod;
        this.args = args;
    }

    @Override
    public String toString() {
        return &amp;quot;ReqeustLog{&amp;quot; +
                &amp;quot;url='&amp;quot; + url + '\'' +
                &amp;quot;, ip='&amp;quot; + ip + '\'' +
                &amp;quot;, classMethod='&amp;quot; + classMethod + '\'' +
                &amp;quot;, args=&amp;quot; + Arrays.toString(args) +
                '}';
    }
}
</code></pre>
<p>}</p>
<p></code></pre></p>
<h3 id="34-页面处理">3.4 页面处理</h3>
<p><strong>1、静态页面导入project</strong></p>
<p><strong>2、thymeleaf布局</strong></p>
<ul>
<li>定义fragment</li>
<li>使用fragment布局</li>
</ul>
<p><strong>3、错误页面美化</strong></p>
<p>4、设计与规范</p>
<h3 id="41-实体设计">4.1 实体设计</h3>
<p><strong>实体类：</strong></p>
<ul>
<li>博客 Blog</li>
<li>博客分类 Type</li>
<li>博客标签 Tag</li>
<li>博客评论 Comment</li>
<li>用户 User</li>
</ul>
<p><strong>实体关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/87092095.jpg" alt="" /></p>
<p><strong>评论类自关联关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/41296045.jpg" alt="" /></p>
<p><strong>Blog类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/38390041.jpg" alt="" /></p>
<p><strong>Type类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/22984471.jpg" alt="" /></p>
<p><strong>Tag类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/70860077.jpg" alt="" /></p>
<p><strong>Comment类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/77104424.jpg" alt="" /></p>
<p><strong>User类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/10367795.jpg" alt="" /></p>
<h3 id="42-应用分层">4.2 应用分层</h3>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/64528736.jpg" alt="" /></p>
<h3 id="43-命名约定">4.3 命名约定</h3>
<p><strong>Service/DAO层命名约定：</strong></p>
<ul>
<li>获取单个对象的方法用get做前缀。</li>
<li>获取多个对象的方法用list做前缀。</li>
<li>获取统计值的方法用count做前缀。</li>
<li>插入的方法用save(推荐)或insert做前缀。</li>
<li>删除的方法用remove(推荐)或delete做前缀。</li>
<li>修改的方法用update做前缀。</li>
</ul>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="5后台管理功能实现">5、后台管理功能实现</h2>
<h3 id="51-登录">5.1 登录</h3>
<p><strong>1、构建登录页面和后台管理首页</strong></p>
<p><strong>2、UserService和UserRepository</strong></p>
<p><strong>3、LoginController实现登录</strong></p>
<p><strong>4、MD5加密</strong></p>
<p><strong>5、登录拦截器</strong></p>
<h3 id="52-分类管理">5.2 分类管理</h3>
<p><strong>1、分类管理页面</strong></p>
<p><strong>2、分类列表分页</strong></p>
<pre><code class="language-javascript">{
  &quot;content&quot;:[
    {&quot;id&quot;:123,&quot;title&quot;:&quot;blog122&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:122,&quot;title&quot;:&quot;blog121&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:121,&quot;title&quot;:&quot;blog120&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:120,&quot;title&quot;:&quot;blog119&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:119,&quot;title&quot;:&quot;blog118&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:118,&quot;title&quot;:&quot;blog117&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:117,&quot;title&quot;:&quot;blog116&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:116,&quot;title&quot;:&quot;blog115&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:115,&quot;title&quot;:&quot;blog114&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:114,&quot;title&quot;:&quot;blog113&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:113,&quot;title&quot;:&quot;blog112&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:112,&quot;title&quot;:&quot;blog111&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:111,&quot;title&quot;:&quot;blog110&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:110,&quot;title&quot;:&quot;blog109&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:109,&quot;title&quot;:&quot;blog108&quot;,&quot;content&quot;:&quot;this is blog content&quot;}],
  &quot;last&quot;:false,
  &quot;totalPages&quot;:9,
  &quot;totalElements&quot;:123,
  &quot;size&quot;:15,
  &quot;number&quot;:0,
  &quot;first&quot;:true,
  &quot;sort&quot;:[{
    &quot;direction&quot;:&quot;DESC&quot;,
    &quot;property&quot;:&quot;id&quot;,
    &quot;ignoreCase&quot;:false,
    &quot;nullHandling&quot;:&quot;NATIVE&quot;,
    &quot;ascending&quot;:false
  }],
  &quot;numberOfElements&quot;:15
}
<p></code></pre></p>
<p><strong>3、分类新增、修改、删除</strong></p>
<h3 id="53-标签管理">5.3 标签管理</h3>
<h3 id="54-博客管理">5.4 博客管理</h3>
<p><strong>1、博客分页查询</strong></p>
<p><strong>2、博客新增</strong></p>
<p><strong>3、博客修改</strong></p>
<p><strong>4、博客删除</strong></p>
<h2 id="6前端展示功能实现">6、前端展示功能实现</h2>
<h3 id="61-首页展示">6.1 首页展示</h3>
<p><strong>1、博客列表</strong></p>
<p><strong>2、top分类</strong></p>
<p><strong>3、top标签</strong></p>
<p><strong>4、最新博客推荐</strong></p>
<p><strong>5、博客详情</strong></p>
<p><strong>1、Markdown 转换 HTML</strong></p>
<ul>
<li><a href="https://github.com/atlassian/commonmark-java" target="_blank">commonmark-java  https://github.com/atlassian/commonmark-java</a></li>
<li>pom.xml引用commonmark和扩展插件</li>
</ul>
<pre><code class="language-xml">&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-heading-anchor&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-gfm-tables&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
<p></code></pre></p>
<p><strong>2、评论功能</strong></p>
<ul>
<li>评论信息提交与回复功能</li>
<li>评论信息列表展示功能</li>
<li>管理员回复评论功能</li>
</ul>
<h3 id="62-分类页">6.2 分类页</h3>
<h3 id="63-标签页">6.3 标签页</h3>
<h3 id="64-归档页">6.4 归档页</h3>
<h3 id="65-关于我">6.5 关于我</h3>
(String), null, https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1590818036358&di=9569a5452be6c4297afbb3746283a8d3&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201804%2F18%2F172344g6tsuasyytq2dd7a.png(String), null, false(Boolean), true(Boolean), false(Boolean), true(Boolean), 2020-06-09 10:24:11.003(Timestamp), 11(Long)
2020-06-09 10:24:11.080 DEBUG 7312 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.updateBlog          : <==    Updates: 1
2020-06-09 10:24:15.516  INFO 7312 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:24:15.516  INFO 7312 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:24:16.060  INFO 7312 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:24:16.062 DEBUG 7312 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:24:16.063 DEBUG 7312 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:24:16.067 DEBUG 7312 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:24:16.067  INFO 7312 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:24:16.067  INFO 7312 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:24:16.256  INFO 7312 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:24:16.257 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:24:16.258 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:24:16.263 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:24:16.264 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:24:16.264 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:24:16.267 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:24:16.268 DEBUG 7312 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:24:16.268 DEBUG 7312 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:24:16.270 DEBUG 7312 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:24:16.270 DEBUG 7312 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:24:16.270 DEBUG 7312 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:24:16.273 DEBUG 7312 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:24:16.274 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:24:16.275 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:24:16.277 DEBUG 7312 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:24:16.277  INFO 7312 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:24:16.277  INFO 7312 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:25:25.390  INFO 7312 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@7542e63c])
2020-06-09 10:25:27.877 DEBUG 7312 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:25:27.879 DEBUG 7312 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:25:27.896 DEBUG 7312 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:25:30.184 DEBUG 7312 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:25:30.189 DEBUG 7312 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 9(Long), 11(Long), 11(Long), 9(Long)
2020-06-09 10:25:30.192 DEBUG 7312 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:25:30.195 DEBUG 7312 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:25:30.202 DEBUG 7312 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 10(Long), 11(Long), 11(Long), 10(Long)
2020-06-09 10:25:30.205 DEBUG 7312 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:25:30.207 DEBUG 7312 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:25:30.212 DEBUG 7312 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 11(Long), 11(Long), 11(Long), 11(Long)
2020-06-09 10:25:30.215 DEBUG 7312 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:25:30.217 DEBUG 7312 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.updateBlog          : ==>  Preparing: update t_blog set published = ?,flag = ? , title = ?, content = ?, type_id = ?, first_picture = ? , description = ? , recommend = ? , share_statement = ?, appreciation = ?, commentabled = ? ,update_time = ? where id = ?; 
2020-06-09 10:25:30.241 DEBUG 7312 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.updateBlog          : ==> Parameters: false(Boolean), 转载(String), Spring Boot开发小而美的个人博客(String), <h1 id="spring-boot开发小而美的个人博客">Spring Boot开发小而美的个人博客</h1>
<blockquote>
<p>原文作者：李仁密</p>
</blockquote>
<blockquote>
<p>B站教学地址 : https://www.bilibili.com/video/BV1nE411r7TF?p=43</p>
</blockquote>
<p><strong>个人博客功能：</strong></p>
<p><strong>技术组合：</strong></p>
<ul>
<li>后端：Spring Boot + JPA + thymeleaf模板</li>
<li>数据库：MySQL</li>
<li>前端UI：Semantic UI框架</li>
</ul>
<p><strong>工具与环境：</strong></p>
<ul>
<li>IDEA</li>
<li>Maven 3</li>
<li>JDK 8</li>
<li>Axure RP 8</li>
</ul>
<p><strong>课程内容模块：</strong></p>
<ul>
<li>需求分析与功能规划</li>
<li>页面设计与开发</li>
<li>技术框架搭建</li>
<li>后端管理功能实现</li>
<li>前端管理功能实现</li>
</ul>
<p><strong>你能学得什么？</strong></p>
<ul>
<li>基于Spring Boot的完整全栈式的开发套路</li>
<li>Semantic UI框架的使用</li>
<li>一套博客系统的源代码与设计</li>
</ul>
<h2 id="1需求与功能">1、需求与功能</h2>
<h3 id="11-用户故事">1.1 用户故事</h3>
<p>用户故事是敏捷框架中的一种开发方法。可以帮助开发者转换视角，以用户的角度更好的把握需求，从而实现具有商业价值的功能。</p>
<blockquote>
<p>用户故事最好是用户团队编写</p>
</blockquote>
<p><strong>用户故事模板</strong>：</p>
<ul>
<li>As a (role of user), I want (some feature) so that (some business value).</li>
<li>作为一个(某个角色) 使用者，我可以做(某个功能) 事情，如此可以有(某个商业价值) 的好处</li>
</ul>
<p><strong>关键点</strong>：角色、功能、商业价值</p>
<p><strong>举例</strong>：</p>
<ul>
<li>作为一个招聘网站<strong>注册用户</strong>，我想<strong>查看最近3天发布的招聘信息</strong>，以便于<strong>了解最新的招聘信息</strong>。</li>
<li>作为公司，可以张贴新工作。</li>
</ul>
<p>个人博客系统的用户故事：</p>
<p>角色：<strong>普通访客</strong>，<strong>管理员（我）</strong></p>
<ul>
<li>访客，可以分页查看所有的博客</li>
<li>访客，可以快速查看博客数最多的6个分类</li>
<li>访客，可以查看所有的分类</li>
<li>访客，可以查看某个分类下的博客列表</li>
<li>访客，可以快速查看标记博客最多的10个标签</li>
<li>访客，可以查看所有的标签</li>
<li>访客，可以查看某个标签下的博客列表</li>
<li>访客，可以根据年度时间线查看博客列表</li>
<li>访客，可以快速查看最新的推荐博客</li>
<li>访客，可以用关键字全局搜索博客</li>
<li>访客，可以查看单个博客内容</li>
<li>访客，可以对博客内容进行评论</li>
<li>访客，可以赞赏博客内容</li>
<li>访客，可以微信扫码阅读博客内容</li>
<li>访客，可以在首页扫描公众号二维码关注我</li>
<li>我，可以用户名和密码登录后台管理</li>
<li>我，可以管理博客
<ul>
<li>我，可以发布新博客</li>
<li>我，可以对博客进行分类</li>
<li>我，可以对博客打标签</li>
<li>我，可以修改博客</li>
<li>我，可以删除博客</li>
<li>我，可以根据标题，分类，标签查询博客</li>
</ul>
</li>
<li>我，可以管理博客分类
<ul>
<li>我，可以新增一个分类</li>
<li>我，可以修改一个分类</li>
<li>我，可以删除一个分类</li>
<li>我，可以根据分类名称查询分类</li>
</ul>
</li>
<li>我，可以管理标签
<ul>
<li>我，可以新增一个标签</li>
<li>我，可以修改一个标签</li>
<li>我，可以删除一个标签</li>
<li>我，可以根据名称查询标签</li>
</ul>
</li>
</ul>
<h3 id="12-功能规划">1.2 功能规划</h3>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="2页面设计与开发">2、页面设计与开发</h2>
<h3 id="21-设计">2.1 设计</h3>
<p><strong>页面规划：</strong></p>
<p>前端展示：首页、详情页、分类、标签、归档、关于我</p>
<p>后台管理：模板页</p>
<h3 id="22-页面开发">2.2 页面开发</h3>
<p><a href="https://semantic-ui.com/" target="_blank">Semantic UI官网</a></p>
<p><a href="http://www.semantic-ui.cn/" target="_blank">Semantic UI中文官网</a></p>
<p><a href="https://imcoding.me/blogs/5" target="_blank">WebStorm下载与破解</a></p>
<p><a href="https://www.toptal.com/designers/subtlepatterns/" target="_blank">背景图片资源</a></p>
<h3 id="23-插件集成">2.3 插件集成</h3>
<p><a href="https://pandao.github.io/editor.md/" target="_blank">编辑器 Markdown</a></p>
<p><a href="https://github.com/sofish/typo.css" target="_blank">内容排版 typo.css</a></p>
<p><a href="https://daneden.github.io/animate.css/" target="_blank">动画 animate.css</a></p>
<p><a href="https://github.com/PrismJS/prism" target="_blank">代码高亮 prism</a></p>
<p><a href="https://tscanlin.github.io/tocbot/" target="_blank">目录生成 Tocbot</a></p>
<p><a href="http://imakewebthings.com/waypoints/" target="_blank">滚动侦测 waypoints</a></p>
<p><a href="https://github.com/flesler/jquery.scrollTo" target="_blank">平滑滚动 jquery.scrollTo</a></p>
<p><a href="https://davidshimjs.github.io/qrcodejs/" target="_blank">二维码生成 qrcode.js</a></p>
<h2 id="3框架搭建">3、框架搭建</h2>
<blockquote>
<p><a href="https://www.jetbrains.com/idea/" target="_blank">IDEA下载 https://www.jetbrains.com/idea/</a></p>
</blockquote>
<h3 id="31-构建与配置">3.1 构建与配置</h3>
<p><strong>1、引入Spring Boot模块：</strong></p>
<ul>
<li>web</li>
<li>Thymeleaf</li>
<li>JPA</li>
<li>MySQL</li>
<li>Aspects</li>
<li>DevTools</li>
</ul>
<p><strong>2、application.yml配置</strong></p>
<ul>
<li>
<p>使用 thymeleaf 3</p>
<p>pom.xml:</p>
</li>
</ul>
<pre><code class="language-xml">&lt;thymeleaf.version&gt;3.0.2.RELEASE&lt;/thymeleaf.version&gt;
&lt;thymeleaf-layout-dialect.version&gt;2.1.1&lt;/thymeleaf-layout-dialect.version&gt;
</code></pre>
<pre><code>application.yml:
</code></pre>
<pre><code class="language-yaml">spring:
  thymeleaf:
    mode: HTML
</code></pre>
<ul>
<li>数据库连接配置</li>
</ul>
<pre><code class="language-yaml">spring:
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://localhost:3306/blog?useUnicode=true&amp;characterEncoding=utf-8
    username: root
    password: root
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
</code></pre>
<ul>
<li>
<p>日志配置</p>
<p>application.yml:</p>
</li>
</ul>
<pre><code class="language-yaml">logging:
  level:
    root: info
    com.imcoding: debug
  file: log/imcoding.log
</code></pre>
<p>​	logback-spring.xml：</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;configuration&gt;
    &lt;!--包含Spring boot对logback日志的默认配置--&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot; /&gt;
    &lt;property name=&quot;LOG_FILE&quot; value=&quot;${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}}/spring.log}&quot;/&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;
<pre><code>&amp;lt;!--重写了Spring Boot框架 org/springframework/boot/logging/logback/file-appender.xml 配置--&amp;gt;
&amp;lt;appender name=&amp;quot;TIME_FILE&amp;quot;
          class=&amp;quot;ch.qos.logback.core.rolling.RollingFileAppender&amp;quot;&amp;gt;
    &amp;lt;encoder&amp;gt;
        &amp;lt;pattern&amp;gt;${FILE_LOG_PATTERN}&amp;lt;/pattern&amp;gt;
    &amp;lt;/encoder&amp;gt;
    &amp;lt;file&amp;gt;${LOG_FILE}&amp;lt;/file&amp;gt;
    &amp;lt;rollingPolicy class=&amp;quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&amp;quot;&amp;gt;
        &amp;lt;fileNamePattern&amp;gt;${LOG_FILE}.%d{yyyy-MM-dd}.%i&amp;lt;/fileNamePattern&amp;gt;
        &amp;lt;!--保留历史日志一个月的时间--&amp;gt;
        &amp;lt;maxHistory&amp;gt;30&amp;lt;/maxHistory&amp;gt;
        &amp;lt;!--
        Spring Boot默认情况下，日志文件10M时，会切分日志文件,这样设置日志文件会在100M时切分日志
        --&amp;gt;
        &amp;lt;timeBasedFileNamingAndTriggeringPolicy class=&amp;quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&amp;quot;&amp;gt;
            &amp;lt;maxFileSize&amp;gt;10MB&amp;lt;/maxFileSize&amp;gt;
        &amp;lt;/timeBasedFileNamingAndTriggeringPolicy&amp;gt;
<pre><code>&amp;amp;lt;/rollingPolicy&amp;amp;gt;
</code></pre>
<p>&amp;lt;/appender&amp;gt;</p>
<p>&amp;lt;root level=&amp;quot;INFO&amp;quot;&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;CONSOLE&amp;quot; /&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;TIME_FILE&amp;quot; /&amp;gt;
&amp;lt;/root&amp;gt;
</code></pre></p>
<p>&lt;/configuration&gt;
&lt;!--
1、继承Spring boot logback设置（可以在appliaction.yml或者application.properties设置logging.*属性）
2、重写了默认配置，设置日志文件大小在100MB时，按日期切分日志，切分后目录：</p>
<pre><code>    my.2017-08-01.0   80MB
    my.2017-08-01.1   10MB
    my.2017-08-02.0   56MB
    my.2017-08-03.0   53MB
    ......
</code></pre>
<p>--&gt;
</code></pre></p>
<ul>
<li>生产环境与开发环境配置
<ul>
<li>application-dev.yml</li>
<li>application-pro.yml</li>
</ul>
</li>
</ul>
<h3 id="32-异常处理">3.2 异常处理</h3>
<p><strong>1、定义错误页面</strong></p>
<ul>
<li>404</li>
<li>500</li>
<li>error</li>
</ul>
<p><strong>2、全局处理异常</strong></p>
<p>统一处理异常：</p>
<pre><code class="language-java">@ControllerAdvice
public class ControllerExceptionHandler {
<pre><code>private final Logger logger = LoggerFactory.getLogger(ControllerExceptionHandler.class);
/**
 * 异常处理
 * @param request
 * @param e
 * @return
 */
@ExceptionHandler({Exception.class})
public ModelAndView handleException(HttpServletRequest request, Exception e) throws Exception {
<pre><code>logger.error(&amp;amp;quot;Request URL : {} , Exception : {}&amp;amp;quot;, request.getRequestURL(), e);

if (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null) {
    throw e;
}
ModelAndView mav = new ModelAndView();
mav.addObject(&amp;amp;quot;url&amp;amp;quot;, request.getRequestURL());
mav.addObject(&amp;amp;quot;exception&amp;amp;quot;, e);
mav.setViewName(&amp;amp;quot;error/error&amp;amp;quot;);

return mav;
</code></pre>
<p>}
</code></pre></p>
<p>}
</code></pre></p>
<p>错误页面异常信息显示处理：</p>
<pre><code class="language-html">&lt;div&gt;
    &lt;div th:utext=&quot;'&amp;lt;!--'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Failed Request URL : ' + ${url}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Exception message : ' + ${exception.message}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;ul th:remove=&quot;tag&quot;&gt;
        &lt;li th:each=&quot;st : ${exception.stackTrace}&quot; th:remove=&quot;tag&quot;&gt;&lt;span th:utext=&quot;${st}&quot; th:remove=&quot;tag&quot;&gt;&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
    &lt;div th:utext=&quot;'--&amp;gt;'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><strong>3、资源找不到异常</strong></p>
<pre><code class="language-java">@ResponseStatus(HttpStatus.NOT_FOUND)
public class NotFoundExcepiton extends RuntimeException {
<pre><code>public NotFoundExcepiton() {
}
<p>public NotFoundExcepiton(String message) {
super(message);
}</p>
<p>public NotFoundExcepiton(String message, Throwable cause) {
super(message, cause);
}
</code></pre></p>
<p>}
</code></pre></p>
<h3 id="33-日志处理">3.3 日志处理</h3>
<p><strong>1、记录日志内容</strong></p>
<ul>
<li>请求 url</li>
<li>访问者 ip</li>
<li>调用方法 classMethod</li>
<li>参数 args</li>
<li>返回内容</li>
</ul>
<p><strong>2、记录日志类：</strong></p>
<pre><code class="language-java">@Aspect
@Component
public class LogAspect {
<pre><code>private final Logger logger = LoggerFactory.getLogger(this.getClass());
<p>/**</p>
<ul>
<li>定义切面
<em>/
@Pointcut(&amp;quot;execution(</em> com.imcoding.web.<em>.</em>(..))&amp;quot;)
public void log() {
}</li>
</ul>
<p>@Before(&amp;quot;log()&amp;quot;)
public void doBefore(JoinPoint joinPoint) {
ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
HttpServletRequest request = attributes.getRequest();
String classMethod = joinPoint.getSignature().getDeclaringTypeName() + &amp;quot;.&amp;quot; + joinPoint.getSignature().getName();
ReqeustLog reqeustLog = new ReqeustLog(
request.getRequestURL().toString(),
request.getRemoteAddr(),
classMethod,
joinPoint.getArgs()
);
logger.info(&amp;quot;Rquest  ----- {}&amp;quot;,reqeustLog);
}</p>
<p>@After(&amp;quot;log()&amp;quot;)
public void doAfter() {
//logger.info(&amp;quot;---------- doAfter 2 ----------&amp;quot;);
}</p>
<p>@AfterReturning(returning = &amp;quot;result&amp;quot;,pointcut = &amp;quot;log()&amp;quot;)
public void doAtfertRturning(Object result) {
logger.info(&amp;quot;Return ------ {}&amp;quot;,result );
}</p>
<p>private class ReqeustLog {
private String url;
private String ip;
private String classMethod;
private Object[] args;</p>
<pre><code>public ReqeustLog(String url, String ip, String classMethod, Object[] args) {
    this.url = url;
    this.ip = ip;
    this.classMethod = classMethod;
    this.args = args;
}

@Override
public String toString() {
    return &amp;amp;quot;ReqeustLog{&amp;amp;quot; +
            &amp;amp;quot;url='&amp;amp;quot; + url + '\'' +
            &amp;amp;quot;, ip='&amp;amp;quot; + ip + '\'' +
            &amp;amp;quot;, classMethod='&amp;amp;quot; + classMethod + '\'' +
            &amp;amp;quot;, args=&amp;amp;quot; + Arrays.toString(args) +
            '}';
}
</code></pre>
<p>}
</code></pre></p>
<p>}</p>
<p></code></pre></p>
<h3 id="34-页面处理">3.4 页面处理</h3>
<p><strong>1、静态页面导入project</strong></p>
<p><strong>2、thymeleaf布局</strong></p>
<ul>
<li>定义fragment</li>
<li>使用fragment布局</li>
</ul>
<p><strong>3、错误页面美化</strong></p>
<p>4、设计与规范</p>
<h3 id="41-实体设计">4.1 实体设计</h3>
<p><strong>实体类：</strong></p>
<ul>
<li>博客 Blog</li>
<li>博客分类 Type</li>
<li>博客标签 Tag</li>
<li>博客评论 Comment</li>
<li>用户 User</li>
</ul>
<p><strong>实体关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/87092095.jpg" alt="" /></p>
<p><strong>评论类自关联关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/41296045.jpg" alt="" /></p>
<p><strong>Blog类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/38390041.jpg" alt="" /></p>
<p><strong>Type类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/22984471.jpg" alt="" /></p>
<p><strong>Tag类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/70860077.jpg" alt="" /></p>
<p><strong>Comment类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/77104424.jpg" alt="" /></p>
<p><strong>User类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/10367795.jpg" alt="" /></p>
<h3 id="42-应用分层">4.2 应用分层</h3>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/64528736.jpg" alt="" /></p>
<h3 id="43-命名约定">4.3 命名约定</h3>
<p><strong>Service/DAO层命名约定：</strong></p>
<ul>
<li>获取单个对象的方法用get做前缀。</li>
<li>获取多个对象的方法用list做前缀。</li>
<li>获取统计值的方法用count做前缀。</li>
<li>插入的方法用save(推荐)或insert做前缀。</li>
<li>删除的方法用remove(推荐)或delete做前缀。</li>
<li>修改的方法用update做前缀。</li>
</ul>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="5后台管理功能实现">5、后台管理功能实现</h2>
<h3 id="51-登录">5.1 登录</h3>
<p><strong>1、构建登录页面和后台管理首页</strong></p>
<p><strong>2、UserService和UserRepository</strong></p>
<p><strong>3、LoginController实现登录</strong></p>
<p><strong>4、MD5加密</strong></p>
<p><strong>5、登录拦截器</strong></p>
<h3 id="52-分类管理">5.2 分类管理</h3>
<p><strong>1、分类管理页面</strong></p>
<p><strong>2、分类列表分页</strong></p>
<pre><code class="language-javascript">{
  &quot;content&quot;:[
    {&quot;id&quot;:123,&quot;title&quot;:&quot;blog122&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:122,&quot;title&quot;:&quot;blog121&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:121,&quot;title&quot;:&quot;blog120&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:120,&quot;title&quot;:&quot;blog119&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:119,&quot;title&quot;:&quot;blog118&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:118,&quot;title&quot;:&quot;blog117&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:117,&quot;title&quot;:&quot;blog116&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:116,&quot;title&quot;:&quot;blog115&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:115,&quot;title&quot;:&quot;blog114&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:114,&quot;title&quot;:&quot;blog113&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:113,&quot;title&quot;:&quot;blog112&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:112,&quot;title&quot;:&quot;blog111&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:111,&quot;title&quot;:&quot;blog110&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:110,&quot;title&quot;:&quot;blog109&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:109,&quot;title&quot;:&quot;blog108&quot;,&quot;content&quot;:&quot;this is blog content&quot;}],
  &quot;last&quot;:false,
  &quot;totalPages&quot;:9,
  &quot;totalElements&quot;:123,
  &quot;size&quot;:15,
  &quot;number&quot;:0,
  &quot;first&quot;:true,
  &quot;sort&quot;:[{
    &quot;direction&quot;:&quot;DESC&quot;,
    &quot;property&quot;:&quot;id&quot;,
    &quot;ignoreCase&quot;:false,
    &quot;nullHandling&quot;:&quot;NATIVE&quot;,
    &quot;ascending&quot;:false
  }],
  &quot;numberOfElements&quot;:15
}
<p></code></pre></p>
<p><strong>3、分类新增、修改、删除</strong></p>
<h3 id="53-标签管理">5.3 标签管理</h3>
<h3 id="54-博客管理">5.4 博客管理</h3>
<p><strong>1、博客分页查询</strong></p>
<p><strong>2、博客新增</strong></p>
<p><strong>3、博客修改</strong></p>
<p><strong>4、博客删除</strong></p>
<h2 id="6前端展示功能实现">6、前端展示功能实现</h2>
<h3 id="61-首页展示">6.1 首页展示</h3>
<p><strong>1、博客列表</strong></p>
<p><strong>2、top分类</strong></p>
<p><strong>3、top标签</strong></p>
<p><strong>4、最新博客推荐</strong></p>
<p><strong>5、博客详情</strong></p>
<p><strong>1、Markdown 转换 HTML</strong></p>
<ul>
<li><a href="https://github.com/atlassian/commonmark-java" target="_blank">commonmark-java  https://github.com/atlassian/commonmark-java</a></li>
<li>pom.xml引用commonmark和扩展插件</li>
</ul>
<pre><code class="language-xml">&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-heading-anchor&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-gfm-tables&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
<p></code></pre></p>
<p><strong>2、评论功能</strong></p>
<ul>
<li>评论信息提交与回复功能</li>
<li>评论信息列表展示功能</li>
<li>管理员回复评论功能</li>
</ul>
<h3 id="62-分类页">6.2 分类页</h3>
<h3 id="63-标签页">6.3 标签页</h3>
<h3 id="64-归档页">6.4 归档页</h3>
<h3 id="65-关于我">6.5 关于我</h3>
(String), null, https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1590818036358&di=9569a5452be6c4297afbb3746283a8d3&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201804%2F18%2F172344g6tsuasyytq2dd7a.png(String), null, false(Boolean), true(Boolean), false(Boolean), true(Boolean), 2020-06-09 10:25:30.182(Timestamp), 11(Long)
2020-06-09 10:25:30.257 DEBUG 7312 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.updateBlog          : <==    Updates: 1
2020-06-09 10:25:37.562  INFO 7312 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:25:37.562  INFO 7312 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:25:54.407  INFO 15080 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 15080 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 10:25:54.410 DEBUG 15080 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 10:25:54.410  INFO 15080 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 10:25:54.506  INFO 15080 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 10:25:54.507  INFO 15080 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 10:25:56.945  INFO 15080 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 10:25:56.956  INFO 15080 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 10:25:56.956  INFO 15080 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 10:25:57.079  INFO 15080 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 10:25:57.079  INFO 15080 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2572 ms
2020-06-09 10:25:58.098  INFO 15080 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 10:25:58.248  INFO 15080 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 10:25:58.759  INFO 15080 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 10:25:58.826  INFO 15080 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 10:25:58.832  INFO 15080 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 5.311 seconds (JVM running for 11.483)
2020-06-09 10:38:07.182  INFO 15080 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 10:38:07.183  INFO 15080 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 10:38:07.198  INFO 15080 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2020-06-09 10:38:07.241  INFO 15080 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@686a2004])
2020-06-09 10:38:09.149  INFO 15080 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 10:38:09.732  INFO 15080 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 10:38:09.798 DEBUG 15080 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:38:10.092 DEBUG 15080 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:38:10.324 DEBUG 15080 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:38:12.502 DEBUG 15080 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set view=? where id = ?; 
2020-06-09 10:38:12.503 DEBUG 15080 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 11(Integer), 11(Long)
2020-06-09 10:38:15.111  INFO 15080 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:38:15.122 ERROR 15080 --- [http-nio-8080-exec-1] c.b.handler.ControllerExceptionHandler   : Request url: /blog/11, Exception: {}

org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'view' in 'field list'
### The error may exist in file [F:\idea\blog\blog-master\blog\target\classes\mapper\BlogDao.xml]
### The error may involve com.blog.dao.BlogDao.updateBlogView-Inline
### The error occurred while setting parameters
### SQL: update t_blog         set view=?         where id = ?;
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'view' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'view' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:235) ~[spring-jdbc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72) ~[spring-jdbc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at com.sun.proxy.$Proxy82.update(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:93) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy83.updateBlogView(Unknown Source) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.sun.proxy.$Proxy84.updateBlogView(Unknown Source) ~[na:na]
	at com.blog.service.impl.BlogServiceImpl.updateBlogView(BlogServiceImpl.java:131) ~[classes/:na]
	at com.blog.service.impl.BlogServiceImpl$$FastClassBySpringCGLIB$$257eb4bd.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:685) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.blog.service.impl.BlogServiceImpl$$EnhancerBySpringCGLIB$$5d3f8e7b.updateBlogView(<generated>) ~[classes/:na]
	at com.blog.controller.IndexController.toLogin(IndexController.java:71) ~[classes/:na]
	at com.blog.controller.IndexController$$FastClassBySpringCGLIB$$cc1b20fb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.blog.controller.IndexController$$EnhancerBySpringCGLIB$$8ec2478d.toLogin(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'view' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-3.4.2.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-3.4.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy114.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.3.jar:3.5.3]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy112.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.3.jar:3.5.3]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426) ~[mybatis-spring-2.0.3.jar:2.0.3]
	... 91 common frames omitted

2020-06-09 10:38:15.131  WARN 15080 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'view' in 'field list'
### The error may exist in file [F:\idea\blog\blog-master\blog\target\classes\mapper\BlogDao.xml]
### The error may involve com.blog.dao.BlogDao.updateBlogView-Inline
### The error occurred while setting parameters
### SQL: update t_blog         set view=?         where id = ?;
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'view' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'view' in 'field list']
2020-06-09 10:38:51.087  INFO 11260 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 11260 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 10:38:51.090 DEBUG 11260 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 10:38:51.091  INFO 11260 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 10:38:51.206  INFO 11260 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 10:38:51.206  INFO 11260 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 10:38:53.504  INFO 11260 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 10:38:53.528  INFO 11260 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 10:38:53.528  INFO 11260 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 10:38:53.648  INFO 11260 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 10:38:53.648  INFO 11260 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2442 ms
2020-06-09 10:38:54.702  INFO 11260 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 10:38:54.829  INFO 11260 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 10:38:55.266  INFO 11260 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 10:38:55.317  INFO 11260 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 10:38:55.320  INFO 11260 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 5.185 seconds (JVM running for 14.141)
2020-06-09 10:39:14.335  INFO 11260 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 10:39:14.335  INFO 11260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 10:39:14.352  INFO 11260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 17 ms
2020-06-09 10:39:14.398  INFO 11260 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@5ae14037])
2020-06-09 10:39:16.096  INFO 11260 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 10:39:16.278  INFO 11260 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 10:39:16.289 DEBUG 11260 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:39:16.315 DEBUG 11260 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:39:16.345 DEBUG 11260 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:39:16.422 DEBUG 11260 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 10:39:16.423 DEBUG 11260 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 11(Integer), 11(Long)
2020-06-09 10:39:16.429 DEBUG 11260 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 10:39:16.430  INFO 11260 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:39:16.431  INFO 11260 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:39:17.628  INFO 11260 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:39:17.630 DEBUG 11260 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:39:17.631 DEBUG 11260 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:39:17.632 DEBUG 11260 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:39:17.633  INFO 11260 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:39:17.633  INFO 11260 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:39:17.798  INFO 11260 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:39:17.801 DEBUG 11260 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:39:17.801 DEBUG 11260 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:39:17.812 DEBUG 11260 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:39:17.813 DEBUG 11260 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:39:17.813 DEBUG 11260 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:39:17.814 DEBUG 11260 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:39:17.815 DEBUG 11260 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:39:17.815 DEBUG 11260 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:39:17.817 DEBUG 11260 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:39:17.818 DEBUG 11260 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:39:17.818 DEBUG 11260 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:39:17.823 DEBUG 11260 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:39:17.825 DEBUG 11260 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:39:17.825 DEBUG 11260 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:39:17.826 DEBUG 11260 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:39:17.827  INFO 11260 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:39:17.827  INFO 11260 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:39:20.677  INFO 11260 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@5ae14037])
2020-06-09 10:39:23.378 DEBUG 11260 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:39:23.379 DEBUG 11260 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:39:23.385 DEBUG 11260 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:39:23.389 DEBUG 11260 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 10:39:23.389 DEBUG 11260 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 12(Integer), 11(Long)
2020-06-09 10:39:23.393 DEBUG 11260 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 10:39:23.393  INFO 11260 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:39:23.393  INFO 11260 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:39:23.892  INFO 11260 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:39:23.893 DEBUG 11260 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:39:23.894 DEBUG 11260 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:39:23.895 DEBUG 11260 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:39:23.896  INFO 11260 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:39:23.896  INFO 11260 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:39:24.043  INFO 11260 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:39:24.043 DEBUG 11260 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:39:24.044 DEBUG 11260 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:39:24.045 DEBUG 11260 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:39:24.046 DEBUG 11260 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:39:24.046 DEBUG 11260 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:39:24.052 DEBUG 11260 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:39:24.053 DEBUG 11260 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:39:24.053 DEBUG 11260 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:39:24.054 DEBUG 11260 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:39:24.055 DEBUG 11260 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:39:24.056 DEBUG 11260 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:39:24.057 DEBUG 11260 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:39:24.057 DEBUG 11260 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:39:24.058 DEBUG 11260 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:39:24.059 DEBUG 11260 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:39:24.060  INFO 11260 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:39:24.060  INFO 11260 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:39:47.240  INFO 22888 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 22888 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 10:39:47.244 DEBUG 22888 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 10:39:47.246  INFO 22888 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 10:39:47.313  INFO 22888 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 10:39:47.313  INFO 22888 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 10:39:49.256  INFO 22888 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 10:39:49.270  INFO 22888 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 10:39:49.271  INFO 22888 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 10:39:49.389  INFO 22888 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 10:39:49.389  INFO 22888 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2076 ms
2020-06-09 10:39:50.493  INFO 22888 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 10:39:50.615  INFO 22888 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 10:39:51.047  INFO 22888 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 10:39:51.101  INFO 22888 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 10:39:51.104  INFO 22888 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 4.733 seconds (JVM running for 10.927)
2020-06-09 10:42:25.046  INFO 22888 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 10:42:25.046  INFO 22888 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 10:42:25.061  INFO 22888 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2020-06-09 10:42:25.115  INFO 22888 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@7542e63c])
2020-06-09 10:42:29.966  INFO 22888 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 10:42:30.143  INFO 22888 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 10:42:30.153 DEBUG 22888 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:42:30.178 DEBUG 22888 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:42:30.210 DEBUG 22888 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:42:30.281 DEBUG 22888 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 10:42:30.282 DEBUG 22888 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 13(Integer), 11(Long)
2020-06-09 10:42:30.287 DEBUG 22888 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 10:42:30.288  INFO 22888 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:42:30.288  INFO 22888 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:42:31.452  INFO 22888 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:42:31.455 DEBUG 22888 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:42:31.455 DEBUG 22888 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:42:31.457 DEBUG 22888 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:42:31.457  INFO 22888 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:42:31.457  INFO 22888 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:42:31.611  INFO 22888 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:42:31.615 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:31.615 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:42:31.626 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:42:31.627 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:31.627 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:42:31.629 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:42:31.629 DEBUG 22888 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:31.630 DEBUG 22888 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:42:31.631 DEBUG 22888 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:42:31.632 DEBUG 22888 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:31.632 DEBUG 22888 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:42:31.639 DEBUG 22888 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:42:31.640 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:31.641 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:42:31.642 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:42:31.642  INFO 22888 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:42:31.642  INFO 22888 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:42:44.168  INFO 22888 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@4076c5d9])
2020-06-09 10:42:44.183 DEBUG 22888 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:42:44.184 DEBUG 22888 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:42:44.193 DEBUG 22888 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:42:44.199 DEBUG 22888 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 10:42:44.199 DEBUG 22888 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 14(Integer), 11(Long)
2020-06-09 10:42:44.218 DEBUG 22888 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 10:42:44.219  INFO 22888 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:42:44.219  INFO 22888 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:42:45.583  INFO 22888 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:42:45.593 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:42:45.595 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:42:45.629 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:42:45.631  INFO 22888 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:42:45.631  INFO 22888 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:42:45.802  INFO 22888 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11;jsessionid=19B3688EB98DD72E145C663D8CDD7967, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:42:45.803 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:45.803 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:42:45.809 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:42:45.814 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:45.815 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:42:45.820 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:42:45.821 DEBUG 22888 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:45.822 DEBUG 22888 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:42:45.826 DEBUG 22888 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:42:45.827 DEBUG 22888 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:45.827 DEBUG 22888 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:42:45.828 DEBUG 22888 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:42:45.829 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:45.829 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:42:45.831 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:42:45.832  INFO 22888 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:42:45.832  INFO 22888 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:42:48.698  INFO 22888 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@7542e63c])
2020-06-09 10:42:48.700 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:42:48.700 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:42:48.709 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:42:48.712 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 10:42:48.712 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 15(Integer), 11(Long)
2020-06-09 10:42:48.720 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 10:42:48.720  INFO 22888 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:42:48.720  INFO 22888 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:42:49.226  INFO 22888 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:42:49.228 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:42:49.228 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:42:49.230 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:42:49.230  INFO 22888 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:42:49.231  INFO 22888 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:42:49.377  INFO 22888 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:42:49.377 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:49.378 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:42:49.379 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:42:49.380 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:49.380 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:42:49.381 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:42:49.382 DEBUG 22888 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:49.382 DEBUG 22888 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:42:49.384 DEBUG 22888 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:42:49.387 DEBUG 22888 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:49.388 DEBUG 22888 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:42:49.391 DEBUG 22888 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:42:49.391 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:49.392 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:42:49.393 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:42:49.393  INFO 22888 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:42:49.393  INFO 22888 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:42:52.743  INFO 22888 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/archives, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.ArchiveShowController.archives, args=[{}])
2020-06-09 10:42:52.751 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.findGroupYear       : ==>  Preparing: select DATE_FORMAT(b.update_time, '%Y') from t_blog b order by b.update_time desc 
2020-06-09 10:42:52.751 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.findGroupYear       : ==> Parameters: 
2020-06-09 10:42:52.760 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.findGroupYear       : <==      Total: 1
2020-06-09 10:42:52.761 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.findByYear          : ==>  Preparing: select b.title, b.update_time, b.id, b.flag from t_blog b where DATE_FORMAT(b.update_time, "%Y") = ? 
2020-06-09 10:42:52.761 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.findByYear          : ==> Parameters: 2020(String)
2020-06-09 10:42:52.763 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.findByYear          : <==      Total: 1
2020-06-09 10:42:52.765 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getAllBlog          : ==>  Preparing: /*后台博客展示*/ select b.id, b.title, b.update_time, b.recommend, b.type_id, b.published, t.id typeid, t.name typename from t_blog b, t_type t where b.type_id = t.id /*博客类型id=类型id*/ 
2020-06-09 10:42:52.765 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getAllBlog          : ==> Parameters: 
2020-06-09 10:42:52.771 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getAllBlog          : <==      Total: 0
2020-06-09 10:42:52.772  INFO 22888 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:42:52.772  INFO 22888 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: archives
2020-06-09 10:42:53.171  INFO 22888 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:42:53.171 DEBUG 22888 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:42:53.171 DEBUG 22888 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:42:53.189 DEBUG 22888 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:42:53.189  INFO 22888 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:42:53.189  INFO 22888 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:42:55.271  INFO 22888 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@7542e63c])
2020-06-09 10:42:55.272 DEBUG 22888 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:42:55.273 DEBUG 22888 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:42:55.277 DEBUG 22888 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:42:55.279 DEBUG 22888 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 10:42:55.280 DEBUG 22888 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 16(Integer), 11(Long)
2020-06-09 10:42:55.290 DEBUG 22888 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 10:42:55.290  INFO 22888 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:42:55.290  INFO 22888 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:42:55.723  INFO 22888 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:42:55.724 DEBUG 22888 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:42:55.724 DEBUG 22888 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:42:55.726 DEBUG 22888 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:42:55.726  INFO 22888 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:42:55.726  INFO 22888 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:42:55.892  INFO 22888 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:42:55.892 DEBUG 22888 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:55.893 DEBUG 22888 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:42:55.894 DEBUG 22888 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:42:55.896 DEBUG 22888 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:55.897 DEBUG 22888 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:42:55.901 DEBUG 22888 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:42:55.902 DEBUG 22888 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:55.902 DEBUG 22888 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:42:55.905 DEBUG 22888 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:42:55.905 DEBUG 22888 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:55.905 DEBUG 22888 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:42:55.907 DEBUG 22888 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:42:55.907 DEBUG 22888 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:42:55.907 DEBUG 22888 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:42:55.908 DEBUG 22888 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:42:55.909  INFO 22888 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:42:55.909  INFO 22888 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:43:11.827  INFO 22888 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/login, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.login, args=[ldd, 123, org.apache.catalina.session.StandardSessionFacade@7542e63c, {}])
2020-06-09 10:43:11.831 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.d.U.queryByUsernameAndPassword       : ==>  Preparing: select * from blog.t_user where username = ? and password = ?; 
2020-06-09 10:43:11.832 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.d.U.queryByUsernameAndPassword       : ==> Parameters: ldd(String), 202cb962ac59075b964b07152d234b70(String)
2020-06-09 10:43:11.835 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.d.U.queryByUsernameAndPassword       : <==      Total: 1
2020-06-09 10:43:11.836  INFO 22888 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:43:11.836  INFO 22888 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: admin/index
2020-06-09 10:43:57.197  INFO 22888 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/login, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.login, args=[ldd, 123, org.apache.catalina.session.StandardSessionFacade@7542e63c, {}])
2020-06-09 10:43:57.198 DEBUG 22888 --- [http-nio-8080-exec-1] c.b.d.U.queryByUsernameAndPassword       : ==>  Preparing: select * from blog.t_user where username = ? and password = ?; 
2020-06-09 10:43:57.199 DEBUG 22888 --- [http-nio-8080-exec-1] c.b.d.U.queryByUsernameAndPassword       : ==> Parameters: ldd(String), 202cb962ac59075b964b07152d234b70(String)
2020-06-09 10:43:57.200 DEBUG 22888 --- [http-nio-8080-exec-1] c.b.d.U.queryByUsernameAndPassword       : <==      Total: 1
2020-06-09 10:43:57.200  INFO 22888 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:43:57.201  INFO 22888 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: admin/index
2020-06-09 10:44:11.325  INFO 22888 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/login, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.login, args=[ldd, 123, org.apache.catalina.session.StandardSessionFacade@7542e63c, {}])
2020-06-09 10:44:11.326 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.d.U.queryByUsernameAndPassword       : ==>  Preparing: select * from blog.t_user where username = ? and password = ?; 
2020-06-09 10:44:11.327 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.d.U.queryByUsernameAndPassword       : ==> Parameters: ldd(String), 202cb962ac59075b964b07152d234b70(String)
2020-06-09 10:44:11.329 DEBUG 22888 --- [http-nio-8080-exec-9] c.b.d.U.queryByUsernameAndPassword       : <==      Total: 1
2020-06-09 10:44:11.329  INFO 22888 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:44:11.329  INFO 22888 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: admin/index
2020-06-09 10:44:22.822  INFO 22888 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/;jsessionid=19B3688EB98DD72E145C663D8CDD7967, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 10:44:22.968 DEBUG 22888 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 10:44:22.968 DEBUG 22888 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 10:44:22.973 DEBUG 22888 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 10:44:22.973 DEBUG 22888 --- [http-nio-8080-exec-7] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 10:44:22.973 DEBUG 22888 --- [http-nio-8080-exec-7] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 10:44:22.973 DEBUG 22888 --- [http-nio-8080-exec-7] com.blog.dao.TypeDao.getBlogType         : <==      Total: 0
2020-06-09 10:44:22.973 DEBUG 22888 --- [http-nio-8080-exec-7] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 10:44:22.973 DEBUG 22888 --- [http-nio-8080-exec-7] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 10:44:22.983 DEBUG 22888 --- [http-nio-8080-exec-7] com.blog.dao.TagDao.getBlogTag           : <==      Total: 3
2020-06-09 10:44:22.983 DEBUG 22888 --- [http-nio-8080-exec-7] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 10:44:22.983 DEBUG 22888 --- [http-nio-8080-exec-7] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 10:44:22.983 DEBUG 22888 --- [http-nio-8080-exec-7] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 1
2020-06-09 10:44:22.983  INFO 22888 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:44:22.983  INFO 22888 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: index
2020-06-09 10:44:23.618  INFO 22888 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:44:23.623 DEBUG 22888 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:44:23.623 DEBUG 22888 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:44:23.623 DEBUG 22888 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:44:23.623  INFO 22888 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:44:23.623  INFO 22888 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:44:34.703  INFO 22888 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/types/-1, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.TypeShowController.types, args=[-1, 1, {}])
2020-06-09 10:44:34.708 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.TypeDao.getBlogType_COUNT   : ==>  Preparing: SELECT count(0) FROM t_type t, t_blog b WHERE t.id = b.type_id 
2020-06-09 10:44:34.713 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.TypeDao.getBlogType_COUNT   : ==> Parameters: 
2020-06-09 10:44:34.713 DEBUG 22888 --- [http-nio-8080-exec-4] com.blog.dao.TypeDao.getBlogType_COUNT   : <==      Total: 1
2020-06-09 10:44:34.713  INFO 22888 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:44:34.723 ERROR 22888 --- [http-nio-8080-exec-4] c.b.handler.ControllerExceptionHandler   : Request url: /types/-1, Exception: {}

java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
	at java.util.ArrayList.rangeCheck(ArrayList.java:657) ~[na:na]
	at java.util.ArrayList.get(ArrayList.java:433) ~[na:na]
	at com.blog.controller.TypeShowController.types(TypeShowController.java:34) ~[classes/:na]
	at com.blog.controller.TypeShowController$$FastClassBySpringCGLIB$$60945646.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.blog.controller.TypeShowController$$EnhancerBySpringCGLIB$$610ceb0.types(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]

2020-06-09 10:44:34.738  WARN 22888 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.IndexOutOfBoundsException: Index: 0, Size: 0]
2020-06-09 10:44:36.003  INFO 22888 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 10:44:36.003 DEBUG 22888 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 10:44:36.003 DEBUG 22888 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 10:44:36.003 DEBUG 22888 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 10:44:36.003 DEBUG 22888 --- [http-nio-8080-exec-1] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 10:44:36.003 DEBUG 22888 --- [http-nio-8080-exec-1] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 10:44:36.013 DEBUG 22888 --- [http-nio-8080-exec-1] com.blog.dao.TypeDao.getBlogType         : <==      Total: 0
2020-06-09 10:44:36.013 DEBUG 22888 --- [http-nio-8080-exec-1] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 10:44:36.013 DEBUG 22888 --- [http-nio-8080-exec-1] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 10:44:36.013 DEBUG 22888 --- [http-nio-8080-exec-1] com.blog.dao.TagDao.getBlogTag           : <==      Total: 3
2020-06-09 10:44:36.013 DEBUG 22888 --- [http-nio-8080-exec-1] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 10:44:36.013 DEBUG 22888 --- [http-nio-8080-exec-1] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 10:44:36.013 DEBUG 22888 --- [http-nio-8080-exec-1] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 1
2020-06-09 10:44:36.013  INFO 22888 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:44:36.013  INFO 22888 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: index
2020-06-09 10:44:36.568  INFO 22888 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:44:36.578 DEBUG 22888 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:44:36.578 DEBUG 22888 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:44:36.578 DEBUG 22888 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:44:36.578  INFO 22888 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:44:36.578  INFO 22888 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:44:52.438  INFO 22888 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@4076c5d9])
2020-06-09 10:44:52.448 DEBUG 22888 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:44:52.448 DEBUG 22888 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:44:52.448 DEBUG 22888 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:44:52.453 DEBUG 22888 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 10:44:52.453 DEBUG 22888 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 17(Integer), 11(Long)
2020-06-09 10:44:52.458 DEBUG 22888 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 10:44:52.458  INFO 22888 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:44:52.458  INFO 22888 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:44:53.017  INFO 22888 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:44:53.023 DEBUG 22888 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:44:53.023 DEBUG 22888 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:44:53.025 DEBUG 22888 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:44:53.025  INFO 22888 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:44:53.025  INFO 22888 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:44:53.323  INFO 22888 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:44:53.323 DEBUG 22888 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:44:53.323 DEBUG 22888 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:44:53.333 DEBUG 22888 --- [http-nio-8080-exec-6] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:44:53.333 DEBUG 22888 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:44:53.333 DEBUG 22888 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:44:53.338 DEBUG 22888 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:44:53.338 DEBUG 22888 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:44:53.338 DEBUG 22888 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:44:53.338 DEBUG 22888 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:44:53.338 DEBUG 22888 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:44:53.338 DEBUG 22888 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:44:53.338 DEBUG 22888 --- [http-nio-8080-exec-6] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:44:53.338 DEBUG 22888 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:44:53.338 DEBUG 22888 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:44:53.343 DEBUG 22888 --- [http-nio-8080-exec-6] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:44:53.343  INFO 22888 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:44:53.343  INFO 22888 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:45:00.733  INFO 22888 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 10:45:00.743 DEBUG 22888 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 10:45:00.743 DEBUG 22888 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 10:45:00.743 DEBUG 22888 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 10:45:00.743 DEBUG 22888 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 10:45:00.743 DEBUG 22888 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 10:45:00.743 DEBUG 22888 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType         : <==      Total: 0
2020-06-09 10:45:00.743 DEBUG 22888 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 10:45:00.743 DEBUG 22888 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 10:45:00.743 DEBUG 22888 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getBlogTag           : <==      Total: 3
2020-06-09 10:45:00.743 DEBUG 22888 --- [http-nio-8080-exec-8] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 10:45:00.743 DEBUG 22888 --- [http-nio-8080-exec-8] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 10:45:00.743 DEBUG 22888 --- [http-nio-8080-exec-8] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 1
2020-06-09 10:45:00.743  INFO 22888 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:45:00.743  INFO 22888 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: index
2020-06-09 10:45:01.313  INFO 22888 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:45:01.322 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:45:01.322 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:45:01.327 DEBUG 22888 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:45:01.332  INFO 22888 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:45:01.337  INFO 22888 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:46:20.847  INFO 18584 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 18584 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 10:46:20.853 DEBUG 18584 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 10:46:20.853  INFO 18584 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 10:46:21.103  INFO 18584 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 10:46:21.103  INFO 18584 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 10:46:22.469  INFO 18584 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 10:46:22.479  INFO 18584 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 10:46:22.479  INFO 18584 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 10:46:22.570  INFO 18584 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 10:46:22.570  INFO 18584 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1467 ms
2020-06-09 10:46:23.336  INFO 18584 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 10:46:23.437  INFO 18584 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 10:46:23.793  INFO 18584 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 10:46:23.843  INFO 18584 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 10:46:23.848  INFO 18584 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 3.647 seconds (JVM running for 9.493)
2020-06-09 10:46:41.303  INFO 18584 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 10:46:41.308  INFO 18584 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 10:46:41.313  INFO 18584 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2020-06-09 10:46:41.373  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 10:46:41.458  INFO 18584 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 10:46:41.723  INFO 18584 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 10:46:41.732 DEBUG 18584 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 10:46:41.763 DEBUG 18584 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 10:46:41.793 DEBUG 18584 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 10:46:41.808 DEBUG 18584 --- [http-nio-8080-exec-1] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 10:46:41.808 DEBUG 18584 --- [http-nio-8080-exec-1] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 10:46:41.808 DEBUG 18584 --- [http-nio-8080-exec-1] com.blog.dao.TypeDao.getBlogType         : <==      Total: 0
2020-06-09 10:46:41.812 DEBUG 18584 --- [http-nio-8080-exec-1] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 10:46:41.812 DEBUG 18584 --- [http-nio-8080-exec-1] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 10:46:41.823 DEBUG 18584 --- [http-nio-8080-exec-1] com.blog.dao.TagDao.getBlogTag           : <==      Total: 3
2020-06-09 10:46:41.823 DEBUG 18584 --- [http-nio-8080-exec-1] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 10:46:41.823 DEBUG 18584 --- [http-nio-8080-exec-1] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 10:46:41.828 DEBUG 18584 --- [http-nio-8080-exec-1] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 1
2020-06-09 10:47:24.273  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:47:24.273  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: index
2020-06-09 10:47:25.307  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:47:25.312 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:47:25.312 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:47:25.317 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:47:25.317  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:47:25.317  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:48:15.242  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.loginPage, args=[])
2020-06-09 10:48:15.245  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:48:15.245  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: admin/login
2020-06-09 10:48:18.468  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 10:48:23.244 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 10:48:23.246 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 10:48:23.249 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 10:48:31.461 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 10:48:31.462 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 10:48:31.465 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType         : <==      Total: 0
2020-06-09 10:49:21.506  WARN 18584 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s49ms897µs).
2020-06-09 10:49:21.510 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 10:49:21.510 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 10:49:21.513 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getBlogTag           : <==      Total: 3
2020-06-09 10:49:21.514 DEBUG 18584 --- [http-nio-8080-exec-8] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 10:49:21.514 DEBUG 18584 --- [http-nio-8080-exec-8] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 10:49:21.516 DEBUG 18584 --- [http-nio-8080-exec-8] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 1
2020-06-09 10:49:21.516  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:49:21.516  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: index
2020-06-09 10:49:21.969  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/login, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.login, args=[ldd, 123, org.apache.catalina.session.StandardSessionFacade@24ab87da, {}])
2020-06-09 10:49:21.971 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.d.U.queryByUsernameAndPassword       : ==>  Preparing: select * from blog.t_user where username = ? and password = ?; 
2020-06-09 10:49:21.972 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.d.U.queryByUsernameAndPassword       : ==> Parameters: ldd(String), 202cb962ac59075b964b07152d234b70(String)
2020-06-09 10:49:21.975 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.d.U.queryByUsernameAndPassword       : <==      Total: 1
2020-06-09 10:49:21.976  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:49:21.976  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: admin/index
2020-06-09 10:49:23.777  INFO 18584 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.blogs, args=[1, {}])
2020-06-09 10:49:23.783 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t WHERE b.type_id = t.id 
2020-06-09 10:49:23.783 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==> Parameters: 
2020-06-09 10:49:23.784 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getAllBlog_COUNT    : <==      Total: 1
2020-06-09 10:49:23.916 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TypeDao.getAllType          : ==>  Preparing: select * from t_type 
2020-06-09 10:49:23.917 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TypeDao.getAllType          : ==> Parameters: 
2020-06-09 10:49:23.919 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TypeDao.getAllType          : <==      Total: 2
2020-06-09 10:49:23.924 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TagDao.getAllTag            : ==>  Preparing: select * from blog.t_tag 
2020-06-09 10:49:23.925 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TagDao.getAllTag            : ==> Parameters: 
2020-06-09 10:49:23.927 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TagDao.getAllTag            : <==      Total: 4
2020-06-09 10:49:23.927  INFO 18584 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:49:23.927  INFO 18584 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: admin/blogs
2020-06-09 10:49:26.788  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.blogs, args=[1, {}])
2020-06-09 10:49:26.793 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t WHERE b.type_id = t.id 
2020-06-09 10:49:26.794 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==> Parameters: 
2020-06-09 10:49:26.797 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getAllBlog_COUNT    : <==      Total: 1
2020-06-09 10:49:26.799 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getAllType          : ==>  Preparing: select * from t_type 
2020-06-09 10:49:26.799 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getAllType          : ==> Parameters: 
2020-06-09 10:49:26.801 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getAllType          : <==      Total: 2
2020-06-09 10:49:26.804 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getAllTag            : ==>  Preparing: select * from blog.t_tag 
2020-06-09 10:49:26.805 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getAllTag            : ==> Parameters: 
2020-06-09 10:49:26.811 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getAllTag            : <==      Total: 4
2020-06-09 10:49:26.813  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:49:26.813  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: admin/blogs
2020-06-09 10:49:58.557  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.blogs, args=[1, {}])
2020-06-09 10:49:58.565 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t WHERE b.type_id = t.id 
2020-06-09 10:49:58.565 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==> Parameters: 
2020-06-09 10:49:58.568 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getAllBlog_COUNT    : <==      Total: 1
2020-06-09 10:49:58.569 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getAllBlog          : ==>  Preparing: /*后台博客展示*/ select b.id, b.title, b.update_time, b.recommend, b.type_id, b.published, t.id typeid, t.name typename from t_blog b, t_type t where b.type_id = t.id /*博客类型id=类型id*/ LIMIT ? 
2020-06-09 10:49:58.570 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getAllBlog          : ==> Parameters: 5(Integer)
2020-06-09 10:49:58.573 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getAllBlog          : <==      Total: 1
2020-06-09 10:49:58.575 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TypeDao.getAllType          : ==>  Preparing: select * from t_type 
2020-06-09 10:49:58.575 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TypeDao.getAllType          : ==> Parameters: 
2020-06-09 10:49:58.578 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TypeDao.getAllType          : <==      Total: 2
2020-06-09 10:49:58.582 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TagDao.getAllTag            : ==>  Preparing: select * from blog.t_tag 
2020-06-09 10:49:58.583 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TagDao.getAllTag            : ==> Parameters: 
2020-06-09 10:49:58.585 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TagDao.getAllTag            : <==      Total: 4
2020-06-09 10:49:58.585  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:49:58.585  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: admin/blogs
2020-06-09 10:50:01.367  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 10:50:02.817 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 10:50:02.817 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 10:50:02.822 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 10:50:02.822 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getIndexBlog        : ==>  Preparing: /*主页博客展示*/ select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id order by b.update_time desc LIMIT ? 
2020-06-09 10:50:02.822 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getIndexBlog        : ==> Parameters: 8(Integer)
2020-06-09 10:50:02.822 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getIndexBlog        : <==      Total: 1
2020-06-09 10:50:02.822 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 10:50:02.827 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 10:50:02.827 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getBlogType         : <==      Total: 1
2020-06-09 10:50:02.827 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 10:50:02.827 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 10:50:02.827 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getBlogTag           : <==      Total: 3
2020-06-09 10:50:02.832 DEBUG 18584 --- [http-nio-8080-exec-10] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 10:50:02.832 DEBUG 18584 --- [http-nio-8080-exec-10] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 10:50:02.832 DEBUG 18584 --- [http-nio-8080-exec-10] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 1
2020-06-09 10:50:02.832  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:50:02.832  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: index
2020-06-09 10:50:03.447  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:50:03.452 DEBUG 18584 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:50:03.452 DEBUG 18584 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:50:03.452 DEBUG 18584 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:50:03.452  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:50:03.452  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:50:17.101  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 10:50:19.244 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 10:50:19.244 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 10:50:19.246 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 10:50:19.247 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getIndexBlog        : ==>  Preparing: /*主页博客展示*/ select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id order by b.update_time desc LIMIT ? 
2020-06-09 10:50:19.247 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getIndexBlog        : ==> Parameters: 8(Integer)
2020-06-09 10:50:19.249 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getIndexBlog        : <==      Total: 1
2020-06-09 10:50:19.250 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 10:50:19.250 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 10:50:19.252 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getBlogType         : <==      Total: 1
2020-06-09 10:50:19.252 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 10:50:19.253 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 10:50:19.254 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getBlogTag           : <==      Total: 3
2020-06-09 10:50:19.255 DEBUG 18584 --- [http-nio-8080-exec-10] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 10:50:19.255 DEBUG 18584 --- [http-nio-8080-exec-10] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 10:50:19.257 DEBUG 18584 --- [http-nio-8080-exec-10] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 1
2020-06-09 10:50:19.257  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:50:19.257  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: index
2020-06-09 10:50:19.763  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:50:19.764 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:50:19.765 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:50:19.766 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:50:19.766  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:50:19.767  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:50:35.259  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs/11/input, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.toEditBlog, args=[11, {}])
2020-06-09 10:50:35.265 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getBlog             : ==>  Preparing: /*后台展示博客*/ select b.id, b.published, b.flag, b.title, b.content, b.type_id typeid, ty.name typename, b.first_picture, b.description, b.recommend, b.share_statement, b.appreciation, b.commentabled , t.id tagid ,t.name tagname from t_blog b left join t_type ty on ty.id=b.type_id LEFT JOIN t_blog_tags bt on bt.blogs_id = b.id left join t_tag t on t.id= bt.tags_id where b.id = ?; 
2020-06-09 10:50:35.265 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getBlog             : ==> Parameters: 11(Long)
2020-06-09 10:50:35.308 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getBlog             : <==      Total: 3
2020-06-09 10:50:35.310 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getAllType          : ==>  Preparing: select * from t_type 
2020-06-09 10:50:35.311 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getAllType          : ==> Parameters: 
2020-06-09 10:50:35.314 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getAllType          : <==      Total: 2
2020-06-09 10:50:35.316 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getAllTag            : ==>  Preparing: select * from blog.t_tag 
2020-06-09 10:50:35.317 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getAllTag            : ==> Parameters: 
2020-06-09 10:50:35.318 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getAllTag            : <==      Total: 4
2020-06-09 10:50:35.319  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:50:35.319  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: admin/blogs-input
2020-06-09 10:50:50.454  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.addBlog, args=[Blog(id=11, title=Spring Boot开发小而美的个人博客, content=<h1 id="spring-boot开发小而美的个人博客">Spring Boot开发小而美的个人博客</h1>
<blockquote>
<p>原文作者：李仁密</p>
</blockquote>
<blockquote>
<p>B站教学地址 : https://www.bilibili.com/video/BV1nE411r7TF?p=43</p>
</blockquote>
<p><strong>个人博客功能：</strong></p>
<p><strong>技术组合：</strong></p>
<ul>
<li>后端：Spring Boot + JPA + thymeleaf模板</li>
<li>数据库：MySQL</li>
<li>前端UI：Semantic UI框架</li>
</ul>
<p><strong>工具与环境：</strong></p>
<ul>
<li>IDEA</li>
<li>Maven 3</li>
<li>JDK 8</li>
<li>Axure RP 8</li>
</ul>
<p><strong>课程内容模块：</strong></p>
<ul>
<li>需求分析与功能规划</li>
<li>页面设计与开发</li>
<li>技术框架搭建</li>
<li>后端管理功能实现</li>
<li>前端管理功能实现</li>
</ul>
<p><strong>你能学得什么？</strong></p>
<ul>
<li>基于Spring Boot的完整全栈式的开发套路</li>
<li>Semantic UI框架的使用</li>
<li>一套博客系统的源代码与设计</li>
</ul>
<h2 id="1需求与功能">1、需求与功能</h2>
<h3 id="11-用户故事">1.1 用户故事</h3>
<p>用户故事是敏捷框架中的一种开发方法。可以帮助开发者转换视角，以用户的角度更好的把握需求，从而实现具有商业价值的功能。</p>
<blockquote>
<p>用户故事最好是用户团队编写</p>
</blockquote>
<p><strong>用户故事模板</strong>：</p>
<ul>
<li>As a (role of user), I want (some feature) so that (some business value).</li>
<li>作为一个(某个角色) 使用者，我可以做(某个功能) 事情，如此可以有(某个商业价值) 的好处</li>
</ul>
<p><strong>关键点</strong>：角色、功能、商业价值</p>
<p><strong>举例</strong>：</p>
<ul>
<li>作为一个招聘网站<strong>注册用户</strong>，我想<strong>查看最近3天发布的招聘信息</strong>，以便于<strong>了解最新的招聘信息</strong>。</li>
<li>作为公司，可以张贴新工作。</li>
</ul>
<p>个人博客系统的用户故事：</p>
<p>角色：<strong>普通访客</strong>，<strong>管理员（我）</strong></p>
<ul>
<li>访客，可以分页查看所有的博客</li>
<li>访客，可以快速查看博客数最多的6个分类</li>
<li>访客，可以查看所有的分类</li>
<li>访客，可以查看某个分类下的博客列表</li>
<li>访客，可以快速查看标记博客最多的10个标签</li>
<li>访客，可以查看所有的标签</li>
<li>访客，可以查看某个标签下的博客列表</li>
<li>访客，可以根据年度时间线查看博客列表</li>
<li>访客，可以快速查看最新的推荐博客</li>
<li>访客，可以用关键字全局搜索博客</li>
<li>访客，可以查看单个博客内容</li>
<li>访客，可以对博客内容进行评论</li>
<li>访客，可以赞赏博客内容</li>
<li>访客，可以微信扫码阅读博客内容</li>
<li>访客，可以在首页扫描公众号二维码关注我</li>
<li>我，可以用户名和密码登录后台管理</li>
<li>我，可以管理博客
<ul>
<li>我，可以发布新博客</li>
<li>我，可以对博客进行分类</li>
<li>我，可以对博客打标签</li>
<li>我，可以修改博客</li>
<li>我，可以删除博客</li>
<li>我，可以根据标题，分类，标签查询博客</li>
</ul>
</li>
<li>我，可以管理博客分类
<ul>
<li>我，可以新增一个分类</li>
<li>我，可以修改一个分类</li>
<li>我，可以删除一个分类</li>
<li>我，可以根据分类名称查询分类</li>
</ul>
</li>
<li>我，可以管理标签
<ul>
<li>我，可以新增一个标签</li>
<li>我，可以修改一个标签</li>
<li>我，可以删除一个标签</li>
<li>我，可以根据名称查询标签</li>
</ul>
</li>
</ul>
<h3 id="12-功能规划">1.2 功能规划</h3>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="2页面设计与开发">2、页面设计与开发</h2>
<h3 id="21-设计">2.1 设计</h3>
<p><strong>页面规划：</strong></p>
<p>前端展示：首页、详情页、分类、标签、归档、关于我</p>
<p>后台管理：模板页</p>
<h3 id="22-页面开发">2.2 页面开发</h3>
<p><a href="https://semantic-ui.com/" target="_blank">Semantic UI官网</a></p>
<p><a href="http://www.semantic-ui.cn/" target="_blank">Semantic UI中文官网</a></p>
<p><a href="https://imcoding.me/blogs/5" target="_blank">WebStorm下载与破解</a></p>
<p><a href="https://www.toptal.com/designers/subtlepatterns/" target="_blank">背景图片资源</a></p>
<h3 id="23-插件集成">2.3 插件集成</h3>
<p><a href="https://pandao.github.io/editor.md/" target="_blank">编辑器 Markdown</a></p>
<p><a href="https://github.com/sofish/typo.css" target="_blank">内容排版 typo.css</a></p>
<p><a href="https://daneden.github.io/animate.css/" target="_blank">动画 animate.css</a></p>
<p><a href="https://github.com/PrismJS/prism" target="_blank">代码高亮 prism</a></p>
<p><a href="https://tscanlin.github.io/tocbot/" target="_blank">目录生成 Tocbot</a></p>
<p><a href="http://imakewebthings.com/waypoints/" target="_blank">滚动侦测 waypoints</a></p>
<p><a href="https://github.com/flesler/jquery.scrollTo" target="_blank">平滑滚动 jquery.scrollTo</a></p>
<p><a href="https://davidshimjs.github.io/qrcodejs/" target="_blank">二维码生成 qrcode.js</a></p>
<h2 id="3框架搭建">3、框架搭建</h2>
<blockquote>
<p><a href="https://www.jetbrains.com/idea/" target="_blank">IDEA下载 https://www.jetbrains.com/idea/</a></p>
</blockquote>
<h3 id="31-构建与配置">3.1 构建与配置</h3>
<p><strong>1、引入Spring Boot模块：</strong></p>
<ul>
<li>web</li>
<li>Thymeleaf</li>
<li>JPA</li>
<li>MySQL</li>
<li>Aspects</li>
<li>DevTools</li>
</ul>
<p><strong>2、application.yml配置</strong></p>
<ul>
<li>
<p>使用 thymeleaf 3</p>
<p>pom.xml:</p>
</li>
</ul>
<pre><code class="language-xml">&lt;thymeleaf.version&gt;3.0.2.RELEASE&lt;/thymeleaf.version&gt;
&lt;thymeleaf-layout-dialect.version&gt;2.1.1&lt;/thymeleaf-layout-dialect.version&gt;
</code></pre>
<pre><code>application.yml:
</code></pre>
<pre><code class="language-yaml">spring:
  thymeleaf:
    mode: HTML
</code></pre>
<ul>
<li>数据库连接配置</li>
</ul>
<pre><code class="language-yaml">spring:
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://localhost:3306/blog?useUnicode=true&amp;characterEncoding=utf-8
    username: root
    password: root
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
</code></pre>
<ul>
<li>
<p>日志配置</p>
<p>application.yml:</p>
</li>
</ul>
<pre><code class="language-yaml">logging:
  level:
    root: info
    com.imcoding: debug
  file: log/imcoding.log
</code></pre>
<p>​	logback-spring.xml：</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;configuration&gt;
    &lt;!--包含Spring boot对logback日志的默认配置--&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot; /&gt;
    &lt;property name=&quot;LOG_FILE&quot; value=&quot;${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}}/spring.log}&quot;/&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;
<pre><code>&amp;lt;!--重写了Spring Boot框架 org/springframework/boot/logging/logback/file-appender.xml 配置--&amp;gt;
&amp;lt;appender name=&amp;quot;TIME_FILE&amp;quot;
          class=&amp;quot;ch.qos.logback.core.rolling.RollingFileAppender&amp;quot;&amp;gt;
    &amp;lt;encoder&amp;gt;
        &amp;lt;pattern&amp;gt;${FILE_LOG_PATTERN}&amp;lt;/pattern&amp;gt;
    &amp;lt;/encoder&amp;gt;
    &amp;lt;file&amp;gt;${LOG_FILE}&amp;lt;/file&amp;gt;
    &amp;lt;rollingPolicy class=&amp;quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&amp;quot;&amp;gt;
        &amp;lt;fileNamePattern&amp;gt;${LOG_FILE}.%d{yyyy-MM-dd}.%i&amp;lt;/fileNamePattern&amp;gt;
        &amp;lt;!--保留历史日志一个月的时间--&amp;gt;
        &amp;lt;maxHistory&amp;gt;30&amp;lt;/maxHistory&amp;gt;
        &amp;lt;!--
        Spring Boot默认情况下，日志文件10M时，会切分日志文件,这样设置日志文件会在100M时切分日志
        --&amp;gt;
        &amp;lt;timeBasedFileNamingAndTriggeringPolicy class=&amp;quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&amp;quot;&amp;gt;
            &amp;lt;maxFileSize&amp;gt;10MB&amp;lt;/maxFileSize&amp;gt;
        &amp;lt;/timeBasedFileNamingAndTriggeringPolicy&amp;gt;
<pre><code>&amp;amp;lt;/rollingPolicy&amp;amp;gt;
</code></pre>
<p>&amp;lt;/appender&amp;gt;</p>
<p>&amp;lt;root level=&amp;quot;INFO&amp;quot;&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;CONSOLE&amp;quot; /&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;TIME_FILE&amp;quot; /&amp;gt;
&amp;lt;/root&amp;gt;
</code></pre></p>
<p>&lt;/configuration&gt;
&lt;!--
1、继承Spring boot logback设置（可以在appliaction.yml或者application.properties设置logging.*属性）
2、重写了默认配置，设置日志文件大小在100MB时，按日期切分日志，切分后目录：</p>
<pre><code>    my.2017-08-01.0   80MB
    my.2017-08-01.1   10MB
    my.2017-08-02.0   56MB
    my.2017-08-03.0   53MB
    ......
</code></pre>
<p>--&gt;
</code></pre></p>
<ul>
<li>生产环境与开发环境配置
<ul>
<li>application-dev.yml</li>
<li>application-pro.yml</li>
</ul>
</li>
</ul>
<h3 id="32-异常处理">3.2 异常处理</h3>
<p><strong>1、定义错误页面</strong></p>
<ul>
<li>404</li>
<li>500</li>
<li>error</li>
</ul>
<p><strong>2、全局处理异常</strong></p>
<p>统一处理异常：</p>
<pre><code class="language-java">@ControllerAdvice
public class ControllerExceptionHandler {
<pre><code>private final Logger logger = LoggerFactory.getLogger(ControllerExceptionHandler.class);
/**
 * 异常处理
 * @param request
 * @param e
 * @return
 */
@ExceptionHandler({Exception.class})
public ModelAndView handleException(HttpServletRequest request, Exception e) throws Exception {
<pre><code>logger.error(&amp;amp;quot;Request URL : {} , Exception : {}&amp;amp;quot;, request.getRequestURL(), e);

if (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null) {
    throw e;
}
ModelAndView mav = new ModelAndView();
mav.addObject(&amp;amp;quot;url&amp;amp;quot;, request.getRequestURL());
mav.addObject(&amp;amp;quot;exception&amp;amp;quot;, e);
mav.setViewName(&amp;amp;quot;error/error&amp;amp;quot;);

return mav;
</code></pre>
<p>}
</code></pre></p>
<p>}
</code></pre></p>
<p>错误页面异常信息显示处理：</p>
<pre><code class="language-html">&lt;div&gt;
    &lt;div th:utext=&quot;'&amp;lt;!--'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Failed Request URL : ' + ${url}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Exception message : ' + ${exception.message}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;ul th:remove=&quot;tag&quot;&gt;
        &lt;li th:each=&quot;st : ${exception.stackTrace}&quot; th:remove=&quot;tag&quot;&gt;&lt;span th:utext=&quot;${st}&quot; th:remove=&quot;tag&quot;&gt;&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
    &lt;div th:utext=&quot;'--&amp;gt;'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><strong>3、资源找不到异常</strong></p>
<pre><code class="language-java">@ResponseStatus(HttpStatus.NOT_FOUND)
public class NotFoundExcepiton extends RuntimeException {
<pre><code>public NotFoundExcepiton() {
}
<p>public NotFoundExcepiton(String message) {
super(message);
}</p>
<p>public NotFoundExcepiton(String message, Throwable cause) {
super(message, cause);
}
</code></pre></p>
<p>}
</code></pre></p>
<h3 id="33-日志处理">3.3 日志处理</h3>
<p><strong>1、记录日志内容</strong></p>
<ul>
<li>请求 url</li>
<li>访问者 ip</li>
<li>调用方法 classMethod</li>
<li>参数 args</li>
<li>返回内容</li>
</ul>
<p><strong>2、记录日志类：</strong></p>
<pre><code class="language-java">@Aspect
@Component
public class LogAspect {
<pre><code>private final Logger logger = LoggerFactory.getLogger(this.getClass());
<p>/**</p>
<ul>
<li>定义切面
<em>/
@Pointcut(&amp;quot;execution(</em> com.imcoding.web.<em>.</em>(..))&amp;quot;)
public void log() {
}</li>
</ul>
<p>@Before(&amp;quot;log()&amp;quot;)
public void doBefore(JoinPoint joinPoint) {
ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
HttpServletRequest request = attributes.getRequest();
String classMethod = joinPoint.getSignature().getDeclaringTypeName() + &amp;quot;.&amp;quot; + joinPoint.getSignature().getName();
ReqeustLog reqeustLog = new ReqeustLog(
request.getRequestURL().toString(),
request.getRemoteAddr(),
classMethod,
joinPoint.getArgs()
);
logger.info(&amp;quot;Rquest  ----- {}&amp;quot;,reqeustLog);
}</p>
<p>@After(&amp;quot;log()&amp;quot;)
public void doAfter() {
//logger.info(&amp;quot;---------- doAfter 2 ----------&amp;quot;);
}</p>
<p>@AfterReturning(returning = &amp;quot;result&amp;quot;,pointcut = &amp;quot;log()&amp;quot;)
public void doAtfertRturning(Object result) {
logger.info(&amp;quot;Return ------ {}&amp;quot;,result );
}</p>
<p>private class ReqeustLog {
private String url;
private String ip;
private String classMethod;
private Object[] args;</p>
<pre><code>public ReqeustLog(String url, String ip, String classMethod, Object[] args) {
    this.url = url;
    this.ip = ip;
    this.classMethod = classMethod;
    this.args = args;
}

@Override
public String toString() {
    return &amp;amp;quot;ReqeustLog{&amp;amp;quot; +
            &amp;amp;quot;url='&amp;amp;quot; + url + '\'' +
            &amp;amp;quot;, ip='&amp;amp;quot; + ip + '\'' +
            &amp;amp;quot;, classMethod='&amp;amp;quot; + classMethod + '\'' +
            &amp;amp;quot;, args=&amp;amp;quot; + Arrays.toString(args) +
            '}';
}
</code></pre>
<p>}
</code></pre></p>
<p>}</p>
<p></code></pre></p>
<h3 id="34-页面处理">3.4 页面处理</h3>
<p><strong>1、静态页面导入project</strong></p>
<p><strong>2、thymeleaf布局</strong></p>
<ul>
<li>定义fragment</li>
<li>使用fragment布局</li>
</ul>
<p><strong>3、错误页面美化</strong></p>
<p>4、设计与规范</p>
<h3 id="41-实体设计">4.1 实体设计</h3>
<p><strong>实体类：</strong></p>
<ul>
<li>博客 Blog</li>
<li>博客分类 Type</li>
<li>博客标签 Tag</li>
<li>博客评论 Comment</li>
<li>用户 User</li>
</ul>
<p><strong>实体关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/87092095.jpg" alt="" /></p>
<p><strong>评论类自关联关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/41296045.jpg" alt="" /></p>
<p><strong>Blog类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/38390041.jpg" alt="" /></p>
<p><strong>Type类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/22984471.jpg" alt="" /></p>
<p><strong>Tag类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/70860077.jpg" alt="" /></p>
<p><strong>Comment类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/77104424.jpg" alt="" /></p>
<p><strong>User类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/10367795.jpg" alt="" /></p>
<h3 id="42-应用分层">4.2 应用分层</h3>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/64528736.jpg" alt="" /></p>
<h3 id="43-命名约定">4.3 命名约定</h3>
<p><strong>Service/DAO层命名约定：</strong></p>
<ul>
<li>获取单个对象的方法用get做前缀。</li>
<li>获取多个对象的方法用list做前缀。</li>
<li>获取统计值的方法用count做前缀。</li>
<li>插入的方法用save(推荐)或insert做前缀。</li>
<li>删除的方法用remove(推荐)或delete做前缀。</li>
<li>修改的方法用update做前缀。</li>
</ul>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="5后台管理功能实现">5、后台管理功能实现</h2>
<h3 id="51-登录">5.1 登录</h3>
<p><strong>1、构建登录页面和后台管理首页</strong></p>
<p><strong>2、UserService和UserRepository</strong></p>
<p><strong>3、LoginController实现登录</strong></p>
<p><strong>4、MD5加密</strong></p>
<p><strong>5、登录拦截器</strong></p>
<h3 id="52-分类管理">5.2 分类管理</h3>
<p><strong>1、分类管理页面</strong></p>
<p><strong>2、分类列表分页</strong></p>
<pre><code class="language-javascript">{
  &quot;content&quot;:[
    {&quot;id&quot;:123,&quot;title&quot;:&quot;blog122&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:122,&quot;title&quot;:&quot;blog121&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:121,&quot;title&quot;:&quot;blog120&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:120,&quot;title&quot;:&quot;blog119&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:119,&quot;title&quot;:&quot;blog118&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:118,&quot;title&quot;:&quot;blog117&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:117,&quot;title&quot;:&quot;blog116&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:116,&quot;title&quot;:&quot;blog115&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:115,&quot;title&quot;:&quot;blog114&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:114,&quot;title&quot;:&quot;blog113&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:113,&quot;title&quot;:&quot;blog112&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:112,&quot;title&quot;:&quot;blog111&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:111,&quot;title&quot;:&quot;blog110&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:110,&quot;title&quot;:&quot;blog109&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:109,&quot;title&quot;:&quot;blog108&quot;,&quot;content&quot;:&quot;this is blog content&quot;}],
  &quot;last&quot;:false,
  &quot;totalPages&quot;:9,
  &quot;totalElements&quot;:123,
  &quot;size&quot;:15,
  &quot;number&quot;:0,
  &quot;first&quot;:true,
  &quot;sort&quot;:[{
    &quot;direction&quot;:&quot;DESC&quot;,
    &quot;property&quot;:&quot;id&quot;,
    &quot;ignoreCase&quot;:false,
    &quot;nullHandling&quot;:&quot;NATIVE&quot;,
    &quot;ascending&quot;:false
  }],
  &quot;numberOfElements&quot;:15
}
<p></code></pre></p>
<p><strong>3、分类新增、修改、删除</strong></p>
<h3 id="53-标签管理">5.3 标签管理</h3>
<h3 id="54-博客管理">5.4 博客管理</h3>
<p><strong>1、博客分页查询</strong></p>
<p><strong>2、博客新增</strong></p>
<p><strong>3、博客修改</strong></p>
<p><strong>4、博客删除</strong></p>
<h2 id="6前端展示功能实现">6、前端展示功能实现</h2>
<h3 id="61-首页展示">6.1 首页展示</h3>
<p><strong>1、博客列表</strong></p>
<p><strong>2、top分类</strong></p>
<p><strong>3、top标签</strong></p>
<p><strong>4、最新博客推荐</strong></p>
<p><strong>5、博客详情</strong></p>
<p><strong>1、Markdown 转换 HTML</strong></p>
<ul>
<li><a href="https://github.com/atlassian/commonmark-java" target="_blank">commonmark-java  https://github.com/atlassian/commonmark-java</a></li>
<li>pom.xml引用commonmark和扩展插件</li>
</ul>
<pre><code class="language-xml">&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-heading-anchor&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-gfm-tables&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
<p></code></pre></p>
<p><strong>2、评论功能</strong></p>
<ul>
<li>评论信息提交与回复功能</li>
<li>评论信息列表展示功能</li>
<li>管理员回复评论功能</li>
</ul>
<h3 id="62-分类页">6.2 分类页</h3>
<h3 id="63-标签页">6.3 标签页</h3>
<h3 id="64-归档页">6.4 归档页</h3>
<h3 id="65-关于我">6.5 关于我</h3>
, firstPicture=https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1590818036358&di=9569a5452be6c4297afbb3746283a8d3&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201804%2F18%2F172344g6tsuasyytq2dd7a.png, flag=转载, views=null, appreciation=false, shareStatement=true, commentabled=true, published=true, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=9,10,11, description=sssss, type=Type(id=8, name=null, blogs=[]), user=null, tags=[], comments=[]), org.apache.catalina.session.StandardSessionFacade@24ab87da, {}])
2020-06-09 10:50:50.460 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getType             : ==>  Preparing: select id,name from blog.t_type where id = ? 
2020-06-09 10:50:50.461 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getType             : ==> Parameters: 8(Long)
2020-06-09 10:50:50.462 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getType             : <==      Total: 1
2020-06-09 10:50:50.467 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TagDao.getTag               : ==>  Preparing: select id,name from blog.t_tag where id = ? 
2020-06-09 10:50:50.467 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TagDao.getTag               : ==> Parameters: 9(Long)
2020-06-09 10:50:50.471 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TagDao.getTag               : <==      Total: 1
2020-06-09 10:50:50.471 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TagDao.getTag               : ==>  Preparing: select id,name from blog.t_tag where id = ? 
2020-06-09 10:50:50.471 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TagDao.getTag               : ==> Parameters: 10(Long)
2020-06-09 10:50:50.473 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TagDao.getTag               : <==      Total: 1
2020-06-09 10:50:50.473 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TagDao.getTag               : ==>  Preparing: select id,name from blog.t_tag where id = ? 
2020-06-09 10:50:50.473 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TagDao.getTag               : ==> Parameters: 11(Long)
2020-06-09 10:50:50.474 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TagDao.getTag               : <==      Total: 1
2020-06-09 10:50:50.475 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:50:50.476 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 9(Long), 11(Long), 11(Long), 9(Long)
2020-06-09 10:50:50.482 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:50:50.483 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:50:50.484 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 10(Long), 11(Long), 11(Long), 10(Long)
2020-06-09 10:50:50.485 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:50:50.486 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:50:50.486 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 11(Long), 11(Long), 11(Long), 11(Long)
2020-06-09 10:50:50.496 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:50:50.496 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.updateBlog          : ==>  Preparing: update t_blog set published = ?,flag = ? , title = ?, content = ?, type_id = ?, first_picture = ? , description = ? , recommend = ? , share_statement = ?, appreciation = ?, commentabled = ? ,update_time = ? where id = ?; 
2020-06-09 10:50:50.878 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.updateBlog          : ==> Parameters: true(Boolean), 转载(String), Spring Boot开发小而美的个人博客(String), <h1 id="spring-boot开发小而美的个人博客">Spring Boot开发小而美的个人博客</h1>
<blockquote>
<p>原文作者：李仁密</p>
</blockquote>
<blockquote>
<p>B站教学地址 : https://www.bilibili.com/video/BV1nE411r7TF?p=43</p>
</blockquote>
<p><strong>个人博客功能：</strong></p>
<p><strong>技术组合：</strong></p>
<ul>
<li>后端：Spring Boot + JPA + thymeleaf模板</li>
<li>数据库：MySQL</li>
<li>前端UI：Semantic UI框架</li>
</ul>
<p><strong>工具与环境：</strong></p>
<ul>
<li>IDEA</li>
<li>Maven 3</li>
<li>JDK 8</li>
<li>Axure RP 8</li>
</ul>
<p><strong>课程内容模块：</strong></p>
<ul>
<li>需求分析与功能规划</li>
<li>页面设计与开发</li>
<li>技术框架搭建</li>
<li>后端管理功能实现</li>
<li>前端管理功能实现</li>
</ul>
<p><strong>你能学得什么？</strong></p>
<ul>
<li>基于Spring Boot的完整全栈式的开发套路</li>
<li>Semantic UI框架的使用</li>
<li>一套博客系统的源代码与设计</li>
</ul>
<h2 id="1需求与功能">1、需求与功能</h2>
<h3 id="11-用户故事">1.1 用户故事</h3>
<p>用户故事是敏捷框架中的一种开发方法。可以帮助开发者转换视角，以用户的角度更好的把握需求，从而实现具有商业价值的功能。</p>
<blockquote>
<p>用户故事最好是用户团队编写</p>
</blockquote>
<p><strong>用户故事模板</strong>：</p>
<ul>
<li>As a (role of user), I want (some feature) so that (some business value).</li>
<li>作为一个(某个角色) 使用者，我可以做(某个功能) 事情，如此可以有(某个商业价值) 的好处</li>
</ul>
<p><strong>关键点</strong>：角色、功能、商业价值</p>
<p><strong>举例</strong>：</p>
<ul>
<li>作为一个招聘网站<strong>注册用户</strong>，我想<strong>查看最近3天发布的招聘信息</strong>，以便于<strong>了解最新的招聘信息</strong>。</li>
<li>作为公司，可以张贴新工作。</li>
</ul>
<p>个人博客系统的用户故事：</p>
<p>角色：<strong>普通访客</strong>，<strong>管理员（我）</strong></p>
<ul>
<li>访客，可以分页查看所有的博客</li>
<li>访客，可以快速查看博客数最多的6个分类</li>
<li>访客，可以查看所有的分类</li>
<li>访客，可以查看某个分类下的博客列表</li>
<li>访客，可以快速查看标记博客最多的10个标签</li>
<li>访客，可以查看所有的标签</li>
<li>访客，可以查看某个标签下的博客列表</li>
<li>访客，可以根据年度时间线查看博客列表</li>
<li>访客，可以快速查看最新的推荐博客</li>
<li>访客，可以用关键字全局搜索博客</li>
<li>访客，可以查看单个博客内容</li>
<li>访客，可以对博客内容进行评论</li>
<li>访客，可以赞赏博客内容</li>
<li>访客，可以微信扫码阅读博客内容</li>
<li>访客，可以在首页扫描公众号二维码关注我</li>
<li>我，可以用户名和密码登录后台管理</li>
<li>我，可以管理博客
<ul>
<li>我，可以发布新博客</li>
<li>我，可以对博客进行分类</li>
<li>我，可以对博客打标签</li>
<li>我，可以修改博客</li>
<li>我，可以删除博客</li>
<li>我，可以根据标题，分类，标签查询博客</li>
</ul>
</li>
<li>我，可以管理博客分类
<ul>
<li>我，可以新增一个分类</li>
<li>我，可以修改一个分类</li>
<li>我，可以删除一个分类</li>
<li>我，可以根据分类名称查询分类</li>
</ul>
</li>
<li>我，可以管理标签
<ul>
<li>我，可以新增一个标签</li>
<li>我，可以修改一个标签</li>
<li>我，可以删除一个标签</li>
<li>我，可以根据名称查询标签</li>
</ul>
</li>
</ul>
<h3 id="12-功能规划">1.2 功能规划</h3>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="2页面设计与开发">2、页面设计与开发</h2>
<h3 id="21-设计">2.1 设计</h3>
<p><strong>页面规划：</strong></p>
<p>前端展示：首页、详情页、分类、标签、归档、关于我</p>
<p>后台管理：模板页</p>
<h3 id="22-页面开发">2.2 页面开发</h3>
<p><a href="https://semantic-ui.com/" target="_blank">Semantic UI官网</a></p>
<p><a href="http://www.semantic-ui.cn/" target="_blank">Semantic UI中文官网</a></p>
<p><a href="https://imcoding.me/blogs/5" target="_blank">WebStorm下载与破解</a></p>
<p><a href="https://www.toptal.com/designers/subtlepatterns/" target="_blank">背景图片资源</a></p>
<h3 id="23-插件集成">2.3 插件集成</h3>
<p><a href="https://pandao.github.io/editor.md/" target="_blank">编辑器 Markdown</a></p>
<p><a href="https://github.com/sofish/typo.css" target="_blank">内容排版 typo.css</a></p>
<p><a href="https://daneden.github.io/animate.css/" target="_blank">动画 animate.css</a></p>
<p><a href="https://github.com/PrismJS/prism" target="_blank">代码高亮 prism</a></p>
<p><a href="https://tscanlin.github.io/tocbot/" target="_blank">目录生成 Tocbot</a></p>
<p><a href="http://imakewebthings.com/waypoints/" target="_blank">滚动侦测 waypoints</a></p>
<p><a href="https://github.com/flesler/jquery.scrollTo" target="_blank">平滑滚动 jquery.scrollTo</a></p>
<p><a href="https://davidshimjs.github.io/qrcodejs/" target="_blank">二维码生成 qrcode.js</a></p>
<h2 id="3框架搭建">3、框架搭建</h2>
<blockquote>
<p><a href="https://www.jetbrains.com/idea/" target="_blank">IDEA下载 https://www.jetbrains.com/idea/</a></p>
</blockquote>
<h3 id="31-构建与配置">3.1 构建与配置</h3>
<p><strong>1、引入Spring Boot模块：</strong></p>
<ul>
<li>web</li>
<li>Thymeleaf</li>
<li>JPA</li>
<li>MySQL</li>
<li>Aspects</li>
<li>DevTools</li>
</ul>
<p><strong>2、application.yml配置</strong></p>
<ul>
<li>
<p>使用 thymeleaf 3</p>
<p>pom.xml:</p>
</li>
</ul>
<pre><code class="language-xml">&lt;thymeleaf.version&gt;3.0.2.RELEASE&lt;/thymeleaf.version&gt;
&lt;thymeleaf-layout-dialect.version&gt;2.1.1&lt;/thymeleaf-layout-dialect.version&gt;
</code></pre>
<pre><code>application.yml:
</code></pre>
<pre><code class="language-yaml">spring:
  thymeleaf:
    mode: HTML
</code></pre>
<ul>
<li>数据库连接配置</li>
</ul>
<pre><code class="language-yaml">spring:
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://localhost:3306/blog?useUnicode=true&amp;characterEncoding=utf-8
    username: root
    password: root
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
</code></pre>
<ul>
<li>
<p>日志配置</p>
<p>application.yml:</p>
</li>
</ul>
<pre><code class="language-yaml">logging:
  level:
    root: info
    com.imcoding: debug
  file: log/imcoding.log
</code></pre>
<p>​	logback-spring.xml：</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;configuration&gt;
    &lt;!--包含Spring boot对logback日志的默认配置--&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot; /&gt;
    &lt;property name=&quot;LOG_FILE&quot; value=&quot;${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}}/spring.log}&quot;/&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;
<pre><code>&amp;lt;!--重写了Spring Boot框架 org/springframework/boot/logging/logback/file-appender.xml 配置--&amp;gt;
&amp;lt;appender name=&amp;quot;TIME_FILE&amp;quot;
          class=&amp;quot;ch.qos.logback.core.rolling.RollingFileAppender&amp;quot;&amp;gt;
    &amp;lt;encoder&amp;gt;
        &amp;lt;pattern&amp;gt;${FILE_LOG_PATTERN}&amp;lt;/pattern&amp;gt;
    &amp;lt;/encoder&amp;gt;
    &amp;lt;file&amp;gt;${LOG_FILE}&amp;lt;/file&amp;gt;
    &amp;lt;rollingPolicy class=&amp;quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&amp;quot;&amp;gt;
        &amp;lt;fileNamePattern&amp;gt;${LOG_FILE}.%d{yyyy-MM-dd}.%i&amp;lt;/fileNamePattern&amp;gt;
        &amp;lt;!--保留历史日志一个月的时间--&amp;gt;
        &amp;lt;maxHistory&amp;gt;30&amp;lt;/maxHistory&amp;gt;
        &amp;lt;!--
        Spring Boot默认情况下，日志文件10M时，会切分日志文件,这样设置日志文件会在100M时切分日志
        --&amp;gt;
        &amp;lt;timeBasedFileNamingAndTriggeringPolicy class=&amp;quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&amp;quot;&amp;gt;
            &amp;lt;maxFileSize&amp;gt;10MB&amp;lt;/maxFileSize&amp;gt;
        &amp;lt;/timeBasedFileNamingAndTriggeringPolicy&amp;gt;
<pre><code>&amp;amp;lt;/rollingPolicy&amp;amp;gt;
</code></pre>
<p>&amp;lt;/appender&amp;gt;</p>
<p>&amp;lt;root level=&amp;quot;INFO&amp;quot;&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;CONSOLE&amp;quot; /&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;TIME_FILE&amp;quot; /&amp;gt;
&amp;lt;/root&amp;gt;
</code></pre></p>
<p>&lt;/configuration&gt;
&lt;!--
1、继承Spring boot logback设置（可以在appliaction.yml或者application.properties设置logging.*属性）
2、重写了默认配置，设置日志文件大小在100MB时，按日期切分日志，切分后目录：</p>
<pre><code>    my.2017-08-01.0   80MB
    my.2017-08-01.1   10MB
    my.2017-08-02.0   56MB
    my.2017-08-03.0   53MB
    ......
</code></pre>
<p>--&gt;
</code></pre></p>
<ul>
<li>生产环境与开发环境配置
<ul>
<li>application-dev.yml</li>
<li>application-pro.yml</li>
</ul>
</li>
</ul>
<h3 id="32-异常处理">3.2 异常处理</h3>
<p><strong>1、定义错误页面</strong></p>
<ul>
<li>404</li>
<li>500</li>
<li>error</li>
</ul>
<p><strong>2、全局处理异常</strong></p>
<p>统一处理异常：</p>
<pre><code class="language-java">@ControllerAdvice
public class ControllerExceptionHandler {
<pre><code>private final Logger logger = LoggerFactory.getLogger(ControllerExceptionHandler.class);
/**
 * 异常处理
 * @param request
 * @param e
 * @return
 */
@ExceptionHandler({Exception.class})
public ModelAndView handleException(HttpServletRequest request, Exception e) throws Exception {
<pre><code>logger.error(&amp;amp;quot;Request URL : {} , Exception : {}&amp;amp;quot;, request.getRequestURL(), e);

if (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null) {
    throw e;
}
ModelAndView mav = new ModelAndView();
mav.addObject(&amp;amp;quot;url&amp;amp;quot;, request.getRequestURL());
mav.addObject(&amp;amp;quot;exception&amp;amp;quot;, e);
mav.setViewName(&amp;amp;quot;error/error&amp;amp;quot;);

return mav;
</code></pre>
<p>}
</code></pre></p>
<p>}
</code></pre></p>
<p>错误页面异常信息显示处理：</p>
<pre><code class="language-html">&lt;div&gt;
    &lt;div th:utext=&quot;'&amp;lt;!--'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Failed Request URL : ' + ${url}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Exception message : ' + ${exception.message}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;ul th:remove=&quot;tag&quot;&gt;
        &lt;li th:each=&quot;st : ${exception.stackTrace}&quot; th:remove=&quot;tag&quot;&gt;&lt;span th:utext=&quot;${st}&quot; th:remove=&quot;tag&quot;&gt;&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
    &lt;div th:utext=&quot;'--&amp;gt;'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><strong>3、资源找不到异常</strong></p>
<pre><code class="language-java">@ResponseStatus(HttpStatus.NOT_FOUND)
public class NotFoundExcepiton extends RuntimeException {
<pre><code>public NotFoundExcepiton() {
}
<p>public NotFoundExcepiton(String message) {
super(message);
}</p>
<p>public NotFoundExcepiton(String message, Throwable cause) {
super(message, cause);
}
</code></pre></p>
<p>}
</code></pre></p>
<h3 id="33-日志处理">3.3 日志处理</h3>
<p><strong>1、记录日志内容</strong></p>
<ul>
<li>请求 url</li>
<li>访问者 ip</li>
<li>调用方法 classMethod</li>
<li>参数 args</li>
<li>返回内容</li>
</ul>
<p><strong>2、记录日志类：</strong></p>
<pre><code class="language-java">@Aspect
@Component
public class LogAspect {
<pre><code>private final Logger logger = LoggerFactory.getLogger(this.getClass());
<p>/**</p>
<ul>
<li>定义切面
<em>/
@Pointcut(&amp;quot;execution(</em> com.imcoding.web.<em>.</em>(..))&amp;quot;)
public void log() {
}</li>
</ul>
<p>@Before(&amp;quot;log()&amp;quot;)
public void doBefore(JoinPoint joinPoint) {
ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
HttpServletRequest request = attributes.getRequest();
String classMethod = joinPoint.getSignature().getDeclaringTypeName() + &amp;quot;.&amp;quot; + joinPoint.getSignature().getName();
ReqeustLog reqeustLog = new ReqeustLog(
request.getRequestURL().toString(),
request.getRemoteAddr(),
classMethod,
joinPoint.getArgs()
);
logger.info(&amp;quot;Rquest  ----- {}&amp;quot;,reqeustLog);
}</p>
<p>@After(&amp;quot;log()&amp;quot;)
public void doAfter() {
//logger.info(&amp;quot;---------- doAfter 2 ----------&amp;quot;);
}</p>
<p>@AfterReturning(returning = &amp;quot;result&amp;quot;,pointcut = &amp;quot;log()&amp;quot;)
public void doAtfertRturning(Object result) {
logger.info(&amp;quot;Return ------ {}&amp;quot;,result );
}</p>
<p>private class ReqeustLog {
private String url;
private String ip;
private String classMethod;
private Object[] args;</p>
<pre><code>public ReqeustLog(String url, String ip, String classMethod, Object[] args) {
    this.url = url;
    this.ip = ip;
    this.classMethod = classMethod;
    this.args = args;
}

@Override
public String toString() {
    return &amp;amp;quot;ReqeustLog{&amp;amp;quot; +
            &amp;amp;quot;url='&amp;amp;quot; + url + '\'' +
            &amp;amp;quot;, ip='&amp;amp;quot; + ip + '\'' +
            &amp;amp;quot;, classMethod='&amp;amp;quot; + classMethod + '\'' +
            &amp;amp;quot;, args=&amp;amp;quot; + Arrays.toString(args) +
            '}';
}
</code></pre>
<p>}
</code></pre></p>
<p>}</p>
<p></code></pre></p>
<h3 id="34-页面处理">3.4 页面处理</h3>
<p><strong>1、静态页面导入project</strong></p>
<p><strong>2、thymeleaf布局</strong></p>
<ul>
<li>定义fragment</li>
<li>使用fragment布局</li>
</ul>
<p><strong>3、错误页面美化</strong></p>
<p>4、设计与规范</p>
<h3 id="41-实体设计">4.1 实体设计</h3>
<p><strong>实体类：</strong></p>
<ul>
<li>博客 Blog</li>
<li>博客分类 Type</li>
<li>博客标签 Tag</li>
<li>博客评论 Comment</li>
<li>用户 User</li>
</ul>
<p><strong>实体关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/87092095.jpg" alt="" /></p>
<p><strong>评论类自关联关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/41296045.jpg" alt="" /></p>
<p><strong>Blog类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/38390041.jpg" alt="" /></p>
<p><strong>Type类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/22984471.jpg" alt="" /></p>
<p><strong>Tag类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/70860077.jpg" alt="" /></p>
<p><strong>Comment类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/77104424.jpg" alt="" /></p>
<p><strong>User类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/10367795.jpg" alt="" /></p>
<h3 id="42-应用分层">4.2 应用分层</h3>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/64528736.jpg" alt="" /></p>
<h3 id="43-命名约定">4.3 命名约定</h3>
<p><strong>Service/DAO层命名约定：</strong></p>
<ul>
<li>获取单个对象的方法用get做前缀。</li>
<li>获取多个对象的方法用list做前缀。</li>
<li>获取统计值的方法用count做前缀。</li>
<li>插入的方法用save(推荐)或insert做前缀。</li>
<li>删除的方法用remove(推荐)或delete做前缀。</li>
<li>修改的方法用update做前缀。</li>
</ul>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="5后台管理功能实现">5、后台管理功能实现</h2>
<h3 id="51-登录">5.1 登录</h3>
<p><strong>1、构建登录页面和后台管理首页</strong></p>
<p><strong>2、UserService和UserRepository</strong></p>
<p><strong>3、LoginController实现登录</strong></p>
<p><strong>4、MD5加密</strong></p>
<p><strong>5、登录拦截器</strong></p>
<h3 id="52-分类管理">5.2 分类管理</h3>
<p><strong>1、分类管理页面</strong></p>
<p><strong>2、分类列表分页</strong></p>
<pre><code class="language-javascript">{
  &quot;content&quot;:[
    {&quot;id&quot;:123,&quot;title&quot;:&quot;blog122&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:122,&quot;title&quot;:&quot;blog121&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:121,&quot;title&quot;:&quot;blog120&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:120,&quot;title&quot;:&quot;blog119&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:119,&quot;title&quot;:&quot;blog118&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:118,&quot;title&quot;:&quot;blog117&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:117,&quot;title&quot;:&quot;blog116&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:116,&quot;title&quot;:&quot;blog115&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:115,&quot;title&quot;:&quot;blog114&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:114,&quot;title&quot;:&quot;blog113&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:113,&quot;title&quot;:&quot;blog112&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:112,&quot;title&quot;:&quot;blog111&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:111,&quot;title&quot;:&quot;blog110&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:110,&quot;title&quot;:&quot;blog109&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:109,&quot;title&quot;:&quot;blog108&quot;,&quot;content&quot;:&quot;this is blog content&quot;}],
  &quot;last&quot;:false,
  &quot;totalPages&quot;:9,
  &quot;totalElements&quot;:123,
  &quot;size&quot;:15,
  &quot;number&quot;:0,
  &quot;first&quot;:true,
  &quot;sort&quot;:[{
    &quot;direction&quot;:&quot;DESC&quot;,
    &quot;property&quot;:&quot;id&quot;,
    &quot;ignoreCase&quot;:false,
    &quot;nullHandling&quot;:&quot;NATIVE&quot;,
    &quot;ascending&quot;:false
  }],
  &quot;numberOfElements&quot;:15
}
<p></code></pre></p>
<p><strong>3、分类新增、修改、删除</strong></p>
<h3 id="53-标签管理">5.3 标签管理</h3>
<h3 id="54-博客管理">5.4 博客管理</h3>
<p><strong>1、博客分页查询</strong></p>
<p><strong>2、博客新增</strong></p>
<p><strong>3、博客修改</strong></p>
<p><strong>4、博客删除</strong></p>
<h2 id="6前端展示功能实现">6、前端展示功能实现</h2>
<h3 id="61-首页展示">6.1 首页展示</h3>
<p><strong>1、博客列表</strong></p>
<p><strong>2、top分类</strong></p>
<p><strong>3、top标签</strong></p>
<p><strong>4、最新博客推荐</strong></p>
<p><strong>5、博客详情</strong></p>
<p><strong>1、Markdown 转换 HTML</strong></p>
<ul>
<li><a href="https://github.com/atlassian/commonmark-java" target="_blank">commonmark-java  https://github.com/atlassian/commonmark-java</a></li>
<li>pom.xml引用commonmark和扩展插件</li>
</ul>
<pre><code class="language-xml">&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-heading-anchor&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-gfm-tables&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
<p></code></pre></p>
<p><strong>2、评论功能</strong></p>
<ul>
<li>评论信息提交与回复功能</li>
<li>评论信息列表展示功能</li>
<li>管理员回复评论功能</li>
</ul>
<h3 id="62-分类页">6.2 分类页</h3>
<h3 id="63-标签页">6.3 标签页</h3>
<h3 id="64-归档页">6.4 归档页</h3>
<h3 id="65-关于我">6.5 关于我</h3>
(String), 8(Long), https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1590818036358&di=9569a5452be6c4297afbb3746283a8d3&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201804%2F18%2F172344g6tsuasyytq2dd7a.png(String), sssss(String), false(Boolean), true(Boolean), false(Boolean), true(Boolean), 2020-06-09 10:50:50.475(Timestamp), 11(Long)
2020-06-09 10:50:50.891 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.updateBlog          : <==    Updates: 1
2020-06-09 10:50:50.891  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:50:50.892  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: redirect:/admin/blogs
2020-06-09 10:50:50.957  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.blogs, args=[1, {msg=新增成功}])
2020-06-09 10:50:50.958 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t WHERE b.type_id = t.id 
2020-06-09 10:50:50.958 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==> Parameters: 
2020-06-09 10:50:50.960 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getAllBlog_COUNT    : <==      Total: 1
2020-06-09 10:50:50.960 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getAllBlog          : ==>  Preparing: /*后台博客展示*/ select b.id, b.title, b.update_time, b.recommend, b.type_id, b.published, t.id typeid, t.name typename from t_blog b, t_type t where b.type_id = t.id /*博客类型id=类型id*/ LIMIT ? 
2020-06-09 10:50:50.961 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getAllBlog          : ==> Parameters: 5(Integer)
2020-06-09 10:50:50.963 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getAllBlog          : <==      Total: 1
2020-06-09 10:50:50.966 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TypeDao.getAllType          : ==>  Preparing: select * from t_type 
2020-06-09 10:50:50.966 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TypeDao.getAllType          : ==> Parameters: 
2020-06-09 10:50:50.967 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TypeDao.getAllType          : <==      Total: 2
2020-06-09 10:50:50.970 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TagDao.getAllTag            : ==>  Preparing: select * from blog.t_tag 
2020-06-09 10:50:50.970 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TagDao.getAllTag            : ==> Parameters: 
2020-06-09 10:50:50.971 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TagDao.getAllTag            : <==      Total: 4
2020-06-09 10:50:50.972  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:50:50.972  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: admin/blogs
2020-06-09 10:51:07.256  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 10:51:08.826 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 10:51:08.826 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 10:51:08.829 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 10:51:08.829 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog        : ==>  Preparing: /*主页博客展示*/ select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id order by b.update_time desc LIMIT ? 
2020-06-09 10:51:08.830 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog        : ==> Parameters: 8(Integer)
2020-06-09 10:51:08.835 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog        : <==      Total: 1
2020-06-09 10:51:08.835 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 10:51:08.836 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 10:51:08.837 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType         : <==      Total: 1
2020-06-09 10:51:08.837 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 10:51:08.838 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 10:51:08.839 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getBlogTag           : <==      Total: 3
2020-06-09 10:51:08.839 DEBUG 18584 --- [http-nio-8080-exec-8] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 10:51:08.840 DEBUG 18584 --- [http-nio-8080-exec-8] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 10:51:08.841 DEBUG 18584 --- [http-nio-8080-exec-8] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 1
2020-06-09 10:51:08.842  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:51:08.842  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: index
2020-06-09 10:51:09.289  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:51:09.289 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:51:09.290 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:51:09.291 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:51:09.291  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:51:09.291  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:51:28.311  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@24ab87da])
2020-06-09 10:51:28.313 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:51:28.313 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:51:28.317 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:51:28.366  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:51:28.366  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:51:28.889  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:51:28.890 DEBUG 18584 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:51:28.891 DEBUG 18584 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:51:28.892 DEBUG 18584 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:51:28.893  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:51:28.893  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:51:29.109  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:51:29.112 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:51:29.113 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:51:29.122 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:51:29.123 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:51:29.124 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:51:29.125 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:51:29.126 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:51:29.126 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:51:29.127 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:51:29.128 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:51:29.128 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:51:29.129 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:51:29.130 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:51:29.130 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:51:29.138 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:51:29.138  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:51:29.138  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:51:41.882  INFO 18584 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.blogs, args=[1, {}])
2020-06-09 10:51:41.884 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t WHERE b.type_id = t.id 
2020-06-09 10:51:41.885 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==> Parameters: 
2020-06-09 10:51:41.890 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getAllBlog_COUNT    : <==      Total: 1
2020-06-09 10:51:41.891 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getAllBlog          : ==>  Preparing: /*后台博客展示*/ select b.id, b.title, b.update_time, b.recommend, b.type_id, b.published, t.id typeid, t.name typename from t_blog b, t_type t where b.type_id = t.id /*博客类型id=类型id*/ LIMIT ? 
2020-06-09 10:51:41.891 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getAllBlog          : ==> Parameters: 5(Integer)
2020-06-09 10:51:41.892 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getAllBlog          : <==      Total: 1
2020-06-09 10:51:41.893 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TypeDao.getAllType          : ==>  Preparing: select * from t_type 
2020-06-09 10:51:41.894 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TypeDao.getAllType          : ==> Parameters: 
2020-06-09 10:51:41.895 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TypeDao.getAllType          : <==      Total: 2
2020-06-09 10:51:41.896 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TagDao.getAllTag            : ==>  Preparing: select * from blog.t_tag 
2020-06-09 10:51:41.896 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TagDao.getAllTag            : ==> Parameters: 
2020-06-09 10:51:41.897 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TagDao.getAllTag            : <==      Total: 4
2020-06-09 10:51:41.898  INFO 18584 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:51:41.898  INFO 18584 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: admin/blogs
2020-06-09 10:51:45.172  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs/11/input, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.toEditBlog, args=[11, {}])
2020-06-09 10:51:45.175 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getBlog             : ==>  Preparing: /*后台展示博客*/ select b.id, b.published, b.flag, b.title, b.content, b.type_id typeid, ty.name typename, b.first_picture, b.description, b.recommend, b.share_statement, b.appreciation, b.commentabled , t.id tagid ,t.name tagname from t_blog b left join t_type ty on ty.id=b.type_id LEFT JOIN t_blog_tags bt on bt.blogs_id = b.id left join t_tag t on t.id= bt.tags_id where b.id = ?; 
2020-06-09 10:51:45.175 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getBlog             : ==> Parameters: 11(Long)
2020-06-09 10:51:45.179 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getBlog             : <==      Total: 3
2020-06-09 10:51:45.181 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getAllType          : ==>  Preparing: select * from t_type 
2020-06-09 10:51:45.181 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getAllType          : ==> Parameters: 
2020-06-09 10:51:45.183 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getAllType          : <==      Total: 2
2020-06-09 10:51:45.188 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getAllTag            : ==>  Preparing: select * from blog.t_tag 
2020-06-09 10:51:45.189 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getAllTag            : ==> Parameters: 
2020-06-09 10:51:45.191 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getAllTag            : <==      Total: 4
2020-06-09 10:51:45.191  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:51:45.191  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: admin/blogs-input
2020-06-09 10:51:52.897  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.addBlog, args=[Blog(id=11, title=Spring Boot开发小而美的个人博客, content=<h1 id="spring-boot开发小而美的个人博客">Spring Boot开发小而美的个人博客</h1>
<blockquote>
<p>原文作者：李仁密</p>
</blockquote>
<blockquote>
<p>B站教学地址 : https://www.bilibili.com/video/BV1nE411r7TF?p=43</p>
</blockquote>
<p><strong>个人博客功能：</strong></p>
<p><strong>技术组合：</strong></p>
<ul>
<li>后端：Spring Boot + JPA + thymeleaf模板</li>
<li>数据库：MySQL</li>
<li>前端UI：Semantic UI框架</li>
</ul>
<p><strong>工具与环境：</strong></p>
<ul>
<li>IDEA</li>
<li>Maven 3</li>
<li>JDK 8</li>
<li>Axure RP 8</li>
</ul>
<p><strong>课程内容模块：</strong></p>
<ul>
<li>需求分析与功能规划</li>
<li>页面设计与开发</li>
<li>技术框架搭建</li>
<li>后端管理功能实现</li>
<li>前端管理功能实现</li>
</ul>
<p><strong>你能学得什么？</strong></p>
<ul>
<li>基于Spring Boot的完整全栈式的开发套路</li>
<li>Semantic UI框架的使用</li>
<li>一套博客系统的源代码与设计</li>
</ul>
<h2 id="1需求与功能">1、需求与功能</h2>
<h3 id="11-用户故事">1.1 用户故事</h3>
<p>用户故事是敏捷框架中的一种开发方法。可以帮助开发者转换视角，以用户的角度更好的把握需求，从而实现具有商业价值的功能。</p>
<blockquote>
<p>用户故事最好是用户团队编写</p>
</blockquote>
<p><strong>用户故事模板</strong>：</p>
<ul>
<li>As a (role of user), I want (some feature) so that (some business value).</li>
<li>作为一个(某个角色) 使用者，我可以做(某个功能) 事情，如此可以有(某个商业价值) 的好处</li>
</ul>
<p><strong>关键点</strong>：角色、功能、商业价值</p>
<p><strong>举例</strong>：</p>
<ul>
<li>作为一个招聘网站<strong>注册用户</strong>，我想<strong>查看最近3天发布的招聘信息</strong>，以便于<strong>了解最新的招聘信息</strong>。</li>
<li>作为公司，可以张贴新工作。</li>
</ul>
<p>个人博客系统的用户故事：</p>
<p>角色：<strong>普通访客</strong>，<strong>管理员（我）</strong></p>
<ul>
<li>访客，可以分页查看所有的博客</li>
<li>访客，可以快速查看博客数最多的6个分类</li>
<li>访客，可以查看所有的分类</li>
<li>访客，可以查看某个分类下的博客列表</li>
<li>访客，可以快速查看标记博客最多的10个标签</li>
<li>访客，可以查看所有的标签</li>
<li>访客，可以查看某个标签下的博客列表</li>
<li>访客，可以根据年度时间线查看博客列表</li>
<li>访客，可以快速查看最新的推荐博客</li>
<li>访客，可以用关键字全局搜索博客</li>
<li>访客，可以查看单个博客内容</li>
<li>访客，可以对博客内容进行评论</li>
<li>访客，可以赞赏博客内容</li>
<li>访客，可以微信扫码阅读博客内容</li>
<li>访客，可以在首页扫描公众号二维码关注我</li>
<li>我，可以用户名和密码登录后台管理</li>
<li>我，可以管理博客
<ul>
<li>我，可以发布新博客</li>
<li>我，可以对博客进行分类</li>
<li>我，可以对博客打标签</li>
<li>我，可以修改博客</li>
<li>我，可以删除博客</li>
<li>我，可以根据标题，分类，标签查询博客</li>
</ul>
</li>
<li>我，可以管理博客分类
<ul>
<li>我，可以新增一个分类</li>
<li>我，可以修改一个分类</li>
<li>我，可以删除一个分类</li>
<li>我，可以根据分类名称查询分类</li>
</ul>
</li>
<li>我，可以管理标签
<ul>
<li>我，可以新增一个标签</li>
<li>我，可以修改一个标签</li>
<li>我，可以删除一个标签</li>
<li>我，可以根据名称查询标签</li>
</ul>
</li>
</ul>
<h3 id="12-功能规划">1.2 功能规划</h3>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="2页面设计与开发">2、页面设计与开发</h2>
<h3 id="21-设计">2.1 设计</h3>
<p><strong>页面规划：</strong></p>
<p>前端展示：首页、详情页、分类、标签、归档、关于我</p>
<p>后台管理：模板页</p>
<h3 id="22-页面开发">2.2 页面开发</h3>
<p><a href="https://semantic-ui.com/" target="_blank">Semantic UI官网</a></p>
<p><a href="http://www.semantic-ui.cn/" target="_blank">Semantic UI中文官网</a></p>
<p><a href="https://imcoding.me/blogs/5" target="_blank">WebStorm下载与破解</a></p>
<p><a href="https://www.toptal.com/designers/subtlepatterns/" target="_blank">背景图片资源</a></p>
<h3 id="23-插件集成">2.3 插件集成</h3>
<p><a href="https://pandao.github.io/editor.md/" target="_blank">编辑器 Markdown</a></p>
<p><a href="https://github.com/sofish/typo.css" target="_blank">内容排版 typo.css</a></p>
<p><a href="https://daneden.github.io/animate.css/" target="_blank">动画 animate.css</a></p>
<p><a href="https://github.com/PrismJS/prism" target="_blank">代码高亮 prism</a></p>
<p><a href="https://tscanlin.github.io/tocbot/" target="_blank">目录生成 Tocbot</a></p>
<p><a href="http://imakewebthings.com/waypoints/" target="_blank">滚动侦测 waypoints</a></p>
<p><a href="https://github.com/flesler/jquery.scrollTo" target="_blank">平滑滚动 jquery.scrollTo</a></p>
<p><a href="https://davidshimjs.github.io/qrcodejs/" target="_blank">二维码生成 qrcode.js</a></p>
<h2 id="3框架搭建">3、框架搭建</h2>
<blockquote>
<p><a href="https://www.jetbrains.com/idea/" target="_blank">IDEA下载 https://www.jetbrains.com/idea/</a></p>
</blockquote>
<h3 id="31-构建与配置">3.1 构建与配置</h3>
<p><strong>1、引入Spring Boot模块：</strong></p>
<ul>
<li>web</li>
<li>Thymeleaf</li>
<li>JPA</li>
<li>MySQL</li>
<li>Aspects</li>
<li>DevTools</li>
</ul>
<p><strong>2、application.yml配置</strong></p>
<ul>
<li>
<p>使用 thymeleaf 3</p>
<p>pom.xml:</p>
</li>
</ul>
<pre><code class="language-xml">&lt;thymeleaf.version&gt;3.0.2.RELEASE&lt;/thymeleaf.version&gt;
&lt;thymeleaf-layout-dialect.version&gt;2.1.1&lt;/thymeleaf-layout-dialect.version&gt;
</code></pre>
<pre><code>application.yml:
</code></pre>
<pre><code class="language-yaml">spring:
  thymeleaf:
    mode: HTML
</code></pre>
<ul>
<li>数据库连接配置</li>
</ul>
<pre><code class="language-yaml">spring:
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://localhost:3306/blog?useUnicode=true&amp;characterEncoding=utf-8
    username: root
    password: root
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
</code></pre>
<ul>
<li>
<p>日志配置</p>
<p>application.yml:</p>
</li>
</ul>
<pre><code class="language-yaml">logging:
  level:
    root: info
    com.imcoding: debug
  file: log/imcoding.log
</code></pre>
<p>​	logback-spring.xml：</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;configuration&gt;
    &lt;!--包含Spring boot对logback日志的默认配置--&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot; /&gt;
    &lt;property name=&quot;LOG_FILE&quot; value=&quot;${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}}/spring.log}&quot;/&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;
<pre><code>&amp;lt;!--重写了Spring Boot框架 org/springframework/boot/logging/logback/file-appender.xml 配置--&amp;gt;
&amp;lt;appender name=&amp;quot;TIME_FILE&amp;quot;
          class=&amp;quot;ch.qos.logback.core.rolling.RollingFileAppender&amp;quot;&amp;gt;
    &amp;lt;encoder&amp;gt;
        &amp;lt;pattern&amp;gt;${FILE_LOG_PATTERN}&amp;lt;/pattern&amp;gt;
    &amp;lt;/encoder&amp;gt;
    &amp;lt;file&amp;gt;${LOG_FILE}&amp;lt;/file&amp;gt;
    &amp;lt;rollingPolicy class=&amp;quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&amp;quot;&amp;gt;
        &amp;lt;fileNamePattern&amp;gt;${LOG_FILE}.%d{yyyy-MM-dd}.%i&amp;lt;/fileNamePattern&amp;gt;
        &amp;lt;!--保留历史日志一个月的时间--&amp;gt;
        &amp;lt;maxHistory&amp;gt;30&amp;lt;/maxHistory&amp;gt;
        &amp;lt;!--
        Spring Boot默认情况下，日志文件10M时，会切分日志文件,这样设置日志文件会在100M时切分日志
        --&amp;gt;
        &amp;lt;timeBasedFileNamingAndTriggeringPolicy class=&amp;quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&amp;quot;&amp;gt;
            &amp;lt;maxFileSize&amp;gt;10MB&amp;lt;/maxFileSize&amp;gt;
        &amp;lt;/timeBasedFileNamingAndTriggeringPolicy&amp;gt;
<pre><code>&amp;amp;lt;/rollingPolicy&amp;amp;gt;
</code></pre>
<p>&amp;lt;/appender&amp;gt;</p>
<p>&amp;lt;root level=&amp;quot;INFO&amp;quot;&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;CONSOLE&amp;quot; /&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;TIME_FILE&amp;quot; /&amp;gt;
&amp;lt;/root&amp;gt;
</code></pre></p>
<p>&lt;/configuration&gt;
&lt;!--
1、继承Spring boot logback设置（可以在appliaction.yml或者application.properties设置logging.*属性）
2、重写了默认配置，设置日志文件大小在100MB时，按日期切分日志，切分后目录：</p>
<pre><code>    my.2017-08-01.0   80MB
    my.2017-08-01.1   10MB
    my.2017-08-02.0   56MB
    my.2017-08-03.0   53MB
    ......
</code></pre>
<p>--&gt;
</code></pre></p>
<ul>
<li>生产环境与开发环境配置
<ul>
<li>application-dev.yml</li>
<li>application-pro.yml</li>
</ul>
</li>
</ul>
<h3 id="32-异常处理">3.2 异常处理</h3>
<p><strong>1、定义错误页面</strong></p>
<ul>
<li>404</li>
<li>500</li>
<li>error</li>
</ul>
<p><strong>2、全局处理异常</strong></p>
<p>统一处理异常：</p>
<pre><code class="language-java">@ControllerAdvice
public class ControllerExceptionHandler {
<pre><code>private final Logger logger = LoggerFactory.getLogger(ControllerExceptionHandler.class);
/**
 * 异常处理
 * @param request
 * @param e
 * @return
 */
@ExceptionHandler({Exception.class})
public ModelAndView handleException(HttpServletRequest request, Exception e) throws Exception {
<pre><code>logger.error(&amp;amp;quot;Request URL : {} , Exception : {}&amp;amp;quot;, request.getRequestURL(), e);

if (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null) {
    throw e;
}
ModelAndView mav = new ModelAndView();
mav.addObject(&amp;amp;quot;url&amp;amp;quot;, request.getRequestURL());
mav.addObject(&amp;amp;quot;exception&amp;amp;quot;, e);
mav.setViewName(&amp;amp;quot;error/error&amp;amp;quot;);

return mav;
</code></pre>
<p>}
</code></pre></p>
<p>}
</code></pre></p>
<p>错误页面异常信息显示处理：</p>
<pre><code class="language-html">&lt;div&gt;
    &lt;div th:utext=&quot;'&amp;lt;!--'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Failed Request URL : ' + ${url}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Exception message : ' + ${exception.message}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;ul th:remove=&quot;tag&quot;&gt;
        &lt;li th:each=&quot;st : ${exception.stackTrace}&quot; th:remove=&quot;tag&quot;&gt;&lt;span th:utext=&quot;${st}&quot; th:remove=&quot;tag&quot;&gt;&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
    &lt;div th:utext=&quot;'--&amp;gt;'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><strong>3、资源找不到异常</strong></p>
<pre><code class="language-java">@ResponseStatus(HttpStatus.NOT_FOUND)
public class NotFoundExcepiton extends RuntimeException {
<pre><code>public NotFoundExcepiton() {
}
<p>public NotFoundExcepiton(String message) {
super(message);
}</p>
<p>public NotFoundExcepiton(String message, Throwable cause) {
super(message, cause);
}
</code></pre></p>
<p>}
</code></pre></p>
<h3 id="33-日志处理">3.3 日志处理</h3>
<p><strong>1、记录日志内容</strong></p>
<ul>
<li>请求 url</li>
<li>访问者 ip</li>
<li>调用方法 classMethod</li>
<li>参数 args</li>
<li>返回内容</li>
</ul>
<p><strong>2、记录日志类：</strong></p>
<pre><code class="language-java">@Aspect
@Component
public class LogAspect {
<pre><code>private final Logger logger = LoggerFactory.getLogger(this.getClass());
<p>/**</p>
<ul>
<li>定义切面
<em>/
@Pointcut(&amp;quot;execution(</em> com.imcoding.web.<em>.</em>(..))&amp;quot;)
public void log() {
}</li>
</ul>
<p>@Before(&amp;quot;log()&amp;quot;)
public void doBefore(JoinPoint joinPoint) {
ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
HttpServletRequest request = attributes.getRequest();
String classMethod = joinPoint.getSignature().getDeclaringTypeName() + &amp;quot;.&amp;quot; + joinPoint.getSignature().getName();
ReqeustLog reqeustLog = new ReqeustLog(
request.getRequestURL().toString(),
request.getRemoteAddr(),
classMethod,
joinPoint.getArgs()
);
logger.info(&amp;quot;Rquest  ----- {}&amp;quot;,reqeustLog);
}</p>
<p>@After(&amp;quot;log()&amp;quot;)
public void doAfter() {
//logger.info(&amp;quot;---------- doAfter 2 ----------&amp;quot;);
}</p>
<p>@AfterReturning(returning = &amp;quot;result&amp;quot;,pointcut = &amp;quot;log()&amp;quot;)
public void doAtfertRturning(Object result) {
logger.info(&amp;quot;Return ------ {}&amp;quot;,result );
}</p>
<p>private class ReqeustLog {
private String url;
private String ip;
private String classMethod;
private Object[] args;</p>
<pre><code>public ReqeustLog(String url, String ip, String classMethod, Object[] args) {
    this.url = url;
    this.ip = ip;
    this.classMethod = classMethod;
    this.args = args;
}

@Override
public String toString() {
    return &amp;amp;quot;ReqeustLog{&amp;amp;quot; +
            &amp;amp;quot;url='&amp;amp;quot; + url + '\'' +
            &amp;amp;quot;, ip='&amp;amp;quot; + ip + '\'' +
            &amp;amp;quot;, classMethod='&amp;amp;quot; + classMethod + '\'' +
            &amp;amp;quot;, args=&amp;amp;quot; + Arrays.toString(args) +
            '}';
}
</code></pre>
<p>}
</code></pre></p>
<p>}</p>
<p></code></pre></p>
<h3 id="34-页面处理">3.4 页面处理</h3>
<p><strong>1、静态页面导入project</strong></p>
<p><strong>2、thymeleaf布局</strong></p>
<ul>
<li>定义fragment</li>
<li>使用fragment布局</li>
</ul>
<p><strong>3、错误页面美化</strong></p>
<p>4、设计与规范</p>
<h3 id="41-实体设计">4.1 实体设计</h3>
<p><strong>实体类：</strong></p>
<ul>
<li>博客 Blog</li>
<li>博客分类 Type</li>
<li>博客标签 Tag</li>
<li>博客评论 Comment</li>
<li>用户 User</li>
</ul>
<p><strong>实体关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/87092095.jpg" alt="" /></p>
<p><strong>评论类自关联关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/41296045.jpg" alt="" /></p>
<p><strong>Blog类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/38390041.jpg" alt="" /></p>
<p><strong>Type类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/22984471.jpg" alt="" /></p>
<p><strong>Tag类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/70860077.jpg" alt="" /></p>
<p><strong>Comment类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/77104424.jpg" alt="" /></p>
<p><strong>User类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/10367795.jpg" alt="" /></p>
<h3 id="42-应用分层">4.2 应用分层</h3>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/64528736.jpg" alt="" /></p>
<h3 id="43-命名约定">4.3 命名约定</h3>
<p><strong>Service/DAO层命名约定：</strong></p>
<ul>
<li>获取单个对象的方法用get做前缀。</li>
<li>获取多个对象的方法用list做前缀。</li>
<li>获取统计值的方法用count做前缀。</li>
<li>插入的方法用save(推荐)或insert做前缀。</li>
<li>删除的方法用remove(推荐)或delete做前缀。</li>
<li>修改的方法用update做前缀。</li>
</ul>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="5后台管理功能实现">5、后台管理功能实现</h2>
<h3 id="51-登录">5.1 登录</h3>
<p><strong>1、构建登录页面和后台管理首页</strong></p>
<p><strong>2、UserService和UserRepository</strong></p>
<p><strong>3、LoginController实现登录</strong></p>
<p><strong>4、MD5加密</strong></p>
<p><strong>5、登录拦截器</strong></p>
<h3 id="52-分类管理">5.2 分类管理</h3>
<p><strong>1、分类管理页面</strong></p>
<p><strong>2、分类列表分页</strong></p>
<pre><code class="language-javascript">{
  &quot;content&quot;:[
    {&quot;id&quot;:123,&quot;title&quot;:&quot;blog122&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:122,&quot;title&quot;:&quot;blog121&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:121,&quot;title&quot;:&quot;blog120&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:120,&quot;title&quot;:&quot;blog119&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:119,&quot;title&quot;:&quot;blog118&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:118,&quot;title&quot;:&quot;blog117&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:117,&quot;title&quot;:&quot;blog116&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:116,&quot;title&quot;:&quot;blog115&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:115,&quot;title&quot;:&quot;blog114&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:114,&quot;title&quot;:&quot;blog113&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:113,&quot;title&quot;:&quot;blog112&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:112,&quot;title&quot;:&quot;blog111&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:111,&quot;title&quot;:&quot;blog110&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:110,&quot;title&quot;:&quot;blog109&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:109,&quot;title&quot;:&quot;blog108&quot;,&quot;content&quot;:&quot;this is blog content&quot;}],
  &quot;last&quot;:false,
  &quot;totalPages&quot;:9,
  &quot;totalElements&quot;:123,
  &quot;size&quot;:15,
  &quot;number&quot;:0,
  &quot;first&quot;:true,
  &quot;sort&quot;:[{
    &quot;direction&quot;:&quot;DESC&quot;,
    &quot;property&quot;:&quot;id&quot;,
    &quot;ignoreCase&quot;:false,
    &quot;nullHandling&quot;:&quot;NATIVE&quot;,
    &quot;ascending&quot;:false
  }],
  &quot;numberOfElements&quot;:15
}
<p></code></pre></p>
<p><strong>3、分类新增、修改、删除</strong></p>
<h3 id="53-标签管理">5.3 标签管理</h3>
<h3 id="54-博客管理">5.4 博客管理</h3>
<p><strong>1、博客分页查询</strong></p>
<p><strong>2、博客新增</strong></p>
<p><strong>3、博客修改</strong></p>
<p><strong>4、博客删除</strong></p>
<h2 id="6前端展示功能实现">6、前端展示功能实现</h2>
<h3 id="61-首页展示">6.1 首页展示</h3>
<p><strong>1、博客列表</strong></p>
<p><strong>2、top分类</strong></p>
<p><strong>3、top标签</strong></p>
<p><strong>4、最新博客推荐</strong></p>
<p><strong>5、博客详情</strong></p>
<p><strong>1、Markdown 转换 HTML</strong></p>
<ul>
<li><a href="https://github.com/atlassian/commonmark-java" target="_blank">commonmark-java  https://github.com/atlassian/commonmark-java</a></li>
<li>pom.xml引用commonmark和扩展插件</li>
</ul>
<pre><code class="language-xml">&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-heading-anchor&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-gfm-tables&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
<p></code></pre></p>
<p><strong>2、评论功能</strong></p>
<ul>
<li>评论信息提交与回复功能</li>
<li>评论信息列表展示功能</li>
<li>管理员回复评论功能</li>
</ul>
<h3 id="62-分类页">6.2 分类页</h3>
<h3 id="63-标签页">6.3 标签页</h3>
<h3 id="64-归档页">6.4 归档页</h3>
<h3 id="65-关于我">6.5 关于我</h3>
, firstPicture=https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1590818036358&di=9569a5452be6c4297afbb3746283a8d3&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201804%2F18%2F172344g6tsuasyytq2dd7a.png, flag=转载, views=null, appreciation=false, shareStatement=true, commentabled=true, published=true, recommend=true, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=9,10,11, description=sssss, type=Type(id=8, name=null, blogs=[]), user=null, tags=[], comments=[]), org.apache.catalina.session.StandardSessionFacade@24ab87da, {}])
2020-06-09 10:51:52.903 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getType             : ==>  Preparing: select id,name from blog.t_type where id = ? 
2020-06-09 10:51:52.903 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getType             : ==> Parameters: 8(Long)
2020-06-09 10:51:52.904 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getType             : <==      Total: 1
2020-06-09 10:51:52.906 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : ==>  Preparing: select id,name from blog.t_tag where id = ? 
2020-06-09 10:51:52.906 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : ==> Parameters: 9(Long)
2020-06-09 10:51:52.907 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : <==      Total: 1
2020-06-09 10:51:52.908 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : ==>  Preparing: select id,name from blog.t_tag where id = ? 
2020-06-09 10:51:52.908 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : ==> Parameters: 10(Long)
2020-06-09 10:51:52.909 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : <==      Total: 1
2020-06-09 10:51:52.910 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : ==>  Preparing: select id,name from blog.t_tag where id = ? 
2020-06-09 10:51:52.911 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : ==> Parameters: 11(Long)
2020-06-09 10:51:52.914 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : <==      Total: 1
2020-06-09 10:51:52.914 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:51:52.915 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 9(Long), 11(Long), 11(Long), 9(Long)
2020-06-09 10:51:52.918 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:51:52.918 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:51:52.918 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 10(Long), 11(Long), 11(Long), 10(Long)
2020-06-09 10:51:52.920 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:51:52.921 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:51:52.921 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 11(Long), 11(Long), 11(Long), 11(Long)
2020-06-09 10:51:52.923 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:51:52.924 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.updateBlog          : ==>  Preparing: update t_blog set published = ?,flag = ? , title = ?, content = ?, type_id = ?, first_picture = ? , description = ? , recommend = ? , share_statement = ?, appreciation = ?, commentabled = ? ,update_time = ? where id = ?; 
2020-06-09 10:51:52.925 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.updateBlog          : ==> Parameters: true(Boolean), 转载(String), Spring Boot开发小而美的个人博客(String), <h1 id="spring-boot开发小而美的个人博客">Spring Boot开发小而美的个人博客</h1>
<blockquote>
<p>原文作者：李仁密</p>
</blockquote>
<blockquote>
<p>B站教学地址 : https://www.bilibili.com/video/BV1nE411r7TF?p=43</p>
</blockquote>
<p><strong>个人博客功能：</strong></p>
<p><strong>技术组合：</strong></p>
<ul>
<li>后端：Spring Boot + JPA + thymeleaf模板</li>
<li>数据库：MySQL</li>
<li>前端UI：Semantic UI框架</li>
</ul>
<p><strong>工具与环境：</strong></p>
<ul>
<li>IDEA</li>
<li>Maven 3</li>
<li>JDK 8</li>
<li>Axure RP 8</li>
</ul>
<p><strong>课程内容模块：</strong></p>
<ul>
<li>需求分析与功能规划</li>
<li>页面设计与开发</li>
<li>技术框架搭建</li>
<li>后端管理功能实现</li>
<li>前端管理功能实现</li>
</ul>
<p><strong>你能学得什么？</strong></p>
<ul>
<li>基于Spring Boot的完整全栈式的开发套路</li>
<li>Semantic UI框架的使用</li>
<li>一套博客系统的源代码与设计</li>
</ul>
<h2 id="1需求与功能">1、需求与功能</h2>
<h3 id="11-用户故事">1.1 用户故事</h3>
<p>用户故事是敏捷框架中的一种开发方法。可以帮助开发者转换视角，以用户的角度更好的把握需求，从而实现具有商业价值的功能。</p>
<blockquote>
<p>用户故事最好是用户团队编写</p>
</blockquote>
<p><strong>用户故事模板</strong>：</p>
<ul>
<li>As a (role of user), I want (some feature) so that (some business value).</li>
<li>作为一个(某个角色) 使用者，我可以做(某个功能) 事情，如此可以有(某个商业价值) 的好处</li>
</ul>
<p><strong>关键点</strong>：角色、功能、商业价值</p>
<p><strong>举例</strong>：</p>
<ul>
<li>作为一个招聘网站<strong>注册用户</strong>，我想<strong>查看最近3天发布的招聘信息</strong>，以便于<strong>了解最新的招聘信息</strong>。</li>
<li>作为公司，可以张贴新工作。</li>
</ul>
<p>个人博客系统的用户故事：</p>
<p>角色：<strong>普通访客</strong>，<strong>管理员（我）</strong></p>
<ul>
<li>访客，可以分页查看所有的博客</li>
<li>访客，可以快速查看博客数最多的6个分类</li>
<li>访客，可以查看所有的分类</li>
<li>访客，可以查看某个分类下的博客列表</li>
<li>访客，可以快速查看标记博客最多的10个标签</li>
<li>访客，可以查看所有的标签</li>
<li>访客，可以查看某个标签下的博客列表</li>
<li>访客，可以根据年度时间线查看博客列表</li>
<li>访客，可以快速查看最新的推荐博客</li>
<li>访客，可以用关键字全局搜索博客</li>
<li>访客，可以查看单个博客内容</li>
<li>访客，可以对博客内容进行评论</li>
<li>访客，可以赞赏博客内容</li>
<li>访客，可以微信扫码阅读博客内容</li>
<li>访客，可以在首页扫描公众号二维码关注我</li>
<li>我，可以用户名和密码登录后台管理</li>
<li>我，可以管理博客
<ul>
<li>我，可以发布新博客</li>
<li>我，可以对博客进行分类</li>
<li>我，可以对博客打标签</li>
<li>我，可以修改博客</li>
<li>我，可以删除博客</li>
<li>我，可以根据标题，分类，标签查询博客</li>
</ul>
</li>
<li>我，可以管理博客分类
<ul>
<li>我，可以新增一个分类</li>
<li>我，可以修改一个分类</li>
<li>我，可以删除一个分类</li>
<li>我，可以根据分类名称查询分类</li>
</ul>
</li>
<li>我，可以管理标签
<ul>
<li>我，可以新增一个标签</li>
<li>我，可以修改一个标签</li>
<li>我，可以删除一个标签</li>
<li>我，可以根据名称查询标签</li>
</ul>
</li>
</ul>
<h3 id="12-功能规划">1.2 功能规划</h3>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="2页面设计与开发">2、页面设计与开发</h2>
<h3 id="21-设计">2.1 设计</h3>
<p><strong>页面规划：</strong></p>
<p>前端展示：首页、详情页、分类、标签、归档、关于我</p>
<p>后台管理：模板页</p>
<h3 id="22-页面开发">2.2 页面开发</h3>
<p><a href="https://semantic-ui.com/" target="_blank">Semantic UI官网</a></p>
<p><a href="http://www.semantic-ui.cn/" target="_blank">Semantic UI中文官网</a></p>
<p><a href="https://imcoding.me/blogs/5" target="_blank">WebStorm下载与破解</a></p>
<p><a href="https://www.toptal.com/designers/subtlepatterns/" target="_blank">背景图片资源</a></p>
<h3 id="23-插件集成">2.3 插件集成</h3>
<p><a href="https://pandao.github.io/editor.md/" target="_blank">编辑器 Markdown</a></p>
<p><a href="https://github.com/sofish/typo.css" target="_blank">内容排版 typo.css</a></p>
<p><a href="https://daneden.github.io/animate.css/" target="_blank">动画 animate.css</a></p>
<p><a href="https://github.com/PrismJS/prism" target="_blank">代码高亮 prism</a></p>
<p><a href="https://tscanlin.github.io/tocbot/" target="_blank">目录生成 Tocbot</a></p>
<p><a href="http://imakewebthings.com/waypoints/" target="_blank">滚动侦测 waypoints</a></p>
<p><a href="https://github.com/flesler/jquery.scrollTo" target="_blank">平滑滚动 jquery.scrollTo</a></p>
<p><a href="https://davidshimjs.github.io/qrcodejs/" target="_blank">二维码生成 qrcode.js</a></p>
<h2 id="3框架搭建">3、框架搭建</h2>
<blockquote>
<p><a href="https://www.jetbrains.com/idea/" target="_blank">IDEA下载 https://www.jetbrains.com/idea/</a></p>
</blockquote>
<h3 id="31-构建与配置">3.1 构建与配置</h3>
<p><strong>1、引入Spring Boot模块：</strong></p>
<ul>
<li>web</li>
<li>Thymeleaf</li>
<li>JPA</li>
<li>MySQL</li>
<li>Aspects</li>
<li>DevTools</li>
</ul>
<p><strong>2、application.yml配置</strong></p>
<ul>
<li>
<p>使用 thymeleaf 3</p>
<p>pom.xml:</p>
</li>
</ul>
<pre><code class="language-xml">&lt;thymeleaf.version&gt;3.0.2.RELEASE&lt;/thymeleaf.version&gt;
&lt;thymeleaf-layout-dialect.version&gt;2.1.1&lt;/thymeleaf-layout-dialect.version&gt;
</code></pre>
<pre><code>application.yml:
</code></pre>
<pre><code class="language-yaml">spring:
  thymeleaf:
    mode: HTML
</code></pre>
<ul>
<li>数据库连接配置</li>
</ul>
<pre><code class="language-yaml">spring:
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://localhost:3306/blog?useUnicode=true&amp;characterEncoding=utf-8
    username: root
    password: root
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
</code></pre>
<ul>
<li>
<p>日志配置</p>
<p>application.yml:</p>
</li>
</ul>
<pre><code class="language-yaml">logging:
  level:
    root: info
    com.imcoding: debug
  file: log/imcoding.log
</code></pre>
<p>​	logback-spring.xml：</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;configuration&gt;
    &lt;!--包含Spring boot对logback日志的默认配置--&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot; /&gt;
    &lt;property name=&quot;LOG_FILE&quot; value=&quot;${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}}/spring.log}&quot;/&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;
<pre><code>&amp;lt;!--重写了Spring Boot框架 org/springframework/boot/logging/logback/file-appender.xml 配置--&amp;gt;
&amp;lt;appender name=&amp;quot;TIME_FILE&amp;quot;
          class=&amp;quot;ch.qos.logback.core.rolling.RollingFileAppender&amp;quot;&amp;gt;
    &amp;lt;encoder&amp;gt;
        &amp;lt;pattern&amp;gt;${FILE_LOG_PATTERN}&amp;lt;/pattern&amp;gt;
    &amp;lt;/encoder&amp;gt;
    &amp;lt;file&amp;gt;${LOG_FILE}&amp;lt;/file&amp;gt;
    &amp;lt;rollingPolicy class=&amp;quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&amp;quot;&amp;gt;
        &amp;lt;fileNamePattern&amp;gt;${LOG_FILE}.%d{yyyy-MM-dd}.%i&amp;lt;/fileNamePattern&amp;gt;
        &amp;lt;!--保留历史日志一个月的时间--&amp;gt;
        &amp;lt;maxHistory&amp;gt;30&amp;lt;/maxHistory&amp;gt;
        &amp;lt;!--
        Spring Boot默认情况下，日志文件10M时，会切分日志文件,这样设置日志文件会在100M时切分日志
        --&amp;gt;
        &amp;lt;timeBasedFileNamingAndTriggeringPolicy class=&amp;quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&amp;quot;&amp;gt;
            &amp;lt;maxFileSize&amp;gt;10MB&amp;lt;/maxFileSize&amp;gt;
        &amp;lt;/timeBasedFileNamingAndTriggeringPolicy&amp;gt;
<pre><code>&amp;amp;lt;/rollingPolicy&amp;amp;gt;
</code></pre>
<p>&amp;lt;/appender&amp;gt;</p>
<p>&amp;lt;root level=&amp;quot;INFO&amp;quot;&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;CONSOLE&amp;quot; /&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;TIME_FILE&amp;quot; /&amp;gt;
&amp;lt;/root&amp;gt;
</code></pre></p>
<p>&lt;/configuration&gt;
&lt;!--
1、继承Spring boot logback设置（可以在appliaction.yml或者application.properties设置logging.*属性）
2、重写了默认配置，设置日志文件大小在100MB时，按日期切分日志，切分后目录：</p>
<pre><code>    my.2017-08-01.0   80MB
    my.2017-08-01.1   10MB
    my.2017-08-02.0   56MB
    my.2017-08-03.0   53MB
    ......
</code></pre>
<p>--&gt;
</code></pre></p>
<ul>
<li>生产环境与开发环境配置
<ul>
<li>application-dev.yml</li>
<li>application-pro.yml</li>
</ul>
</li>
</ul>
<h3 id="32-异常处理">3.2 异常处理</h3>
<p><strong>1、定义错误页面</strong></p>
<ul>
<li>404</li>
<li>500</li>
<li>error</li>
</ul>
<p><strong>2、全局处理异常</strong></p>
<p>统一处理异常：</p>
<pre><code class="language-java">@ControllerAdvice
public class ControllerExceptionHandler {
<pre><code>private final Logger logger = LoggerFactory.getLogger(ControllerExceptionHandler.class);
/**
 * 异常处理
 * @param request
 * @param e
 * @return
 */
@ExceptionHandler({Exception.class})
public ModelAndView handleException(HttpServletRequest request, Exception e) throws Exception {
<pre><code>logger.error(&amp;amp;quot;Request URL : {} , Exception : {}&amp;amp;quot;, request.getRequestURL(), e);

if (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null) {
    throw e;
}
ModelAndView mav = new ModelAndView();
mav.addObject(&amp;amp;quot;url&amp;amp;quot;, request.getRequestURL());
mav.addObject(&amp;amp;quot;exception&amp;amp;quot;, e);
mav.setViewName(&amp;amp;quot;error/error&amp;amp;quot;);

return mav;
</code></pre>
<p>}
</code></pre></p>
<p>}
</code></pre></p>
<p>错误页面异常信息显示处理：</p>
<pre><code class="language-html">&lt;div&gt;
    &lt;div th:utext=&quot;'&amp;lt;!--'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Failed Request URL : ' + ${url}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Exception message : ' + ${exception.message}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;ul th:remove=&quot;tag&quot;&gt;
        &lt;li th:each=&quot;st : ${exception.stackTrace}&quot; th:remove=&quot;tag&quot;&gt;&lt;span th:utext=&quot;${st}&quot; th:remove=&quot;tag&quot;&gt;&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
    &lt;div th:utext=&quot;'--&amp;gt;'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><strong>3、资源找不到异常</strong></p>
<pre><code class="language-java">@ResponseStatus(HttpStatus.NOT_FOUND)
public class NotFoundExcepiton extends RuntimeException {
<pre><code>public NotFoundExcepiton() {
}
<p>public NotFoundExcepiton(String message) {
super(message);
}</p>
<p>public NotFoundExcepiton(String message, Throwable cause) {
super(message, cause);
}
</code></pre></p>
<p>}
</code></pre></p>
<h3 id="33-日志处理">3.3 日志处理</h3>
<p><strong>1、记录日志内容</strong></p>
<ul>
<li>请求 url</li>
<li>访问者 ip</li>
<li>调用方法 classMethod</li>
<li>参数 args</li>
<li>返回内容</li>
</ul>
<p><strong>2、记录日志类：</strong></p>
<pre><code class="language-java">@Aspect
@Component
public class LogAspect {
<pre><code>private final Logger logger = LoggerFactory.getLogger(this.getClass());
<p>/**</p>
<ul>
<li>定义切面
<em>/
@Pointcut(&amp;quot;execution(</em> com.imcoding.web.<em>.</em>(..))&amp;quot;)
public void log() {
}</li>
</ul>
<p>@Before(&amp;quot;log()&amp;quot;)
public void doBefore(JoinPoint joinPoint) {
ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
HttpServletRequest request = attributes.getRequest();
String classMethod = joinPoint.getSignature().getDeclaringTypeName() + &amp;quot;.&amp;quot; + joinPoint.getSignature().getName();
ReqeustLog reqeustLog = new ReqeustLog(
request.getRequestURL().toString(),
request.getRemoteAddr(),
classMethod,
joinPoint.getArgs()
);
logger.info(&amp;quot;Rquest  ----- {}&amp;quot;,reqeustLog);
}</p>
<p>@After(&amp;quot;log()&amp;quot;)
public void doAfter() {
//logger.info(&amp;quot;---------- doAfter 2 ----------&amp;quot;);
}</p>
<p>@AfterReturning(returning = &amp;quot;result&amp;quot;,pointcut = &amp;quot;log()&amp;quot;)
public void doAtfertRturning(Object result) {
logger.info(&amp;quot;Return ------ {}&amp;quot;,result );
}</p>
<p>private class ReqeustLog {
private String url;
private String ip;
private String classMethod;
private Object[] args;</p>
<pre><code>public ReqeustLog(String url, String ip, String classMethod, Object[] args) {
    this.url = url;
    this.ip = ip;
    this.classMethod = classMethod;
    this.args = args;
}

@Override
public String toString() {
    return &amp;amp;quot;ReqeustLog{&amp;amp;quot; +
            &amp;amp;quot;url='&amp;amp;quot; + url + '\'' +
            &amp;amp;quot;, ip='&amp;amp;quot; + ip + '\'' +
            &amp;amp;quot;, classMethod='&amp;amp;quot; + classMethod + '\'' +
            &amp;amp;quot;, args=&amp;amp;quot; + Arrays.toString(args) +
            '}';
}
</code></pre>
<p>}
</code></pre></p>
<p>}</p>
<p></code></pre></p>
<h3 id="34-页面处理">3.4 页面处理</h3>
<p><strong>1、静态页面导入project</strong></p>
<p><strong>2、thymeleaf布局</strong></p>
<ul>
<li>定义fragment</li>
<li>使用fragment布局</li>
</ul>
<p><strong>3、错误页面美化</strong></p>
<p>4、设计与规范</p>
<h3 id="41-实体设计">4.1 实体设计</h3>
<p><strong>实体类：</strong></p>
<ul>
<li>博客 Blog</li>
<li>博客分类 Type</li>
<li>博客标签 Tag</li>
<li>博客评论 Comment</li>
<li>用户 User</li>
</ul>
<p><strong>实体关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/87092095.jpg" alt="" /></p>
<p><strong>评论类自关联关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/41296045.jpg" alt="" /></p>
<p><strong>Blog类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/38390041.jpg" alt="" /></p>
<p><strong>Type类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/22984471.jpg" alt="" /></p>
<p><strong>Tag类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/70860077.jpg" alt="" /></p>
<p><strong>Comment类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/77104424.jpg" alt="" /></p>
<p><strong>User类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/10367795.jpg" alt="" /></p>
<h3 id="42-应用分层">4.2 应用分层</h3>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/64528736.jpg" alt="" /></p>
<h3 id="43-命名约定">4.3 命名约定</h3>
<p><strong>Service/DAO层命名约定：</strong></p>
<ul>
<li>获取单个对象的方法用get做前缀。</li>
<li>获取多个对象的方法用list做前缀。</li>
<li>获取统计值的方法用count做前缀。</li>
<li>插入的方法用save(推荐)或insert做前缀。</li>
<li>删除的方法用remove(推荐)或delete做前缀。</li>
<li>修改的方法用update做前缀。</li>
</ul>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="5后台管理功能实现">5、后台管理功能实现</h2>
<h3 id="51-登录">5.1 登录</h3>
<p><strong>1、构建登录页面和后台管理首页</strong></p>
<p><strong>2、UserService和UserRepository</strong></p>
<p><strong>3、LoginController实现登录</strong></p>
<p><strong>4、MD5加密</strong></p>
<p><strong>5、登录拦截器</strong></p>
<h3 id="52-分类管理">5.2 分类管理</h3>
<p><strong>1、分类管理页面</strong></p>
<p><strong>2、分类列表分页</strong></p>
<pre><code class="language-javascript">{
  &quot;content&quot;:[
    {&quot;id&quot;:123,&quot;title&quot;:&quot;blog122&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:122,&quot;title&quot;:&quot;blog121&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:121,&quot;title&quot;:&quot;blog120&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:120,&quot;title&quot;:&quot;blog119&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:119,&quot;title&quot;:&quot;blog118&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:118,&quot;title&quot;:&quot;blog117&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:117,&quot;title&quot;:&quot;blog116&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:116,&quot;title&quot;:&quot;blog115&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:115,&quot;title&quot;:&quot;blog114&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:114,&quot;title&quot;:&quot;blog113&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:113,&quot;title&quot;:&quot;blog112&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:112,&quot;title&quot;:&quot;blog111&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:111,&quot;title&quot;:&quot;blog110&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:110,&quot;title&quot;:&quot;blog109&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:109,&quot;title&quot;:&quot;blog108&quot;,&quot;content&quot;:&quot;this is blog content&quot;}],
  &quot;last&quot;:false,
  &quot;totalPages&quot;:9,
  &quot;totalElements&quot;:123,
  &quot;size&quot;:15,
  &quot;number&quot;:0,
  &quot;first&quot;:true,
  &quot;sort&quot;:[{
    &quot;direction&quot;:&quot;DESC&quot;,
    &quot;property&quot;:&quot;id&quot;,
    &quot;ignoreCase&quot;:false,
    &quot;nullHandling&quot;:&quot;NATIVE&quot;,
    &quot;ascending&quot;:false
  }],
  &quot;numberOfElements&quot;:15
}
<p></code></pre></p>
<p><strong>3、分类新增、修改、删除</strong></p>
<h3 id="53-标签管理">5.3 标签管理</h3>
<h3 id="54-博客管理">5.4 博客管理</h3>
<p><strong>1、博客分页查询</strong></p>
<p><strong>2、博客新增</strong></p>
<p><strong>3、博客修改</strong></p>
<p><strong>4、博客删除</strong></p>
<h2 id="6前端展示功能实现">6、前端展示功能实现</h2>
<h3 id="61-首页展示">6.1 首页展示</h3>
<p><strong>1、博客列表</strong></p>
<p><strong>2、top分类</strong></p>
<p><strong>3、top标签</strong></p>
<p><strong>4、最新博客推荐</strong></p>
<p><strong>5、博客详情</strong></p>
<p><strong>1、Markdown 转换 HTML</strong></p>
<ul>
<li><a href="https://github.com/atlassian/commonmark-java" target="_blank">commonmark-java  https://github.com/atlassian/commonmark-java</a></li>
<li>pom.xml引用commonmark和扩展插件</li>
</ul>
<pre><code class="language-xml">&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-heading-anchor&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-gfm-tables&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
<p></code></pre></p>
<p><strong>2、评论功能</strong></p>
<ul>
<li>评论信息提交与回复功能</li>
<li>评论信息列表展示功能</li>
<li>管理员回复评论功能</li>
</ul>
<h3 id="62-分类页">6.2 分类页</h3>
<h3 id="63-标签页">6.3 标签页</h3>
<h3 id="64-归档页">6.4 归档页</h3>
<h3 id="65-关于我">6.5 关于我</h3>
(String), 8(Long), https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1590818036358&di=9569a5452be6c4297afbb3746283a8d3&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201804%2F18%2F172344g6tsuasyytq2dd7a.png(String), sssss(String), true(Boolean), true(Boolean), false(Boolean), true(Boolean), 2020-06-09 10:51:52.914(Timestamp), 11(Long)
2020-06-09 10:51:52.934 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.updateBlog          : <==    Updates: 1
2020-06-09 10:51:52.935  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:51:52.935  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: redirect:/admin/blogs
2020-06-09 10:51:52.939  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.blogs, args=[1, {msg=新增成功}])
2020-06-09 10:51:52.940 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t WHERE b.type_id = t.id 
2020-06-09 10:51:52.941 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==> Parameters: 
2020-06-09 10:51:52.942 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getAllBlog_COUNT    : <==      Total: 1
2020-06-09 10:51:52.942 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getAllBlog          : ==>  Preparing: /*后台博客展示*/ select b.id, b.title, b.update_time, b.recommend, b.type_id, b.published, t.id typeid, t.name typename from t_blog b, t_type t where b.type_id = t.id /*博客类型id=类型id*/ LIMIT ? 
2020-06-09 10:51:52.943 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getAllBlog          : ==> Parameters: 5(Integer)
2020-06-09 10:51:52.946 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getAllBlog          : <==      Total: 1
2020-06-09 10:51:52.947 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TypeDao.getAllType          : ==>  Preparing: select * from t_type 
2020-06-09 10:51:52.948 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TypeDao.getAllType          : ==> Parameters: 
2020-06-09 10:51:52.949 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TypeDao.getAllType          : <==      Total: 2
2020-06-09 10:51:52.951 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TagDao.getAllTag            : ==>  Preparing: select * from blog.t_tag 
2020-06-09 10:51:52.951 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TagDao.getAllTag            : ==> Parameters: 
2020-06-09 10:51:52.952 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TagDao.getAllTag            : <==      Total: 4
2020-06-09 10:51:52.952  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:51:52.952  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: admin/blogs
2020-06-09 10:51:55.415  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 10:51:57.459 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 10:51:57.460 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 10:51:57.461 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 10:51:57.462 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getIndexBlog        : ==>  Preparing: /*主页博客展示*/ select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id order by b.update_time desc LIMIT ? 
2020-06-09 10:51:57.462 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getIndexBlog        : ==> Parameters: 8(Integer)
2020-06-09 10:51:57.464 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getIndexBlog        : <==      Total: 1
2020-06-09 10:51:57.465 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 10:51:57.465 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 10:51:57.466 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.TypeDao.getBlogType         : <==      Total: 1
2020-06-09 10:51:57.467 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 10:51:57.468 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 10:51:57.470 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.TagDao.getBlogTag           : <==      Total: 3
2020-06-09 10:51:57.471 DEBUG 18584 --- [http-nio-8080-exec-4] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 10:51:57.471 DEBUG 18584 --- [http-nio-8080-exec-4] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 10:51:57.474 DEBUG 18584 --- [http-nio-8080-exec-4] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 1
2020-06-09 10:51:57.475  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:51:57.475  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: index
2020-06-09 10:51:57.898  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:51:57.899 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:51:57.899 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:51:57.901 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:51:57.902  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:51:57.902  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:52:21.739  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/types/-1, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.TypeShowController.types, args=[-1, 1, {}])
2020-06-09 10:52:21.744 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType_COUNT   : ==>  Preparing: SELECT count(0) FROM t_type t, t_blog b WHERE t.id = b.type_id 
2020-06-09 10:52:21.744 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType_COUNT   : ==> Parameters: 
2020-06-09 10:52:21.745 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType_COUNT   : <==      Total: 1
2020-06-09 10:52:21.746 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id LIMIT ? 
2020-06-09 10:52:21.746 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 100(Integer)
2020-06-09 10:52:21.747 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType         : <==      Total: 1
2020-06-09 10:52:21.748 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getByTypeId         : ==>  Preparing: select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id and b.type_id = ? order by b.update_time desc 
2020-06-09 10:52:21.748 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getByTypeId         : ==> Parameters: 8(Long)
2020-06-09 10:52:21.750 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getByTypeId         : <==      Total: 1
2020-06-09 10:52:21.750  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:52:21.750  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: types
2020-06-09 10:52:22.189  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:52:22.189 DEBUG 18584 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:52:22.190 DEBUG 18584 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:52:22.192 DEBUG 18584 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:52:22.192  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:52:22.192  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:53:29.264  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs/11/input, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.toEditBlog, args=[11, {}])
2020-06-09 10:53:29.267 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getBlog             : ==>  Preparing: /*后台展示博客*/ select b.id, b.published, b.flag, b.title, b.content, b.type_id typeid, ty.name typename, b.first_picture, b.description, b.recommend, b.share_statement, b.appreciation, b.commentabled , t.id tagid ,t.name tagname from t_blog b left join t_type ty on ty.id=b.type_id LEFT JOIN t_blog_tags bt on bt.blogs_id = b.id left join t_tag t on t.id= bt.tags_id where b.id = ?; 
2020-06-09 10:53:29.267 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getBlog             : ==> Parameters: 11(Long)
2020-06-09 10:53:29.270 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getBlog             : <==      Total: 3
2020-06-09 10:53:29.271 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getAllType          : ==>  Preparing: select * from t_type 
2020-06-09 10:53:29.272 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getAllType          : ==> Parameters: 
2020-06-09 10:53:29.273 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getAllType          : <==      Total: 2
2020-06-09 10:53:29.276 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getAllTag            : ==>  Preparing: select * from blog.t_tag 
2020-06-09 10:53:29.276 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getAllTag            : ==> Parameters: 
2020-06-09 10:53:29.279 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getAllTag            : <==      Total: 4
2020-06-09 10:53:29.279  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:53:29.279  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: admin/blogs-input
2020-06-09 10:59:03.414  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.addBlog, args=[Blog(id=11, title=Spring Boot开发小而美的个人博客, content=<h1 id="spring-boot开发小而美的个人博客">Spring Boot开发小而美的个人博客</h1>
<blockquote>
<p>原文作者：李仁密</p>
</blockquote>
<blockquote>
<p>B站教学地址 : https://www.bilibili.com/video/BV1nE411r7TF?p=43</p>
</blockquote>
<p><strong>个人博客功能：</strong></p>
<p><strong>技术组合：</strong></p>
<ul>
<li>后端：Spring Boot + JPA + thymeleaf模板</li>
<li>数据库：MySQL</li>
<li>前端UI：Semantic UI框架</li>
</ul>
<p><strong>工具与环境：</strong></p>
<ul>
<li>IDEA</li>
<li>Maven 3</li>
<li>JDK 8</li>
<li>Axure RP 8</li>
</ul>
<p><strong>课程内容模块：</strong></p>
<ul>
<li>需求分析与功能规划</li>
<li>页面设计与开发</li>
<li>技术框架搭建</li>
<li>后端管理功能实现</li>
<li>前端管理功能实现</li>
</ul>
<p><strong>你能学得什么？</strong></p>
<ul>
<li>基于Spring Boot的完整全栈式的开发套路</li>
<li>Semantic UI框架的使用</li>
<li>一套博客系统的源代码与设计</li>
</ul>
<h2 id="1需求与功能">1、需求与功能</h2>
<h3 id="11-用户故事">1.1 用户故事</h3>
<p>用户故事是敏捷框架中的一种开发方法。可以帮助开发者转换视角，以用户的角度更好的把握需求，从而实现具有商业价值的功能。</p>
<blockquote>
<p>用户故事最好是用户团队编写</p>
</blockquote>
<p><strong>用户故事模板</strong>：</p>
<ul>
<li>As a (role of user), I want (some feature) so that (some business value).</li>
<li>作为一个(某个角色) 使用者，我可以做(某个功能) 事情，如此可以有(某个商业价值) 的好处</li>
</ul>
<p><strong>关键点</strong>：角色、功能、商业价值</p>
<p><strong>举例</strong>：</p>
<ul>
<li>作为一个招聘网站<strong>注册用户</strong>，我想<strong>查看最近3天发布的招聘信息</strong>，以便于<strong>了解最新的招聘信息</strong>。</li>
<li>作为公司，可以张贴新工作。</li>
</ul>
<p>个人博客系统的用户故事：</p>
<p>角色：<strong>普通访客</strong>，<strong>管理员（我）</strong></p>
<ul>
<li>访客，可以分页查看所有的博客</li>
<li>访客，可以快速查看博客数最多的6个分类</li>
<li>访客，可以查看所有的分类</li>
<li>访客，可以查看某个分类下的博客列表</li>
<li>访客，可以快速查看标记博客最多的10个标签</li>
<li>访客，可以查看所有的标签</li>
<li>访客，可以查看某个标签下的博客列表</li>
<li>访客，可以根据年度时间线查看博客列表</li>
<li>访客，可以快速查看最新的推荐博客</li>
<li>访客，可以用关键字全局搜索博客</li>
<li>访客，可以查看单个博客内容</li>
<li>访客，可以对博客内容进行评论</li>
<li>访客，可以赞赏博客内容</li>
<li>访客，可以微信扫码阅读博客内容</li>
<li>访客，可以在首页扫描公众号二维码关注我</li>
<li>我，可以用户名和密码登录后台管理</li>
<li>我，可以管理博客
<ul>
<li>我，可以发布新博客</li>
<li>我，可以对博客进行分类</li>
<li>我，可以对博客打标签</li>
<li>我，可以修改博客</li>
<li>我，可以删除博客</li>
<li>我，可以根据标题，分类，标签查询博客</li>
</ul>
</li>
<li>我，可以管理博客分类
<ul>
<li>我，可以新增一个分类</li>
<li>我，可以修改一个分类</li>
<li>我，可以删除一个分类</li>
<li>我，可以根据分类名称查询分类</li>
</ul>
</li>
<li>我，可以管理标签
<ul>
<li>我，可以新增一个标签</li>
<li>我，可以修改一个标签</li>
<li>我，可以删除一个标签</li>
<li>我，可以根据名称查询标签</li>
</ul>
</li>
</ul>
<h3 id="12-功能规划">1.2 功能规划</h3>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="2页面设计与开发">2、页面设计与开发</h2>
<h3 id="21-设计">2.1 设计</h3>
<p><strong>页面规划：</strong></p>
<p>前端展示：首页、详情页、分类、标签、归档、关于我</p>
<p>后台管理：模板页</p>
<h3 id="22-页面开发">2.2 页面开发</h3>
<p><a href="https://semantic-ui.com/" target="_blank">Semantic UI官网</a></p>
<p><a href="http://www.semantic-ui.cn/" target="_blank">Semantic UI中文官网</a></p>
<p><a href="https://imcoding.me/blogs/5" target="_blank">WebStorm下载与破解</a></p>
<p><a href="https://www.toptal.com/designers/subtlepatterns/" target="_blank">背景图片资源</a></p>
<h3 id="23-插件集成">2.3 插件集成</h3>
<p><a href="https://pandao.github.io/editor.md/" target="_blank">编辑器 Markdown</a></p>
<p><a href="https://github.com/sofish/typo.css" target="_blank">内容排版 typo.css</a></p>
<p><a href="https://daneden.github.io/animate.css/" target="_blank">动画 animate.css</a></p>
<p><a href="https://github.com/PrismJS/prism" target="_blank">代码高亮 prism</a></p>
<p><a href="https://tscanlin.github.io/tocbot/" target="_blank">目录生成 Tocbot</a></p>
<p><a href="http://imakewebthings.com/waypoints/" target="_blank">滚动侦测 waypoints</a></p>
<p><a href="https://github.com/flesler/jquery.scrollTo" target="_blank">平滑滚动 jquery.scrollTo</a></p>
<p><a href="https://davidshimjs.github.io/qrcodejs/" target="_blank">二维码生成 qrcode.js</a></p>
<h2 id="3框架搭建">3、框架搭建</h2>
<blockquote>
<p><a href="https://www.jetbrains.com/idea/" target="_blank">IDEA下载 https://www.jetbrains.com/idea/</a></p>
</blockquote>
<h3 id="31-构建与配置">3.1 构建与配置</h3>
<p><strong>1、引入Spring Boot模块：</strong></p>
<ul>
<li>web</li>
<li>Thymeleaf</li>
<li>JPA</li>
<li>MySQL</li>
<li>Aspects</li>
<li>DevTools</li>
</ul>
<p><strong>2、application.yml配置</strong></p>
<ul>
<li>
<p>使用 thymeleaf 3</p>
<p>pom.xml:</p>
</li>
</ul>
<pre><code class="language-xml">&lt;thymeleaf.version&gt;3.0.2.RELEASE&lt;/thymeleaf.version&gt;
&lt;thymeleaf-layout-dialect.version&gt;2.1.1&lt;/thymeleaf-layout-dialect.version&gt;
</code></pre>
<pre><code>application.yml:
</code></pre>
<pre><code class="language-yaml">spring:
  thymeleaf:
    mode: HTML
</code></pre>
<ul>
<li>数据库连接配置</li>
</ul>
<pre><code class="language-yaml">spring:
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://localhost:3306/blog?useUnicode=true&amp;characterEncoding=utf-8
    username: root
    password: root
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
</code></pre>
<ul>
<li>
<p>日志配置</p>
<p>application.yml:</p>
</li>
</ul>
<pre><code class="language-yaml">logging:
  level:
    root: info
    com.imcoding: debug
  file: log/imcoding.log
</code></pre>
<p>​	logback-spring.xml：</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;configuration&gt;
    &lt;!--包含Spring boot对logback日志的默认配置--&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot; /&gt;
    &lt;property name=&quot;LOG_FILE&quot; value=&quot;${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}}/spring.log}&quot;/&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;
<pre><code>&amp;lt;!--重写了Spring Boot框架 org/springframework/boot/logging/logback/file-appender.xml 配置--&amp;gt;
&amp;lt;appender name=&amp;quot;TIME_FILE&amp;quot;
          class=&amp;quot;ch.qos.logback.core.rolling.RollingFileAppender&amp;quot;&amp;gt;
    &amp;lt;encoder&amp;gt;
        &amp;lt;pattern&amp;gt;${FILE_LOG_PATTERN}&amp;lt;/pattern&amp;gt;
    &amp;lt;/encoder&amp;gt;
    &amp;lt;file&amp;gt;${LOG_FILE}&amp;lt;/file&amp;gt;
    &amp;lt;rollingPolicy class=&amp;quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&amp;quot;&amp;gt;
        &amp;lt;fileNamePattern&amp;gt;${LOG_FILE}.%d{yyyy-MM-dd}.%i&amp;lt;/fileNamePattern&amp;gt;
        &amp;lt;!--保留历史日志一个月的时间--&amp;gt;
        &amp;lt;maxHistory&amp;gt;30&amp;lt;/maxHistory&amp;gt;
        &amp;lt;!--
        Spring Boot默认情况下，日志文件10M时，会切分日志文件,这样设置日志文件会在100M时切分日志
        --&amp;gt;
        &amp;lt;timeBasedFileNamingAndTriggeringPolicy class=&amp;quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&amp;quot;&amp;gt;
            &amp;lt;maxFileSize&amp;gt;10MB&amp;lt;/maxFileSize&amp;gt;
        &amp;lt;/timeBasedFileNamingAndTriggeringPolicy&amp;gt;
<pre><code>&amp;amp;lt;/rollingPolicy&amp;amp;gt;
</code></pre>
<p>&amp;lt;/appender&amp;gt;</p>
<p>&amp;lt;root level=&amp;quot;INFO&amp;quot;&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;CONSOLE&amp;quot; /&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;TIME_FILE&amp;quot; /&amp;gt;
&amp;lt;/root&amp;gt;
</code></pre></p>
<p>&lt;/configuration&gt;
&lt;!--
1、继承Spring boot logback设置（可以在appliaction.yml或者application.properties设置logging.*属性）
2、重写了默认配置，设置日志文件大小在100MB时，按日期切分日志，切分后目录：</p>
<pre><code>    my.2017-08-01.0   80MB
    my.2017-08-01.1   10MB
    my.2017-08-02.0   56MB
    my.2017-08-03.0   53MB
    ......
</code></pre>
<p>--&gt;
</code></pre></p>
<ul>
<li>生产环境与开发环境配置
<ul>
<li>application-dev.yml</li>
<li>application-pro.yml</li>
</ul>
</li>
</ul>
<h3 id="32-异常处理">3.2 异常处理</h3>
<p><strong>1、定义错误页面</strong></p>
<ul>
<li>404</li>
<li>500</li>
<li>error</li>
</ul>
<p><strong>2、全局处理异常</strong></p>
<p>统一处理异常：</p>
<pre><code class="language-java">@ControllerAdvice
public class ControllerExceptionHandler {
<pre><code>private final Logger logger = LoggerFactory.getLogger(ControllerExceptionHandler.class);
/**
 * 异常处理
 * @param request
 * @param e
 * @return
 */
@ExceptionHandler({Exception.class})
public ModelAndView handleException(HttpServletRequest request, Exception e) throws Exception {
<pre><code>logger.error(&amp;amp;quot;Request URL : {} , Exception : {}&amp;amp;quot;, request.getRequestURL(), e);

if (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null) {
    throw e;
}
ModelAndView mav = new ModelAndView();
mav.addObject(&amp;amp;quot;url&amp;amp;quot;, request.getRequestURL());
mav.addObject(&amp;amp;quot;exception&amp;amp;quot;, e);
mav.setViewName(&amp;amp;quot;error/error&amp;amp;quot;);

return mav;
</code></pre>
<p>}
</code></pre></p>
<p>}
</code></pre></p>
<p>错误页面异常信息显示处理：</p>
<pre><code class="language-html">&lt;div&gt;
    &lt;div th:utext=&quot;'&amp;lt;!--'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Failed Request URL : ' + ${url}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Exception message : ' + ${exception.message}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;ul th:remove=&quot;tag&quot;&gt;
        &lt;li th:each=&quot;st : ${exception.stackTrace}&quot; th:remove=&quot;tag&quot;&gt;&lt;span th:utext=&quot;${st}&quot; th:remove=&quot;tag&quot;&gt;&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
    &lt;div th:utext=&quot;'--&amp;gt;'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><strong>3、资源找不到异常</strong></p>
<pre><code class="language-java">@ResponseStatus(HttpStatus.NOT_FOUND)
public class NotFoundExcepiton extends RuntimeException {
<pre><code>public NotFoundExcepiton() {
}
<p>public NotFoundExcepiton(String message) {
super(message);
}</p>
<p>public NotFoundExcepiton(String message, Throwable cause) {
super(message, cause);
}
</code></pre></p>
<p>}
</code></pre></p>
<h3 id="33-日志处理">3.3 日志处理</h3>
<p><strong>1、记录日志内容</strong></p>
<ul>
<li>请求 url</li>
<li>访问者 ip</li>
<li>调用方法 classMethod</li>
<li>参数 args</li>
<li>返回内容</li>
</ul>
<p><strong>2、记录日志类：</strong></p>
<pre><code class="language-java">@Aspect
@Component
public class LogAspect {
<pre><code>private final Logger logger = LoggerFactory.getLogger(this.getClass());
<p>/**</p>
<ul>
<li>定义切面
<em>/
@Pointcut(&amp;quot;execution(</em> com.imcoding.web.<em>.</em>(..))&amp;quot;)
public void log() {
}</li>
</ul>
<p>@Before(&amp;quot;log()&amp;quot;)
public void doBefore(JoinPoint joinPoint) {
ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
HttpServletRequest request = attributes.getRequest();
String classMethod = joinPoint.getSignature().getDeclaringTypeName() + &amp;quot;.&amp;quot; + joinPoint.getSignature().getName();
ReqeustLog reqeustLog = new ReqeustLog(
request.getRequestURL().toString(),
request.getRemoteAddr(),
classMethod,
joinPoint.getArgs()
);
logger.info(&amp;quot;Rquest  ----- {}&amp;quot;,reqeustLog);
}</p>
<p>@After(&amp;quot;log()&amp;quot;)
public void doAfter() {
//logger.info(&amp;quot;---------- doAfter 2 ----------&amp;quot;);
}</p>
<p>@AfterReturning(returning = &amp;quot;result&amp;quot;,pointcut = &amp;quot;log()&amp;quot;)
public void doAtfertRturning(Object result) {
logger.info(&amp;quot;Return ------ {}&amp;quot;,result );
}</p>
<p>private class ReqeustLog {
private String url;
private String ip;
private String classMethod;
private Object[] args;</p>
<pre><code>public ReqeustLog(String url, String ip, String classMethod, Object[] args) {
    this.url = url;
    this.ip = ip;
    this.classMethod = classMethod;
    this.args = args;
}

@Override
public String toString() {
    return &amp;amp;quot;ReqeustLog{&amp;amp;quot; +
            &amp;amp;quot;url='&amp;amp;quot; + url + '\'' +
            &amp;amp;quot;, ip='&amp;amp;quot; + ip + '\'' +
            &amp;amp;quot;, classMethod='&amp;amp;quot; + classMethod + '\'' +
            &amp;amp;quot;, args=&amp;amp;quot; + Arrays.toString(args) +
            '}';
}
</code></pre>
<p>}
</code></pre></p>
<p>}</p>
<p></code></pre></p>
<h3 id="34-页面处理">3.4 页面处理</h3>
<p><strong>1、静态页面导入project</strong></p>
<p><strong>2、thymeleaf布局</strong></p>
<ul>
<li>定义fragment</li>
<li>使用fragment布局</li>
</ul>
<p><strong>3、错误页面美化</strong></p>
<p>4、设计与规范</p>
<h3 id="41-实体设计">4.1 实体设计</h3>
<p><strong>实体类：</strong></p>
<ul>
<li>博客 Blog</li>
<li>博客分类 Type</li>
<li>博客标签 Tag</li>
<li>博客评论 Comment</li>
<li>用户 User</li>
</ul>
<p><strong>实体关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/87092095.jpg" alt="" /></p>
<p><strong>评论类自关联关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/41296045.jpg" alt="" /></p>
<p><strong>Blog类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/38390041.jpg" alt="" /></p>
<p><strong>Type类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/22984471.jpg" alt="" /></p>
<p><strong>Tag类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/70860077.jpg" alt="" /></p>
<p><strong>Comment类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/77104424.jpg" alt="" /></p>
<p><strong>User类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/10367795.jpg" alt="" /></p>
<h3 id="42-应用分层">4.2 应用分层</h3>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/64528736.jpg" alt="" /></p>
<h3 id="43-命名约定">4.3 命名约定</h3>
<p><strong>Service/DAO层命名约定：</strong></p>
<ul>
<li>获取单个对象的方法用get做前缀。</li>
<li>获取多个对象的方法用list做前缀。</li>
<li>获取统计值的方法用count做前缀。</li>
<li>插入的方法用save(推荐)或insert做前缀。</li>
<li>删除的方法用remove(推荐)或delete做前缀。</li>
<li>修改的方法用update做前缀。</li>
</ul>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="5后台管理功能实现">5、后台管理功能实现</h2>
<h3 id="51-登录">5.1 登录</h3>
<p><strong>1、构建登录页面和后台管理首页</strong></p>
<p><strong>2、UserService和UserRepository</strong></p>
<p><strong>3、LoginController实现登录</strong></p>
<p><strong>4、MD5加密</strong></p>
<p><strong>5、登录拦截器</strong></p>
<h3 id="52-分类管理">5.2 分类管理</h3>
<p><strong>1、分类管理页面</strong></p>
<p><strong>2、分类列表分页</strong></p>
<pre><code class="language-javascript">{
  &quot;content&quot;:[
    {&quot;id&quot;:123,&quot;title&quot;:&quot;blog122&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:122,&quot;title&quot;:&quot;blog121&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:121,&quot;title&quot;:&quot;blog120&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:120,&quot;title&quot;:&quot;blog119&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:119,&quot;title&quot;:&quot;blog118&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:118,&quot;title&quot;:&quot;blog117&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:117,&quot;title&quot;:&quot;blog116&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:116,&quot;title&quot;:&quot;blog115&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:115,&quot;title&quot;:&quot;blog114&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:114,&quot;title&quot;:&quot;blog113&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:113,&quot;title&quot;:&quot;blog112&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:112,&quot;title&quot;:&quot;blog111&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:111,&quot;title&quot;:&quot;blog110&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:110,&quot;title&quot;:&quot;blog109&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:109,&quot;title&quot;:&quot;blog108&quot;,&quot;content&quot;:&quot;this is blog content&quot;}],
  &quot;last&quot;:false,
  &quot;totalPages&quot;:9,
  &quot;totalElements&quot;:123,
  &quot;size&quot;:15,
  &quot;number&quot;:0,
  &quot;first&quot;:true,
  &quot;sort&quot;:[{
    &quot;direction&quot;:&quot;DESC&quot;,
    &quot;property&quot;:&quot;id&quot;,
    &quot;ignoreCase&quot;:false,
    &quot;nullHandling&quot;:&quot;NATIVE&quot;,
    &quot;ascending&quot;:false
  }],
  &quot;numberOfElements&quot;:15
}
<p></code></pre></p>
<p><strong>3、分类新增、修改、删除</strong></p>
<h3 id="53-标签管理">5.3 标签管理</h3>
<h3 id="54-博客管理">5.4 博客管理</h3>
<p><strong>1、博客分页查询</strong></p>
<p><strong>2、博客新增</strong></p>
<p><strong>3、博客修改</strong></p>
<p><strong>4、博客删除</strong></p>
<h2 id="6前端展示功能实现">6、前端展示功能实现</h2>
<h3 id="61-首页展示">6.1 首页展示</h3>
<p><strong>1、博客列表</strong></p>
<p><strong>2、top分类</strong></p>
<p><strong>3、top标签</strong></p>
<p><strong>4、最新博客推荐</strong></p>
<p><strong>5、博客详情</strong></p>
<p><strong>1、Markdown 转换 HTML</strong></p>
<ul>
<li><a href="https://github.com/atlassian/commonmark-java" target="_blank">commonmark-java  https://github.com/atlassian/commonmark-java</a></li>
<li>pom.xml引用commonmark和扩展插件</li>
</ul>
<pre><code class="language-xml">&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-heading-anchor&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-gfm-tables&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
<p></code></pre></p>
<p><strong>2、评论功能</strong></p>
<ul>
<li>评论信息提交与回复功能</li>
<li>评论信息列表展示功能</li>
<li>管理员回复评论功能</li>
</ul>
<h3 id="62-分类页">6.2 分类页</h3>
<h3 id="63-标签页">6.3 标签页</h3>
<h3 id="64-归档页">6.4 归档页</h3>
<h3 id="65-关于我">6.5 关于我</h3>
, firstPicture=https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1590818036358&di=9569a5452be6c4297afbb3746283a8d3&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201804%2F18%2F172344g6tsuasyytq2dd7a.png, flag=转载, views=null, appreciation=false, shareStatement=true, commentabled=true, published=true, recommend=true, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=9,10,11, description=第一次制作博客，有BUG请联系我，在此十分感谢李仁密同学的讲解视频，该文章为李仁密同学的讲解文档。我针对李同学的项目进行了一些修改，把后台操作数据库的JPA改为了熟悉的Mybatis，其余的附加功能会在后面写博文讲解，源码放在了GitHub。感谢你的观看~😄, type=Type(id=8, name=null, blogs=[]), user=null, tags=[], comments=[]), org.apache.catalina.session.StandardSessionFacade@24ab87da, {}])
2020-06-09 10:59:03.425 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getType             : ==>  Preparing: select id,name from blog.t_type where id = ? 
2020-06-09 10:59:03.425 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getType             : ==> Parameters: 8(Long)
2020-06-09 10:59:03.426 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getType             : <==      Total: 1
2020-06-09 10:59:03.429 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : ==>  Preparing: select id,name from blog.t_tag where id = ? 
2020-06-09 10:59:03.429 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : ==> Parameters: 9(Long)
2020-06-09 10:59:03.430 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : <==      Total: 1
2020-06-09 10:59:03.440 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : ==>  Preparing: select id,name from blog.t_tag where id = ? 
2020-06-09 10:59:03.440 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : ==> Parameters: 10(Long)
2020-06-09 10:59:03.441 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : <==      Total: 1
2020-06-09 10:59:03.441 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : ==>  Preparing: select id,name from blog.t_tag where id = ? 
2020-06-09 10:59:03.442 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : ==> Parameters: 11(Long)
2020-06-09 10:59:03.442 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getTag               : <==      Total: 1
2020-06-09 10:59:03.443 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:59:03.443 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 9(Long), 11(Long), 11(Long), 9(Long)
2020-06-09 10:59:03.445 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:59:03.445 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:59:03.446 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 10(Long), 11(Long), 11(Long), 10(Long)
2020-06-09 10:59:03.447 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:59:03.447 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:59:03.448 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 11(Long), 11(Long), 11(Long), 11(Long)
2020-06-09 10:59:03.449 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:59:03.449 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.updateBlog          : ==>  Preparing: update t_blog set published = ?,flag = ? , title = ?, content = ?, type_id = ?, first_picture = ? , description = ? , recommend = ? , share_statement = ?, appreciation = ?, commentabled = ? ,update_time = ? where id = ?; 
2020-06-09 10:59:03.453 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.updateBlog          : ==> Parameters: true(Boolean), 转载(String), Spring Boot开发小而美的个人博客(String), <h1 id="spring-boot开发小而美的个人博客">Spring Boot开发小而美的个人博客</h1>
<blockquote>
<p>原文作者：李仁密</p>
</blockquote>
<blockquote>
<p>B站教学地址 : https://www.bilibili.com/video/BV1nE411r7TF?p=43</p>
</blockquote>
<p><strong>个人博客功能：</strong></p>
<p><strong>技术组合：</strong></p>
<ul>
<li>后端：Spring Boot + JPA + thymeleaf模板</li>
<li>数据库：MySQL</li>
<li>前端UI：Semantic UI框架</li>
</ul>
<p><strong>工具与环境：</strong></p>
<ul>
<li>IDEA</li>
<li>Maven 3</li>
<li>JDK 8</li>
<li>Axure RP 8</li>
</ul>
<p><strong>课程内容模块：</strong></p>
<ul>
<li>需求分析与功能规划</li>
<li>页面设计与开发</li>
<li>技术框架搭建</li>
<li>后端管理功能实现</li>
<li>前端管理功能实现</li>
</ul>
<p><strong>你能学得什么？</strong></p>
<ul>
<li>基于Spring Boot的完整全栈式的开发套路</li>
<li>Semantic UI框架的使用</li>
<li>一套博客系统的源代码与设计</li>
</ul>
<h2 id="1需求与功能">1、需求与功能</h2>
<h3 id="11-用户故事">1.1 用户故事</h3>
<p>用户故事是敏捷框架中的一种开发方法。可以帮助开发者转换视角，以用户的角度更好的把握需求，从而实现具有商业价值的功能。</p>
<blockquote>
<p>用户故事最好是用户团队编写</p>
</blockquote>
<p><strong>用户故事模板</strong>：</p>
<ul>
<li>As a (role of user), I want (some feature) so that (some business value).</li>
<li>作为一个(某个角色) 使用者，我可以做(某个功能) 事情，如此可以有(某个商业价值) 的好处</li>
</ul>
<p><strong>关键点</strong>：角色、功能、商业价值</p>
<p><strong>举例</strong>：</p>
<ul>
<li>作为一个招聘网站<strong>注册用户</strong>，我想<strong>查看最近3天发布的招聘信息</strong>，以便于<strong>了解最新的招聘信息</strong>。</li>
<li>作为公司，可以张贴新工作。</li>
</ul>
<p>个人博客系统的用户故事：</p>
<p>角色：<strong>普通访客</strong>，<strong>管理员（我）</strong></p>
<ul>
<li>访客，可以分页查看所有的博客</li>
<li>访客，可以快速查看博客数最多的6个分类</li>
<li>访客，可以查看所有的分类</li>
<li>访客，可以查看某个分类下的博客列表</li>
<li>访客，可以快速查看标记博客最多的10个标签</li>
<li>访客，可以查看所有的标签</li>
<li>访客，可以查看某个标签下的博客列表</li>
<li>访客，可以根据年度时间线查看博客列表</li>
<li>访客，可以快速查看最新的推荐博客</li>
<li>访客，可以用关键字全局搜索博客</li>
<li>访客，可以查看单个博客内容</li>
<li>访客，可以对博客内容进行评论</li>
<li>访客，可以赞赏博客内容</li>
<li>访客，可以微信扫码阅读博客内容</li>
<li>访客，可以在首页扫描公众号二维码关注我</li>
<li>我，可以用户名和密码登录后台管理</li>
<li>我，可以管理博客
<ul>
<li>我，可以发布新博客</li>
<li>我，可以对博客进行分类</li>
<li>我，可以对博客打标签</li>
<li>我，可以修改博客</li>
<li>我，可以删除博客</li>
<li>我，可以根据标题，分类，标签查询博客</li>
</ul>
</li>
<li>我，可以管理博客分类
<ul>
<li>我，可以新增一个分类</li>
<li>我，可以修改一个分类</li>
<li>我，可以删除一个分类</li>
<li>我，可以根据分类名称查询分类</li>
</ul>
</li>
<li>我，可以管理标签
<ul>
<li>我，可以新增一个标签</li>
<li>我，可以修改一个标签</li>
<li>我，可以删除一个标签</li>
<li>我，可以根据名称查询标签</li>
</ul>
</li>
</ul>
<h3 id="12-功能规划">1.2 功能规划</h3>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="2页面设计与开发">2、页面设计与开发</h2>
<h3 id="21-设计">2.1 设计</h3>
<p><strong>页面规划：</strong></p>
<p>前端展示：首页、详情页、分类、标签、归档、关于我</p>
<p>后台管理：模板页</p>
<h3 id="22-页面开发">2.2 页面开发</h3>
<p><a href="https://semantic-ui.com/" target="_blank">Semantic UI官网</a></p>
<p><a href="http://www.semantic-ui.cn/" target="_blank">Semantic UI中文官网</a></p>
<p><a href="https://imcoding.me/blogs/5" target="_blank">WebStorm下载与破解</a></p>
<p><a href="https://www.toptal.com/designers/subtlepatterns/" target="_blank">背景图片资源</a></p>
<h3 id="23-插件集成">2.3 插件集成</h3>
<p><a href="https://pandao.github.io/editor.md/" target="_blank">编辑器 Markdown</a></p>
<p><a href="https://github.com/sofish/typo.css" target="_blank">内容排版 typo.css</a></p>
<p><a href="https://daneden.github.io/animate.css/" target="_blank">动画 animate.css</a></p>
<p><a href="https://github.com/PrismJS/prism" target="_blank">代码高亮 prism</a></p>
<p><a href="https://tscanlin.github.io/tocbot/" target="_blank">目录生成 Tocbot</a></p>
<p><a href="http://imakewebthings.com/waypoints/" target="_blank">滚动侦测 waypoints</a></p>
<p><a href="https://github.com/flesler/jquery.scrollTo" target="_blank">平滑滚动 jquery.scrollTo</a></p>
<p><a href="https://davidshimjs.github.io/qrcodejs/" target="_blank">二维码生成 qrcode.js</a></p>
<h2 id="3框架搭建">3、框架搭建</h2>
<blockquote>
<p><a href="https://www.jetbrains.com/idea/" target="_blank">IDEA下载 https://www.jetbrains.com/idea/</a></p>
</blockquote>
<h3 id="31-构建与配置">3.1 构建与配置</h3>
<p><strong>1、引入Spring Boot模块：</strong></p>
<ul>
<li>web</li>
<li>Thymeleaf</li>
<li>JPA</li>
<li>MySQL</li>
<li>Aspects</li>
<li>DevTools</li>
</ul>
<p><strong>2、application.yml配置</strong></p>
<ul>
<li>
<p>使用 thymeleaf 3</p>
<p>pom.xml:</p>
</li>
</ul>
<pre><code class="language-xml">&lt;thymeleaf.version&gt;3.0.2.RELEASE&lt;/thymeleaf.version&gt;
&lt;thymeleaf-layout-dialect.version&gt;2.1.1&lt;/thymeleaf-layout-dialect.version&gt;
</code></pre>
<pre><code>application.yml:
</code></pre>
<pre><code class="language-yaml">spring:
  thymeleaf:
    mode: HTML
</code></pre>
<ul>
<li>数据库连接配置</li>
</ul>
<pre><code class="language-yaml">spring:
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://localhost:3306/blog?useUnicode=true&amp;characterEncoding=utf-8
    username: root
    password: root
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
</code></pre>
<ul>
<li>
<p>日志配置</p>
<p>application.yml:</p>
</li>
</ul>
<pre><code class="language-yaml">logging:
  level:
    root: info
    com.imcoding: debug
  file: log/imcoding.log
</code></pre>
<p>​	logback-spring.xml：</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;configuration&gt;
    &lt;!--包含Spring boot对logback日志的默认配置--&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot; /&gt;
    &lt;property name=&quot;LOG_FILE&quot; value=&quot;${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}}/spring.log}&quot;/&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;
<pre><code>&amp;lt;!--重写了Spring Boot框架 org/springframework/boot/logging/logback/file-appender.xml 配置--&amp;gt;
&amp;lt;appender name=&amp;quot;TIME_FILE&amp;quot;
          class=&amp;quot;ch.qos.logback.core.rolling.RollingFileAppender&amp;quot;&amp;gt;
    &amp;lt;encoder&amp;gt;
        &amp;lt;pattern&amp;gt;${FILE_LOG_PATTERN}&amp;lt;/pattern&amp;gt;
    &amp;lt;/encoder&amp;gt;
    &amp;lt;file&amp;gt;${LOG_FILE}&amp;lt;/file&amp;gt;
    &amp;lt;rollingPolicy class=&amp;quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&amp;quot;&amp;gt;
        &amp;lt;fileNamePattern&amp;gt;${LOG_FILE}.%d{yyyy-MM-dd}.%i&amp;lt;/fileNamePattern&amp;gt;
        &amp;lt;!--保留历史日志一个月的时间--&amp;gt;
        &amp;lt;maxHistory&amp;gt;30&amp;lt;/maxHistory&amp;gt;
        &amp;lt;!--
        Spring Boot默认情况下，日志文件10M时，会切分日志文件,这样设置日志文件会在100M时切分日志
        --&amp;gt;
        &amp;lt;timeBasedFileNamingAndTriggeringPolicy class=&amp;quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&amp;quot;&amp;gt;
            &amp;lt;maxFileSize&amp;gt;10MB&amp;lt;/maxFileSize&amp;gt;
        &amp;lt;/timeBasedFileNamingAndTriggeringPolicy&amp;gt;
<pre><code>&amp;amp;lt;/rollingPolicy&amp;amp;gt;
</code></pre>
<p>&amp;lt;/appender&amp;gt;</p>
<p>&amp;lt;root level=&amp;quot;INFO&amp;quot;&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;CONSOLE&amp;quot; /&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;TIME_FILE&amp;quot; /&amp;gt;
&amp;lt;/root&amp;gt;
</code></pre></p>
<p>&lt;/configuration&gt;
&lt;!--
1、继承Spring boot logback设置（可以在appliaction.yml或者application.properties设置logging.*属性）
2、重写了默认配置，设置日志文件大小在100MB时，按日期切分日志，切分后目录：</p>
<pre><code>    my.2017-08-01.0   80MB
    my.2017-08-01.1   10MB
    my.2017-08-02.0   56MB
    my.2017-08-03.0   53MB
    ......
</code></pre>
<p>--&gt;
</code></pre></p>
<ul>
<li>生产环境与开发环境配置
<ul>
<li>application-dev.yml</li>
<li>application-pro.yml</li>
</ul>
</li>
</ul>
<h3 id="32-异常处理">3.2 异常处理</h3>
<p><strong>1、定义错误页面</strong></p>
<ul>
<li>404</li>
<li>500</li>
<li>error</li>
</ul>
<p><strong>2、全局处理异常</strong></p>
<p>统一处理异常：</p>
<pre><code class="language-java">@ControllerAdvice
public class ControllerExceptionHandler {
<pre><code>private final Logger logger = LoggerFactory.getLogger(ControllerExceptionHandler.class);
/**
 * 异常处理
 * @param request
 * @param e
 * @return
 */
@ExceptionHandler({Exception.class})
public ModelAndView handleException(HttpServletRequest request, Exception e) throws Exception {
<pre><code>logger.error(&amp;amp;quot;Request URL : {} , Exception : {}&amp;amp;quot;, request.getRequestURL(), e);

if (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null) {
    throw e;
}
ModelAndView mav = new ModelAndView();
mav.addObject(&amp;amp;quot;url&amp;amp;quot;, request.getRequestURL());
mav.addObject(&amp;amp;quot;exception&amp;amp;quot;, e);
mav.setViewName(&amp;amp;quot;error/error&amp;amp;quot;);

return mav;
</code></pre>
<p>}
</code></pre></p>
<p>}
</code></pre></p>
<p>错误页面异常信息显示处理：</p>
<pre><code class="language-html">&lt;div&gt;
    &lt;div th:utext=&quot;'&amp;lt;!--'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Failed Request URL : ' + ${url}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Exception message : ' + ${exception.message}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;ul th:remove=&quot;tag&quot;&gt;
        &lt;li th:each=&quot;st : ${exception.stackTrace}&quot; th:remove=&quot;tag&quot;&gt;&lt;span th:utext=&quot;${st}&quot; th:remove=&quot;tag&quot;&gt;&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
    &lt;div th:utext=&quot;'--&amp;gt;'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><strong>3、资源找不到异常</strong></p>
<pre><code class="language-java">@ResponseStatus(HttpStatus.NOT_FOUND)
public class NotFoundExcepiton extends RuntimeException {
<pre><code>public NotFoundExcepiton() {
}
<p>public NotFoundExcepiton(String message) {
super(message);
}</p>
<p>public NotFoundExcepiton(String message, Throwable cause) {
super(message, cause);
}
</code></pre></p>
<p>}
</code></pre></p>
<h3 id="33-日志处理">3.3 日志处理</h3>
<p><strong>1、记录日志内容</strong></p>
<ul>
<li>请求 url</li>
<li>访问者 ip</li>
<li>调用方法 classMethod</li>
<li>参数 args</li>
<li>返回内容</li>
</ul>
<p><strong>2、记录日志类：</strong></p>
<pre><code class="language-java">@Aspect
@Component
public class LogAspect {
<pre><code>private final Logger logger = LoggerFactory.getLogger(this.getClass());
<p>/**</p>
<ul>
<li>定义切面
<em>/
@Pointcut(&amp;quot;execution(</em> com.imcoding.web.<em>.</em>(..))&amp;quot;)
public void log() {
}</li>
</ul>
<p>@Before(&amp;quot;log()&amp;quot;)
public void doBefore(JoinPoint joinPoint) {
ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
HttpServletRequest request = attributes.getRequest();
String classMethod = joinPoint.getSignature().getDeclaringTypeName() + &amp;quot;.&amp;quot; + joinPoint.getSignature().getName();
ReqeustLog reqeustLog = new ReqeustLog(
request.getRequestURL().toString(),
request.getRemoteAddr(),
classMethod,
joinPoint.getArgs()
);
logger.info(&amp;quot;Rquest  ----- {}&amp;quot;,reqeustLog);
}</p>
<p>@After(&amp;quot;log()&amp;quot;)
public void doAfter() {
//logger.info(&amp;quot;---------- doAfter 2 ----------&amp;quot;);
}</p>
<p>@AfterReturning(returning = &amp;quot;result&amp;quot;,pointcut = &amp;quot;log()&amp;quot;)
public void doAtfertRturning(Object result) {
logger.info(&amp;quot;Return ------ {}&amp;quot;,result );
}</p>
<p>private class ReqeustLog {
private String url;
private String ip;
private String classMethod;
private Object[] args;</p>
<pre><code>public ReqeustLog(String url, String ip, String classMethod, Object[] args) {
    this.url = url;
    this.ip = ip;
    this.classMethod = classMethod;
    this.args = args;
}

@Override
public String toString() {
    return &amp;amp;quot;ReqeustLog{&amp;amp;quot; +
            &amp;amp;quot;url='&amp;amp;quot; + url + '\'' +
            &amp;amp;quot;, ip='&amp;amp;quot; + ip + '\'' +
            &amp;amp;quot;, classMethod='&amp;amp;quot; + classMethod + '\'' +
            &amp;amp;quot;, args=&amp;amp;quot; + Arrays.toString(args) +
            '}';
}
</code></pre>
<p>}
</code></pre></p>
<p>}</p>
<p></code></pre></p>
<h3 id="34-页面处理">3.4 页面处理</h3>
<p><strong>1、静态页面导入project</strong></p>
<p><strong>2、thymeleaf布局</strong></p>
<ul>
<li>定义fragment</li>
<li>使用fragment布局</li>
</ul>
<p><strong>3、错误页面美化</strong></p>
<p>4、设计与规范</p>
<h3 id="41-实体设计">4.1 实体设计</h3>
<p><strong>实体类：</strong></p>
<ul>
<li>博客 Blog</li>
<li>博客分类 Type</li>
<li>博客标签 Tag</li>
<li>博客评论 Comment</li>
<li>用户 User</li>
</ul>
<p><strong>实体关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/87092095.jpg" alt="" /></p>
<p><strong>评论类自关联关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/41296045.jpg" alt="" /></p>
<p><strong>Blog类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/38390041.jpg" alt="" /></p>
<p><strong>Type类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/22984471.jpg" alt="" /></p>
<p><strong>Tag类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/70860077.jpg" alt="" /></p>
<p><strong>Comment类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/77104424.jpg" alt="" /></p>
<p><strong>User类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/10367795.jpg" alt="" /></p>
<h3 id="42-应用分层">4.2 应用分层</h3>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/64528736.jpg" alt="" /></p>
<h3 id="43-命名约定">4.3 命名约定</h3>
<p><strong>Service/DAO层命名约定：</strong></p>
<ul>
<li>获取单个对象的方法用get做前缀。</li>
<li>获取多个对象的方法用list做前缀。</li>
<li>获取统计值的方法用count做前缀。</li>
<li>插入的方法用save(推荐)或insert做前缀。</li>
<li>删除的方法用remove(推荐)或delete做前缀。</li>
<li>修改的方法用update做前缀。</li>
</ul>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="5后台管理功能实现">5、后台管理功能实现</h2>
<h3 id="51-登录">5.1 登录</h3>
<p><strong>1、构建登录页面和后台管理首页</strong></p>
<p><strong>2、UserService和UserRepository</strong></p>
<p><strong>3、LoginController实现登录</strong></p>
<p><strong>4、MD5加密</strong></p>
<p><strong>5、登录拦截器</strong></p>
<h3 id="52-分类管理">5.2 分类管理</h3>
<p><strong>1、分类管理页面</strong></p>
<p><strong>2、分类列表分页</strong></p>
<pre><code class="language-javascript">{
  &quot;content&quot;:[
    {&quot;id&quot;:123,&quot;title&quot;:&quot;blog122&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:122,&quot;title&quot;:&quot;blog121&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:121,&quot;title&quot;:&quot;blog120&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:120,&quot;title&quot;:&quot;blog119&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:119,&quot;title&quot;:&quot;blog118&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:118,&quot;title&quot;:&quot;blog117&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:117,&quot;title&quot;:&quot;blog116&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:116,&quot;title&quot;:&quot;blog115&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:115,&quot;title&quot;:&quot;blog114&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:114,&quot;title&quot;:&quot;blog113&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:113,&quot;title&quot;:&quot;blog112&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:112,&quot;title&quot;:&quot;blog111&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:111,&quot;title&quot;:&quot;blog110&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:110,&quot;title&quot;:&quot;blog109&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:109,&quot;title&quot;:&quot;blog108&quot;,&quot;content&quot;:&quot;this is blog content&quot;}],
  &quot;last&quot;:false,
  &quot;totalPages&quot;:9,
  &quot;totalElements&quot;:123,
  &quot;size&quot;:15,
  &quot;number&quot;:0,
  &quot;first&quot;:true,
  &quot;sort&quot;:[{
    &quot;direction&quot;:&quot;DESC&quot;,
    &quot;property&quot;:&quot;id&quot;,
    &quot;ignoreCase&quot;:false,
    &quot;nullHandling&quot;:&quot;NATIVE&quot;,
    &quot;ascending&quot;:false
  }],
  &quot;numberOfElements&quot;:15
}
<p></code></pre></p>
<p><strong>3、分类新增、修改、删除</strong></p>
<h3 id="53-标签管理">5.3 标签管理</h3>
<h3 id="54-博客管理">5.4 博客管理</h3>
<p><strong>1、博客分页查询</strong></p>
<p><strong>2、博客新增</strong></p>
<p><strong>3、博客修改</strong></p>
<p><strong>4、博客删除</strong></p>
<h2 id="6前端展示功能实现">6、前端展示功能实现</h2>
<h3 id="61-首页展示">6.1 首页展示</h3>
<p><strong>1、博客列表</strong></p>
<p><strong>2、top分类</strong></p>
<p><strong>3、top标签</strong></p>
<p><strong>4、最新博客推荐</strong></p>
<p><strong>5、博客详情</strong></p>
<p><strong>1、Markdown 转换 HTML</strong></p>
<ul>
<li><a href="https://github.com/atlassian/commonmark-java" target="_blank">commonmark-java  https://github.com/atlassian/commonmark-java</a></li>
<li>pom.xml引用commonmark和扩展插件</li>
</ul>
<pre><code class="language-xml">&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-heading-anchor&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-gfm-tables&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
<p></code></pre></p>
<p><strong>2、评论功能</strong></p>
<ul>
<li>评论信息提交与回复功能</li>
<li>评论信息列表展示功能</li>
<li>管理员回复评论功能</li>
</ul>
<h3 id="62-分类页">6.2 分类页</h3>
<h3 id="63-标签页">6.3 标签页</h3>
<h3 id="64-归档页">6.4 归档页</h3>
<h3 id="65-关于我">6.5 关于我</h3>
(String), 8(Long), https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1590818036358&di=9569a5452be6c4297afbb3746283a8d3&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201804%2F18%2F172344g6tsuasyytq2dd7a.png(String), 第一次制作博客，有BUG请联系我，在此十分感谢李仁密同学的讲解视频，该文章为李仁密同学的讲解文档。我针对李同学的项目进行了一些修改，把后台操作数据库的JPA改为了熟悉的Mybatis，其余的附加功能会在后面写博文讲解，源码放在了GitHub。感谢你的观看~😄(String), true(Boolean), true(Boolean), false(Boolean), true(Boolean), 2020-06-09 10:59:03.443(Timestamp), 11(Long)
2020-06-09 10:59:04.057  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:59:04.068 ERROR 18584 --- [http-nio-8080-exec-8] c.b.handler.ControllerExceptionHandler   : Request url: /admin/blogs, Exception: {}

org.springframework.jdbc.UncategorizedSQLException: 
### Error updating database.  Cause: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\x84' for column 'description' at row 1
### The error may exist in file [F:\idea\blog\blog-master\blog\target\classes\mapper\BlogDao.xml]
### The error may involve com.blog.dao.BlogDao.updateBlog-Inline
### The error occurred while setting parameters
### SQL: update t_blog set published = ?,flag = ? ,         title = ?, content = ?, type_id = ?,         first_picture = ? , description = ? , recommend = ? ,         share_statement = ?, appreciation = ?,         commentabled = ? ,update_time = ? where id = ?;
### Cause: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\x84' for column 'description' at row 1
; uncategorized SQLException; SQL state [HY000]; error code [1366]; Incorrect string value: '\xF0\x9F\x98\x84' for column 'description' at row 1; nested exception is java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\x84' for column 'description' at row 1
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:89) ~[spring-jdbc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81) ~[spring-jdbc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81) ~[spring-jdbc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at com.sun.proxy.$Proxy82.update(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:93) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy83.updateBlog(Unknown Source) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.sun.proxy.$Proxy84.updateBlog(Unknown Source) ~[na:na]
	at com.blog.service.impl.BlogServiceImpl.updateBlog(BlogServiceImpl.java:125) ~[classes/:na]
	at com.blog.service.impl.BlogServiceImpl$$FastClassBySpringCGLIB$$257eb4bd.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:685) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.blog.service.impl.BlogServiceImpl$$EnhancerBySpringCGLIB$$e2213591.updateBlog(<generated>) ~[classes/:na]
	at com.blog.controller.admin.BlogController.addBlog(BlogController.java:92) ~[classes/:na]
	at com.blog.controller.admin.BlogController$$FastClassBySpringCGLIB$$1231c690.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.blog.controller.admin.BlogController$$EnhancerBySpringCGLIB$$f7aa5c6e.addBlog(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]
Caused by: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\x84' for column 'description' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-3.4.2.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-3.4.2.jar:na]
	at sun.reflect.GeneratedMethodAccessor55.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy113.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.3.jar:3.5.3]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy111.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.3.jar:3.5.3]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426) ~[mybatis-spring-2.0.3.jar:2.0.3]
	... 91 common frames omitted

2020-06-09 10:59:04.072  WARN 18584 --- [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.UncategorizedSQLException: 
### Error updating database.  Cause: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\x84' for column 'description' at row 1
### The error may exist in file [F:\idea\blog\blog-master\blog\target\classes\mapper\BlogDao.xml]
### The error may involve com.blog.dao.BlogDao.updateBlog-Inline
### The error occurred while setting parameters
### SQL: update t_blog set published = ?,flag = ? ,         title = ?, content = ?, type_id = ?,         first_picture = ? , description = ? , recommend = ? ,         share_statement = ?, appreciation = ?,         commentabled = ? ,update_time = ? where id = ?;
### Cause: java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\x84' for column 'description' at row 1
; uncategorized SQLException; SQL state [HY000]; error code [1366]; Incorrect string value: '\xF0\x9F\x98\x84' for column 'description' at row 1; nested exception is java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\x84' for column 'description' at row 1]
2020-06-09 10:59:31.103  INFO 18584 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.addBlog, args=[Blog(id=11, title=Spring Boot开发小而美的个人博客, content=<h1 id="spring-boot开发小而美的个人博客">Spring Boot开发小而美的个人博客</h1>
<blockquote>
<p>原文作者：李仁密</p>
</blockquote>
<blockquote>
<p>B站教学地址 : https://www.bilibili.com/video/BV1nE411r7TF?p=43</p>
</blockquote>
<p><strong>个人博客功能：</strong></p>
<p><strong>技术组合：</strong></p>
<ul>
<li>后端：Spring Boot + JPA + thymeleaf模板</li>
<li>数据库：MySQL</li>
<li>前端UI：Semantic UI框架</li>
</ul>
<p><strong>工具与环境：</strong></p>
<ul>
<li>IDEA</li>
<li>Maven 3</li>
<li>JDK 8</li>
<li>Axure RP 8</li>
</ul>
<p><strong>课程内容模块：</strong></p>
<ul>
<li>需求分析与功能规划</li>
<li>页面设计与开发</li>
<li>技术框架搭建</li>
<li>后端管理功能实现</li>
<li>前端管理功能实现</li>
</ul>
<p><strong>你能学得什么？</strong></p>
<ul>
<li>基于Spring Boot的完整全栈式的开发套路</li>
<li>Semantic UI框架的使用</li>
<li>一套博客系统的源代码与设计</li>
</ul>
<h2 id="1需求与功能">1、需求与功能</h2>
<h3 id="11-用户故事">1.1 用户故事</h3>
<p>用户故事是敏捷框架中的一种开发方法。可以帮助开发者转换视角，以用户的角度更好的把握需求，从而实现具有商业价值的功能。</p>
<blockquote>
<p>用户故事最好是用户团队编写</p>
</blockquote>
<p><strong>用户故事模板</strong>：</p>
<ul>
<li>As a (role of user), I want (some feature) so that (some business value).</li>
<li>作为一个(某个角色) 使用者，我可以做(某个功能) 事情，如此可以有(某个商业价值) 的好处</li>
</ul>
<p><strong>关键点</strong>：角色、功能、商业价值</p>
<p><strong>举例</strong>：</p>
<ul>
<li>作为一个招聘网站<strong>注册用户</strong>，我想<strong>查看最近3天发布的招聘信息</strong>，以便于<strong>了解最新的招聘信息</strong>。</li>
<li>作为公司，可以张贴新工作。</li>
</ul>
<p>个人博客系统的用户故事：</p>
<p>角色：<strong>普通访客</strong>，<strong>管理员（我）</strong></p>
<ul>
<li>访客，可以分页查看所有的博客</li>
<li>访客，可以快速查看博客数最多的6个分类</li>
<li>访客，可以查看所有的分类</li>
<li>访客，可以查看某个分类下的博客列表</li>
<li>访客，可以快速查看标记博客最多的10个标签</li>
<li>访客，可以查看所有的标签</li>
<li>访客，可以查看某个标签下的博客列表</li>
<li>访客，可以根据年度时间线查看博客列表</li>
<li>访客，可以快速查看最新的推荐博客</li>
<li>访客，可以用关键字全局搜索博客</li>
<li>访客，可以查看单个博客内容</li>
<li>访客，可以对博客内容进行评论</li>
<li>访客，可以赞赏博客内容</li>
<li>访客，可以微信扫码阅读博客内容</li>
<li>访客，可以在首页扫描公众号二维码关注我</li>
<li>我，可以用户名和密码登录后台管理</li>
<li>我，可以管理博客
<ul>
<li>我，可以发布新博客</li>
<li>我，可以对博客进行分类</li>
<li>我，可以对博客打标签</li>
<li>我，可以修改博客</li>
<li>我，可以删除博客</li>
<li>我，可以根据标题，分类，标签查询博客</li>
</ul>
</li>
<li>我，可以管理博客分类
<ul>
<li>我，可以新增一个分类</li>
<li>我，可以修改一个分类</li>
<li>我，可以删除一个分类</li>
<li>我，可以根据分类名称查询分类</li>
</ul>
</li>
<li>我，可以管理标签
<ul>
<li>我，可以新增一个标签</li>
<li>我，可以修改一个标签</li>
<li>我，可以删除一个标签</li>
<li>我，可以根据名称查询标签</li>
</ul>
</li>
</ul>
<h3 id="12-功能规划">1.2 功能规划</h3>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="2页面设计与开发">2、页面设计与开发</h2>
<h3 id="21-设计">2.1 设计</h3>
<p><strong>页面规划：</strong></p>
<p>前端展示：首页、详情页、分类、标签、归档、关于我</p>
<p>后台管理：模板页</p>
<h3 id="22-页面开发">2.2 页面开发</h3>
<p><a href="https://semantic-ui.com/" target="_blank">Semantic UI官网</a></p>
<p><a href="http://www.semantic-ui.cn/" target="_blank">Semantic UI中文官网</a></p>
<p><a href="https://imcoding.me/blogs/5" target="_blank">WebStorm下载与破解</a></p>
<p><a href="https://www.toptal.com/designers/subtlepatterns/" target="_blank">背景图片资源</a></p>
<h3 id="23-插件集成">2.3 插件集成</h3>
<p><a href="https://pandao.github.io/editor.md/" target="_blank">编辑器 Markdown</a></p>
<p><a href="https://github.com/sofish/typo.css" target="_blank">内容排版 typo.css</a></p>
<p><a href="https://daneden.github.io/animate.css/" target="_blank">动画 animate.css</a></p>
<p><a href="https://github.com/PrismJS/prism" target="_blank">代码高亮 prism</a></p>
<p><a href="https://tscanlin.github.io/tocbot/" target="_blank">目录生成 Tocbot</a></p>
<p><a href="http://imakewebthings.com/waypoints/" target="_blank">滚动侦测 waypoints</a></p>
<p><a href="https://github.com/flesler/jquery.scrollTo" target="_blank">平滑滚动 jquery.scrollTo</a></p>
<p><a href="https://davidshimjs.github.io/qrcodejs/" target="_blank">二维码生成 qrcode.js</a></p>
<h2 id="3框架搭建">3、框架搭建</h2>
<blockquote>
<p><a href="https://www.jetbrains.com/idea/" target="_blank">IDEA下载 https://www.jetbrains.com/idea/</a></p>
</blockquote>
<h3 id="31-构建与配置">3.1 构建与配置</h3>
<p><strong>1、引入Spring Boot模块：</strong></p>
<ul>
<li>web</li>
<li>Thymeleaf</li>
<li>JPA</li>
<li>MySQL</li>
<li>Aspects</li>
<li>DevTools</li>
</ul>
<p><strong>2、application.yml配置</strong></p>
<ul>
<li>
<p>使用 thymeleaf 3</p>
<p>pom.xml:</p>
</li>
</ul>
<pre><code class="language-xml">&lt;thymeleaf.version&gt;3.0.2.RELEASE&lt;/thymeleaf.version&gt;
&lt;thymeleaf-layout-dialect.version&gt;2.1.1&lt;/thymeleaf-layout-dialect.version&gt;
</code></pre>
<pre><code>application.yml:
</code></pre>
<pre><code class="language-yaml">spring:
  thymeleaf:
    mode: HTML
</code></pre>
<ul>
<li>数据库连接配置</li>
</ul>
<pre><code class="language-yaml">spring:
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://localhost:3306/blog?useUnicode=true&amp;characterEncoding=utf-8
    username: root
    password: root
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
</code></pre>
<ul>
<li>
<p>日志配置</p>
<p>application.yml:</p>
</li>
</ul>
<pre><code class="language-yaml">logging:
  level:
    root: info
    com.imcoding: debug
  file: log/imcoding.log
</code></pre>
<p>​	logback-spring.xml：</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;configuration&gt;
    &lt;!--包含Spring boot对logback日志的默认配置--&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot; /&gt;
    &lt;property name=&quot;LOG_FILE&quot; value=&quot;${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}}/spring.log}&quot;/&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;
<pre><code>&amp;lt;!--重写了Spring Boot框架 org/springframework/boot/logging/logback/file-appender.xml 配置--&amp;gt;
&amp;lt;appender name=&amp;quot;TIME_FILE&amp;quot;
          class=&amp;quot;ch.qos.logback.core.rolling.RollingFileAppender&amp;quot;&amp;gt;
    &amp;lt;encoder&amp;gt;
        &amp;lt;pattern&amp;gt;${FILE_LOG_PATTERN}&amp;lt;/pattern&amp;gt;
    &amp;lt;/encoder&amp;gt;
    &amp;lt;file&amp;gt;${LOG_FILE}&amp;lt;/file&amp;gt;
    &amp;lt;rollingPolicy class=&amp;quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&amp;quot;&amp;gt;
        &amp;lt;fileNamePattern&amp;gt;${LOG_FILE}.%d{yyyy-MM-dd}.%i&amp;lt;/fileNamePattern&amp;gt;
        &amp;lt;!--保留历史日志一个月的时间--&amp;gt;
        &amp;lt;maxHistory&amp;gt;30&amp;lt;/maxHistory&amp;gt;
        &amp;lt;!--
        Spring Boot默认情况下，日志文件10M时，会切分日志文件,这样设置日志文件会在100M时切分日志
        --&amp;gt;
        &amp;lt;timeBasedFileNamingAndTriggeringPolicy class=&amp;quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&amp;quot;&amp;gt;
            &amp;lt;maxFileSize&amp;gt;10MB&amp;lt;/maxFileSize&amp;gt;
        &amp;lt;/timeBasedFileNamingAndTriggeringPolicy&amp;gt;
<pre><code>&amp;amp;lt;/rollingPolicy&amp;amp;gt;
</code></pre>
<p>&amp;lt;/appender&amp;gt;</p>
<p>&amp;lt;root level=&amp;quot;INFO&amp;quot;&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;CONSOLE&amp;quot; /&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;TIME_FILE&amp;quot; /&amp;gt;
&amp;lt;/root&amp;gt;
</code></pre></p>
<p>&lt;/configuration&gt;
&lt;!--
1、继承Spring boot logback设置（可以在appliaction.yml或者application.properties设置logging.*属性）
2、重写了默认配置，设置日志文件大小在100MB时，按日期切分日志，切分后目录：</p>
<pre><code>    my.2017-08-01.0   80MB
    my.2017-08-01.1   10MB
    my.2017-08-02.0   56MB
    my.2017-08-03.0   53MB
    ......
</code></pre>
<p>--&gt;
</code></pre></p>
<ul>
<li>生产环境与开发环境配置
<ul>
<li>application-dev.yml</li>
<li>application-pro.yml</li>
</ul>
</li>
</ul>
<h3 id="32-异常处理">3.2 异常处理</h3>
<p><strong>1、定义错误页面</strong></p>
<ul>
<li>404</li>
<li>500</li>
<li>error</li>
</ul>
<p><strong>2、全局处理异常</strong></p>
<p>统一处理异常：</p>
<pre><code class="language-java">@ControllerAdvice
public class ControllerExceptionHandler {
<pre><code>private final Logger logger = LoggerFactory.getLogger(ControllerExceptionHandler.class);
/**
 * 异常处理
 * @param request
 * @param e
 * @return
 */
@ExceptionHandler({Exception.class})
public ModelAndView handleException(HttpServletRequest request, Exception e) throws Exception {
<pre><code>logger.error(&amp;amp;quot;Request URL : {} , Exception : {}&amp;amp;quot;, request.getRequestURL(), e);

if (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null) {
    throw e;
}
ModelAndView mav = new ModelAndView();
mav.addObject(&amp;amp;quot;url&amp;amp;quot;, request.getRequestURL());
mav.addObject(&amp;amp;quot;exception&amp;amp;quot;, e);
mav.setViewName(&amp;amp;quot;error/error&amp;amp;quot;);

return mav;
</code></pre>
<p>}
</code></pre></p>
<p>}
</code></pre></p>
<p>错误页面异常信息显示处理：</p>
<pre><code class="language-html">&lt;div&gt;
    &lt;div th:utext=&quot;'&amp;lt;!--'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Failed Request URL : ' + ${url}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Exception message : ' + ${exception.message}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;ul th:remove=&quot;tag&quot;&gt;
        &lt;li th:each=&quot;st : ${exception.stackTrace}&quot; th:remove=&quot;tag&quot;&gt;&lt;span th:utext=&quot;${st}&quot; th:remove=&quot;tag&quot;&gt;&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
    &lt;div th:utext=&quot;'--&amp;gt;'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><strong>3、资源找不到异常</strong></p>
<pre><code class="language-java">@ResponseStatus(HttpStatus.NOT_FOUND)
public class NotFoundExcepiton extends RuntimeException {
<pre><code>public NotFoundExcepiton() {
}
<p>public NotFoundExcepiton(String message) {
super(message);
}</p>
<p>public NotFoundExcepiton(String message, Throwable cause) {
super(message, cause);
}
</code></pre></p>
<p>}
</code></pre></p>
<h3 id="33-日志处理">3.3 日志处理</h3>
<p><strong>1、记录日志内容</strong></p>
<ul>
<li>请求 url</li>
<li>访问者 ip</li>
<li>调用方法 classMethod</li>
<li>参数 args</li>
<li>返回内容</li>
</ul>
<p><strong>2、记录日志类：</strong></p>
<pre><code class="language-java">@Aspect
@Component
public class LogAspect {
<pre><code>private final Logger logger = LoggerFactory.getLogger(this.getClass());
<p>/**</p>
<ul>
<li>定义切面
<em>/
@Pointcut(&amp;quot;execution(</em> com.imcoding.web.<em>.</em>(..))&amp;quot;)
public void log() {
}</li>
</ul>
<p>@Before(&amp;quot;log()&amp;quot;)
public void doBefore(JoinPoint joinPoint) {
ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
HttpServletRequest request = attributes.getRequest();
String classMethod = joinPoint.getSignature().getDeclaringTypeName() + &amp;quot;.&amp;quot; + joinPoint.getSignature().getName();
ReqeustLog reqeustLog = new ReqeustLog(
request.getRequestURL().toString(),
request.getRemoteAddr(),
classMethod,
joinPoint.getArgs()
);
logger.info(&amp;quot;Rquest  ----- {}&amp;quot;,reqeustLog);
}</p>
<p>@After(&amp;quot;log()&amp;quot;)
public void doAfter() {
//logger.info(&amp;quot;---------- doAfter 2 ----------&amp;quot;);
}</p>
<p>@AfterReturning(returning = &amp;quot;result&amp;quot;,pointcut = &amp;quot;log()&amp;quot;)
public void doAtfertRturning(Object result) {
logger.info(&amp;quot;Return ------ {}&amp;quot;,result );
}</p>
<p>private class ReqeustLog {
private String url;
private String ip;
private String classMethod;
private Object[] args;</p>
<pre><code>public ReqeustLog(String url, String ip, String classMethod, Object[] args) {
    this.url = url;
    this.ip = ip;
    this.classMethod = classMethod;
    this.args = args;
}

@Override
public String toString() {
    return &amp;amp;quot;ReqeustLog{&amp;amp;quot; +
            &amp;amp;quot;url='&amp;amp;quot; + url + '\'' +
            &amp;amp;quot;, ip='&amp;amp;quot; + ip + '\'' +
            &amp;amp;quot;, classMethod='&amp;amp;quot; + classMethod + '\'' +
            &amp;amp;quot;, args=&amp;amp;quot; + Arrays.toString(args) +
            '}';
}
</code></pre>
<p>}
</code></pre></p>
<p>}</p>
<p></code></pre></p>
<h3 id="34-页面处理">3.4 页面处理</h3>
<p><strong>1、静态页面导入project</strong></p>
<p><strong>2、thymeleaf布局</strong></p>
<ul>
<li>定义fragment</li>
<li>使用fragment布局</li>
</ul>
<p><strong>3、错误页面美化</strong></p>
<p>4、设计与规范</p>
<h3 id="41-实体设计">4.1 实体设计</h3>
<p><strong>实体类：</strong></p>
<ul>
<li>博客 Blog</li>
<li>博客分类 Type</li>
<li>博客标签 Tag</li>
<li>博客评论 Comment</li>
<li>用户 User</li>
</ul>
<p><strong>实体关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/87092095.jpg" alt="" /></p>
<p><strong>评论类自关联关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/41296045.jpg" alt="" /></p>
<p><strong>Blog类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/38390041.jpg" alt="" /></p>
<p><strong>Type类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/22984471.jpg" alt="" /></p>
<p><strong>Tag类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/70860077.jpg" alt="" /></p>
<p><strong>Comment类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/77104424.jpg" alt="" /></p>
<p><strong>User类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/10367795.jpg" alt="" /></p>
<h3 id="42-应用分层">4.2 应用分层</h3>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/64528736.jpg" alt="" /></p>
<h3 id="43-命名约定">4.3 命名约定</h3>
<p><strong>Service/DAO层命名约定：</strong></p>
<ul>
<li>获取单个对象的方法用get做前缀。</li>
<li>获取多个对象的方法用list做前缀。</li>
<li>获取统计值的方法用count做前缀。</li>
<li>插入的方法用save(推荐)或insert做前缀。</li>
<li>删除的方法用remove(推荐)或delete做前缀。</li>
<li>修改的方法用update做前缀。</li>
</ul>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="5后台管理功能实现">5、后台管理功能实现</h2>
<h3 id="51-登录">5.1 登录</h3>
<p><strong>1、构建登录页面和后台管理首页</strong></p>
<p><strong>2、UserService和UserRepository</strong></p>
<p><strong>3、LoginController实现登录</strong></p>
<p><strong>4、MD5加密</strong></p>
<p><strong>5、登录拦截器</strong></p>
<h3 id="52-分类管理">5.2 分类管理</h3>
<p><strong>1、分类管理页面</strong></p>
<p><strong>2、分类列表分页</strong></p>
<pre><code class="language-javascript">{
  &quot;content&quot;:[
    {&quot;id&quot;:123,&quot;title&quot;:&quot;blog122&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:122,&quot;title&quot;:&quot;blog121&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:121,&quot;title&quot;:&quot;blog120&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:120,&quot;title&quot;:&quot;blog119&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:119,&quot;title&quot;:&quot;blog118&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:118,&quot;title&quot;:&quot;blog117&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:117,&quot;title&quot;:&quot;blog116&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:116,&quot;title&quot;:&quot;blog115&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:115,&quot;title&quot;:&quot;blog114&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:114,&quot;title&quot;:&quot;blog113&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:113,&quot;title&quot;:&quot;blog112&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:112,&quot;title&quot;:&quot;blog111&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:111,&quot;title&quot;:&quot;blog110&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:110,&quot;title&quot;:&quot;blog109&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:109,&quot;title&quot;:&quot;blog108&quot;,&quot;content&quot;:&quot;this is blog content&quot;}],
  &quot;last&quot;:false,
  &quot;totalPages&quot;:9,
  &quot;totalElements&quot;:123,
  &quot;size&quot;:15,
  &quot;number&quot;:0,
  &quot;first&quot;:true,
  &quot;sort&quot;:[{
    &quot;direction&quot;:&quot;DESC&quot;,
    &quot;property&quot;:&quot;id&quot;,
    &quot;ignoreCase&quot;:false,
    &quot;nullHandling&quot;:&quot;NATIVE&quot;,
    &quot;ascending&quot;:false
  }],
  &quot;numberOfElements&quot;:15
}
<p></code></pre></p>
<p><strong>3、分类新增、修改、删除</strong></p>
<h3 id="53-标签管理">5.3 标签管理</h3>
<h3 id="54-博客管理">5.4 博客管理</h3>
<p><strong>1、博客分页查询</strong></p>
<p><strong>2、博客新增</strong></p>
<p><strong>3、博客修改</strong></p>
<p><strong>4、博客删除</strong></p>
<h2 id="6前端展示功能实现">6、前端展示功能实现</h2>
<h3 id="61-首页展示">6.1 首页展示</h3>
<p><strong>1、博客列表</strong></p>
<p><strong>2、top分类</strong></p>
<p><strong>3、top标签</strong></p>
<p><strong>4、最新博客推荐</strong></p>
<p><strong>5、博客详情</strong></p>
<p><strong>1、Markdown 转换 HTML</strong></p>
<ul>
<li><a href="https://github.com/atlassian/commonmark-java" target="_blank">commonmark-java  https://github.com/atlassian/commonmark-java</a></li>
<li>pom.xml引用commonmark和扩展插件</li>
</ul>
<pre><code class="language-xml">&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-heading-anchor&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-gfm-tables&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
<p></code></pre></p>
<p><strong>2、评论功能</strong></p>
<ul>
<li>评论信息提交与回复功能</li>
<li>评论信息列表展示功能</li>
<li>管理员回复评论功能</li>
</ul>
<h3 id="62-分类页">6.2 分类页</h3>
<h3 id="63-标签页">6.3 标签页</h3>
<h3 id="64-归档页">6.4 归档页</h3>
<h3 id="65-关于我">6.5 关于我</h3>
, firstPicture=https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1590818036358&di=9569a5452be6c4297afbb3746283a8d3&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201804%2F18%2F172344g6tsuasyytq2dd7a.png, flag=转载, views=null, appreciation=false, shareStatement=true, commentabled=true, published=true, recommend=true, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=9,10,11, description=第一次制作博客，有BUG请联系我，在此十分感谢李仁密同学的讲解视频，该文章为李仁密同学的讲解文档。我针对李同学的项目进行了一些修改，把后台操作数据库的JPA改为了熟悉的Mybatis，其余的附加功能会在后面写博文讲解，源码放在了GitHub。感谢你的观看~, type=Type(id=8, name=null, blogs=[]), user=null, tags=[], comments=[]), org.apache.catalina.session.StandardSessionFacade@24ab87da, {}])
2020-06-09 10:59:31.113 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TypeDao.getType             : ==>  Preparing: select id,name from blog.t_type where id = ? 
2020-06-09 10:59:31.113 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TypeDao.getType             : ==> Parameters: 8(Long)
2020-06-09 10:59:31.114 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TypeDao.getType             : <==      Total: 1
2020-06-09 10:59:31.118 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TagDao.getTag               : ==>  Preparing: select id,name from blog.t_tag where id = ? 
2020-06-09 10:59:31.119 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TagDao.getTag               : ==> Parameters: 9(Long)
2020-06-09 10:59:31.120 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TagDao.getTag               : <==      Total: 1
2020-06-09 10:59:31.121 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TagDao.getTag               : ==>  Preparing: select id,name from blog.t_tag where id = ? 
2020-06-09 10:59:31.121 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TagDao.getTag               : ==> Parameters: 10(Long)
2020-06-09 10:59:31.122 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TagDao.getTag               : <==      Total: 1
2020-06-09 10:59:31.123 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TagDao.getTag               : ==>  Preparing: select id,name from blog.t_tag where id = ? 
2020-06-09 10:59:31.123 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TagDao.getTag               : ==> Parameters: 11(Long)
2020-06-09 10:59:31.124 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.TagDao.getTag               : <==      Total: 1
2020-06-09 10:59:31.125 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:59:31.125 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 9(Long), 11(Long), 11(Long), 9(Long)
2020-06-09 10:59:31.129 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:59:31.130 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:59:31.130 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 10(Long), 11(Long), 11(Long), 10(Long)
2020-06-09 10:59:31.133 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:59:31.134 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 10:59:31.134 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 11(Long), 11(Long), 11(Long), 11(Long)
2020-06-09 10:59:31.136 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 0
2020-06-09 10:59:31.137 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.updateBlog          : ==>  Preparing: update t_blog set published = ?,flag = ? , title = ?, content = ?, type_id = ?, first_picture = ? , description = ? , recommend = ? , share_statement = ?, appreciation = ?, commentabled = ? ,update_time = ? where id = ?; 
2020-06-09 10:59:31.138 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.updateBlog          : ==> Parameters: true(Boolean), 转载(String), Spring Boot开发小而美的个人博客(String), <h1 id="spring-boot开发小而美的个人博客">Spring Boot开发小而美的个人博客</h1>
<blockquote>
<p>原文作者：李仁密</p>
</blockquote>
<blockquote>
<p>B站教学地址 : https://www.bilibili.com/video/BV1nE411r7TF?p=43</p>
</blockquote>
<p><strong>个人博客功能：</strong></p>
<p><strong>技术组合：</strong></p>
<ul>
<li>后端：Spring Boot + JPA + thymeleaf模板</li>
<li>数据库：MySQL</li>
<li>前端UI：Semantic UI框架</li>
</ul>
<p><strong>工具与环境：</strong></p>
<ul>
<li>IDEA</li>
<li>Maven 3</li>
<li>JDK 8</li>
<li>Axure RP 8</li>
</ul>
<p><strong>课程内容模块：</strong></p>
<ul>
<li>需求分析与功能规划</li>
<li>页面设计与开发</li>
<li>技术框架搭建</li>
<li>后端管理功能实现</li>
<li>前端管理功能实现</li>
</ul>
<p><strong>你能学得什么？</strong></p>
<ul>
<li>基于Spring Boot的完整全栈式的开发套路</li>
<li>Semantic UI框架的使用</li>
<li>一套博客系统的源代码与设计</li>
</ul>
<h2 id="1需求与功能">1、需求与功能</h2>
<h3 id="11-用户故事">1.1 用户故事</h3>
<p>用户故事是敏捷框架中的一种开发方法。可以帮助开发者转换视角，以用户的角度更好的把握需求，从而实现具有商业价值的功能。</p>
<blockquote>
<p>用户故事最好是用户团队编写</p>
</blockquote>
<p><strong>用户故事模板</strong>：</p>
<ul>
<li>As a (role of user), I want (some feature) so that (some business value).</li>
<li>作为一个(某个角色) 使用者，我可以做(某个功能) 事情，如此可以有(某个商业价值) 的好处</li>
</ul>
<p><strong>关键点</strong>：角色、功能、商业价值</p>
<p><strong>举例</strong>：</p>
<ul>
<li>作为一个招聘网站<strong>注册用户</strong>，我想<strong>查看最近3天发布的招聘信息</strong>，以便于<strong>了解最新的招聘信息</strong>。</li>
<li>作为公司，可以张贴新工作。</li>
</ul>
<p>个人博客系统的用户故事：</p>
<p>角色：<strong>普通访客</strong>，<strong>管理员（我）</strong></p>
<ul>
<li>访客，可以分页查看所有的博客</li>
<li>访客，可以快速查看博客数最多的6个分类</li>
<li>访客，可以查看所有的分类</li>
<li>访客，可以查看某个分类下的博客列表</li>
<li>访客，可以快速查看标记博客最多的10个标签</li>
<li>访客，可以查看所有的标签</li>
<li>访客，可以查看某个标签下的博客列表</li>
<li>访客，可以根据年度时间线查看博客列表</li>
<li>访客，可以快速查看最新的推荐博客</li>
<li>访客，可以用关键字全局搜索博客</li>
<li>访客，可以查看单个博客内容</li>
<li>访客，可以对博客内容进行评论</li>
<li>访客，可以赞赏博客内容</li>
<li>访客，可以微信扫码阅读博客内容</li>
<li>访客，可以在首页扫描公众号二维码关注我</li>
<li>我，可以用户名和密码登录后台管理</li>
<li>我，可以管理博客
<ul>
<li>我，可以发布新博客</li>
<li>我，可以对博客进行分类</li>
<li>我，可以对博客打标签</li>
<li>我，可以修改博客</li>
<li>我，可以删除博客</li>
<li>我，可以根据标题，分类，标签查询博客</li>
</ul>
</li>
<li>我，可以管理博客分类
<ul>
<li>我，可以新增一个分类</li>
<li>我，可以修改一个分类</li>
<li>我，可以删除一个分类</li>
<li>我，可以根据分类名称查询分类</li>
</ul>
</li>
<li>我，可以管理标签
<ul>
<li>我，可以新增一个标签</li>
<li>我，可以修改一个标签</li>
<li>我，可以删除一个标签</li>
<li>我，可以根据名称查询标签</li>
</ul>
</li>
</ul>
<h3 id="12-功能规划">1.2 功能规划</h3>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="2页面设计与开发">2、页面设计与开发</h2>
<h3 id="21-设计">2.1 设计</h3>
<p><strong>页面规划：</strong></p>
<p>前端展示：首页、详情页、分类、标签、归档、关于我</p>
<p>后台管理：模板页</p>
<h3 id="22-页面开发">2.2 页面开发</h3>
<p><a href="https://semantic-ui.com/" target="_blank">Semantic UI官网</a></p>
<p><a href="http://www.semantic-ui.cn/" target="_blank">Semantic UI中文官网</a></p>
<p><a href="https://imcoding.me/blogs/5" target="_blank">WebStorm下载与破解</a></p>
<p><a href="https://www.toptal.com/designers/subtlepatterns/" target="_blank">背景图片资源</a></p>
<h3 id="23-插件集成">2.3 插件集成</h3>
<p><a href="https://pandao.github.io/editor.md/" target="_blank">编辑器 Markdown</a></p>
<p><a href="https://github.com/sofish/typo.css" target="_blank">内容排版 typo.css</a></p>
<p><a href="https://daneden.github.io/animate.css/" target="_blank">动画 animate.css</a></p>
<p><a href="https://github.com/PrismJS/prism" target="_blank">代码高亮 prism</a></p>
<p><a href="https://tscanlin.github.io/tocbot/" target="_blank">目录生成 Tocbot</a></p>
<p><a href="http://imakewebthings.com/waypoints/" target="_blank">滚动侦测 waypoints</a></p>
<p><a href="https://github.com/flesler/jquery.scrollTo" target="_blank">平滑滚动 jquery.scrollTo</a></p>
<p><a href="https://davidshimjs.github.io/qrcodejs/" target="_blank">二维码生成 qrcode.js</a></p>
<h2 id="3框架搭建">3、框架搭建</h2>
<blockquote>
<p><a href="https://www.jetbrains.com/idea/" target="_blank">IDEA下载 https://www.jetbrains.com/idea/</a></p>
</blockquote>
<h3 id="31-构建与配置">3.1 构建与配置</h3>
<p><strong>1、引入Spring Boot模块：</strong></p>
<ul>
<li>web</li>
<li>Thymeleaf</li>
<li>JPA</li>
<li>MySQL</li>
<li>Aspects</li>
<li>DevTools</li>
</ul>
<p><strong>2、application.yml配置</strong></p>
<ul>
<li>
<p>使用 thymeleaf 3</p>
<p>pom.xml:</p>
</li>
</ul>
<pre><code class="language-xml">&lt;thymeleaf.version&gt;3.0.2.RELEASE&lt;/thymeleaf.version&gt;
&lt;thymeleaf-layout-dialect.version&gt;2.1.1&lt;/thymeleaf-layout-dialect.version&gt;
</code></pre>
<pre><code>application.yml:
</code></pre>
<pre><code class="language-yaml">spring:
  thymeleaf:
    mode: HTML
</code></pre>
<ul>
<li>数据库连接配置</li>
</ul>
<pre><code class="language-yaml">spring:
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql://localhost:3306/blog?useUnicode=true&amp;characterEncoding=utf-8
    username: root
    password: root
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
</code></pre>
<ul>
<li>
<p>日志配置</p>
<p>application.yml:</p>
</li>
</ul>
<pre><code class="language-yaml">logging:
  level:
    root: info
    com.imcoding: debug
  file: log/imcoding.log
</code></pre>
<p>​	logback-spring.xml：</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;configuration&gt;
    &lt;!--包含Spring boot对logback日志的默认配置--&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot; /&gt;
    &lt;property name=&quot;LOG_FILE&quot; value=&quot;${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}}/spring.log}&quot;/&gt;
    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;
<pre><code>&amp;lt;!--重写了Spring Boot框架 org/springframework/boot/logging/logback/file-appender.xml 配置--&amp;gt;
&amp;lt;appender name=&amp;quot;TIME_FILE&amp;quot;
          class=&amp;quot;ch.qos.logback.core.rolling.RollingFileAppender&amp;quot;&amp;gt;
    &amp;lt;encoder&amp;gt;
        &amp;lt;pattern&amp;gt;${FILE_LOG_PATTERN}&amp;lt;/pattern&amp;gt;
    &amp;lt;/encoder&amp;gt;
    &amp;lt;file&amp;gt;${LOG_FILE}&amp;lt;/file&amp;gt;
    &amp;lt;rollingPolicy class=&amp;quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&amp;quot;&amp;gt;
        &amp;lt;fileNamePattern&amp;gt;${LOG_FILE}.%d{yyyy-MM-dd}.%i&amp;lt;/fileNamePattern&amp;gt;
        &amp;lt;!--保留历史日志一个月的时间--&amp;gt;
        &amp;lt;maxHistory&amp;gt;30&amp;lt;/maxHistory&amp;gt;
        &amp;lt;!--
        Spring Boot默认情况下，日志文件10M时，会切分日志文件,这样设置日志文件会在100M时切分日志
        --&amp;gt;
        &amp;lt;timeBasedFileNamingAndTriggeringPolicy class=&amp;quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&amp;quot;&amp;gt;
            &amp;lt;maxFileSize&amp;gt;10MB&amp;lt;/maxFileSize&amp;gt;
        &amp;lt;/timeBasedFileNamingAndTriggeringPolicy&amp;gt;
<pre><code>&amp;amp;lt;/rollingPolicy&amp;amp;gt;
</code></pre>
<p>&amp;lt;/appender&amp;gt;</p>
<p>&amp;lt;root level=&amp;quot;INFO&amp;quot;&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;CONSOLE&amp;quot; /&amp;gt;
&amp;lt;appender-ref ref=&amp;quot;TIME_FILE&amp;quot; /&amp;gt;
&amp;lt;/root&amp;gt;
</code></pre></p>
<p>&lt;/configuration&gt;
&lt;!--
1、继承Spring boot logback设置（可以在appliaction.yml或者application.properties设置logging.*属性）
2、重写了默认配置，设置日志文件大小在100MB时，按日期切分日志，切分后目录：</p>
<pre><code>    my.2017-08-01.0   80MB
    my.2017-08-01.1   10MB
    my.2017-08-02.0   56MB
    my.2017-08-03.0   53MB
    ......
</code></pre>
<p>--&gt;
</code></pre></p>
<ul>
<li>生产环境与开发环境配置
<ul>
<li>application-dev.yml</li>
<li>application-pro.yml</li>
</ul>
</li>
</ul>
<h3 id="32-异常处理">3.2 异常处理</h3>
<p><strong>1、定义错误页面</strong></p>
<ul>
<li>404</li>
<li>500</li>
<li>error</li>
</ul>
<p><strong>2、全局处理异常</strong></p>
<p>统一处理异常：</p>
<pre><code class="language-java">@ControllerAdvice
public class ControllerExceptionHandler {
<pre><code>private final Logger logger = LoggerFactory.getLogger(ControllerExceptionHandler.class);
/**
 * 异常处理
 * @param request
 * @param e
 * @return
 */
@ExceptionHandler({Exception.class})
public ModelAndView handleException(HttpServletRequest request, Exception e) throws Exception {
<pre><code>logger.error(&amp;amp;quot;Request URL : {} , Exception : {}&amp;amp;quot;, request.getRequestURL(), e);

if (AnnotationUtils.findAnnotation(e.getClass(), ResponseStatus.class) != null) {
    throw e;
}
ModelAndView mav = new ModelAndView();
mav.addObject(&amp;amp;quot;url&amp;amp;quot;, request.getRequestURL());
mav.addObject(&amp;amp;quot;exception&amp;amp;quot;, e);
mav.setViewName(&amp;amp;quot;error/error&amp;amp;quot;);

return mav;
</code></pre>
<p>}
</code></pre></p>
<p>}
</code></pre></p>
<p>错误页面异常信息显示处理：</p>
<pre><code class="language-html">&lt;div&gt;
    &lt;div th:utext=&quot;'&amp;lt;!--'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Failed Request URL : ' + ${url}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;div th:utext=&quot;'Exception message : ' + ${exception.message}&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
    &lt;ul th:remove=&quot;tag&quot;&gt;
        &lt;li th:each=&quot;st : ${exception.stackTrace}&quot; th:remove=&quot;tag&quot;&gt;&lt;span th:utext=&quot;${st}&quot; th:remove=&quot;tag&quot;&gt;&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
    &lt;div th:utext=&quot;'--&amp;gt;'&quot; th:remove=&quot;tag&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><strong>3、资源找不到异常</strong></p>
<pre><code class="language-java">@ResponseStatus(HttpStatus.NOT_FOUND)
public class NotFoundExcepiton extends RuntimeException {
<pre><code>public NotFoundExcepiton() {
}
<p>public NotFoundExcepiton(String message) {
super(message);
}</p>
<p>public NotFoundExcepiton(String message, Throwable cause) {
super(message, cause);
}
</code></pre></p>
<p>}
</code></pre></p>
<h3 id="33-日志处理">3.3 日志处理</h3>
<p><strong>1、记录日志内容</strong></p>
<ul>
<li>请求 url</li>
<li>访问者 ip</li>
<li>调用方法 classMethod</li>
<li>参数 args</li>
<li>返回内容</li>
</ul>
<p><strong>2、记录日志类：</strong></p>
<pre><code class="language-java">@Aspect
@Component
public class LogAspect {
<pre><code>private final Logger logger = LoggerFactory.getLogger(this.getClass());
<p>/**</p>
<ul>
<li>定义切面
<em>/
@Pointcut(&amp;quot;execution(</em> com.imcoding.web.<em>.</em>(..))&amp;quot;)
public void log() {
}</li>
</ul>
<p>@Before(&amp;quot;log()&amp;quot;)
public void doBefore(JoinPoint joinPoint) {
ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
HttpServletRequest request = attributes.getRequest();
String classMethod = joinPoint.getSignature().getDeclaringTypeName() + &amp;quot;.&amp;quot; + joinPoint.getSignature().getName();
ReqeustLog reqeustLog = new ReqeustLog(
request.getRequestURL().toString(),
request.getRemoteAddr(),
classMethod,
joinPoint.getArgs()
);
logger.info(&amp;quot;Rquest  ----- {}&amp;quot;,reqeustLog);
}</p>
<p>@After(&amp;quot;log()&amp;quot;)
public void doAfter() {
//logger.info(&amp;quot;---------- doAfter 2 ----------&amp;quot;);
}</p>
<p>@AfterReturning(returning = &amp;quot;result&amp;quot;,pointcut = &amp;quot;log()&amp;quot;)
public void doAtfertRturning(Object result) {
logger.info(&amp;quot;Return ------ {}&amp;quot;,result );
}</p>
<p>private class ReqeustLog {
private String url;
private String ip;
private String classMethod;
private Object[] args;</p>
<pre><code>public ReqeustLog(String url, String ip, String classMethod, Object[] args) {
    this.url = url;
    this.ip = ip;
    this.classMethod = classMethod;
    this.args = args;
}

@Override
public String toString() {
    return &amp;amp;quot;ReqeustLog{&amp;amp;quot; +
            &amp;amp;quot;url='&amp;amp;quot; + url + '\'' +
            &amp;amp;quot;, ip='&amp;amp;quot; + ip + '\'' +
            &amp;amp;quot;, classMethod='&amp;amp;quot; + classMethod + '\'' +
            &amp;amp;quot;, args=&amp;amp;quot; + Arrays.toString(args) +
            '}';
}
</code></pre>
<p>}
</code></pre></p>
<p>}</p>
<p></code></pre></p>
<h3 id="34-页面处理">3.4 页面处理</h3>
<p><strong>1、静态页面导入project</strong></p>
<p><strong>2、thymeleaf布局</strong></p>
<ul>
<li>定义fragment</li>
<li>使用fragment布局</li>
</ul>
<p><strong>3、错误页面美化</strong></p>
<p>4、设计与规范</p>
<h3 id="41-实体设计">4.1 实体设计</h3>
<p><strong>实体类：</strong></p>
<ul>
<li>博客 Blog</li>
<li>博客分类 Type</li>
<li>博客标签 Tag</li>
<li>博客评论 Comment</li>
<li>用户 User</li>
</ul>
<p><strong>实体关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/87092095.jpg" alt="" /></p>
<p><strong>评论类自关联关系：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/41296045.jpg" alt="" /></p>
<p><strong>Blog类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/38390041.jpg" alt="" /></p>
<p><strong>Type类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/22984471.jpg" alt="" /></p>
<p><strong>Tag类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/70860077.jpg" alt="" /></p>
<p><strong>Comment类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/77104424.jpg" alt="" /></p>
<p><strong>User类：</strong></p>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/10367795.jpg" alt="" /></p>
<h3 id="42-应用分层">4.2 应用分层</h3>
<p><img src="http://on91wk3hn.bkt.clouddn.com/17-10-14/64528736.jpg" alt="" /></p>
<h3 id="43-命名约定">4.3 命名约定</h3>
<p><strong>Service/DAO层命名约定：</strong></p>
<ul>
<li>获取单个对象的方法用get做前缀。</li>
<li>获取多个对象的方法用list做前缀。</li>
<li>获取统计值的方法用count做前缀。</li>
<li>插入的方法用save(推荐)或insert做前缀。</li>
<li>删除的方法用remove(推荐)或delete做前缀。</li>
<li>修改的方法用update做前缀。</li>
</ul>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fk7m27hbn4j31ds0ycdnp.jpg" alt="" /></p>
<h2 id="5后台管理功能实现">5、后台管理功能实现</h2>
<h3 id="51-登录">5.1 登录</h3>
<p><strong>1、构建登录页面和后台管理首页</strong></p>
<p><strong>2、UserService和UserRepository</strong></p>
<p><strong>3、LoginController实现登录</strong></p>
<p><strong>4、MD5加密</strong></p>
<p><strong>5、登录拦截器</strong></p>
<h3 id="52-分类管理">5.2 分类管理</h3>
<p><strong>1、分类管理页面</strong></p>
<p><strong>2、分类列表分页</strong></p>
<pre><code class="language-javascript">{
  &quot;content&quot;:[
    {&quot;id&quot;:123,&quot;title&quot;:&quot;blog122&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:122,&quot;title&quot;:&quot;blog121&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:121,&quot;title&quot;:&quot;blog120&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:120,&quot;title&quot;:&quot;blog119&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:119,&quot;title&quot;:&quot;blog118&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:118,&quot;title&quot;:&quot;blog117&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:117,&quot;title&quot;:&quot;blog116&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:116,&quot;title&quot;:&quot;blog115&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:115,&quot;title&quot;:&quot;blog114&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:114,&quot;title&quot;:&quot;blog113&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:113,&quot;title&quot;:&quot;blog112&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:112,&quot;title&quot;:&quot;blog111&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:111,&quot;title&quot;:&quot;blog110&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:110,&quot;title&quot;:&quot;blog109&quot;,&quot;content&quot;:&quot;this is blog content&quot;},
    {&quot;id&quot;:109,&quot;title&quot;:&quot;blog108&quot;,&quot;content&quot;:&quot;this is blog content&quot;}],
  &quot;last&quot;:false,
  &quot;totalPages&quot;:9,
  &quot;totalElements&quot;:123,
  &quot;size&quot;:15,
  &quot;number&quot;:0,
  &quot;first&quot;:true,
  &quot;sort&quot;:[{
    &quot;direction&quot;:&quot;DESC&quot;,
    &quot;property&quot;:&quot;id&quot;,
    &quot;ignoreCase&quot;:false,
    &quot;nullHandling&quot;:&quot;NATIVE&quot;,
    &quot;ascending&quot;:false
  }],
  &quot;numberOfElements&quot;:15
}
<p></code></pre></p>
<p><strong>3、分类新增、修改、删除</strong></p>
<h3 id="53-标签管理">5.3 标签管理</h3>
<h3 id="54-博客管理">5.4 博客管理</h3>
<p><strong>1、博客分页查询</strong></p>
<p><strong>2、博客新增</strong></p>
<p><strong>3、博客修改</strong></p>
<p><strong>4、博客删除</strong></p>
<h2 id="6前端展示功能实现">6、前端展示功能实现</h2>
<h3 id="61-首页展示">6.1 首页展示</h3>
<p><strong>1、博客列表</strong></p>
<p><strong>2、top分类</strong></p>
<p><strong>3、top标签</strong></p>
<p><strong>4、最新博客推荐</strong></p>
<p><strong>5、博客详情</strong></p>
<p><strong>1、Markdown 转换 HTML</strong></p>
<ul>
<li><a href="https://github.com/atlassian/commonmark-java" target="_blank">commonmark-java  https://github.com/atlassian/commonmark-java</a></li>
<li>pom.xml引用commonmark和扩展插件</li>
</ul>
<pre><code class="language-xml">&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-heading-anchor&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
   &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;
   &lt;artifactId&gt;commonmark-ext-gfm-tables&lt;/artifactId&gt;
   &lt;version&gt;0.10.0&lt;/version&gt;
&lt;/dependency&gt;
<p></code></pre></p>
<p><strong>2、评论功能</strong></p>
<ul>
<li>评论信息提交与回复功能</li>
<li>评论信息列表展示功能</li>
<li>管理员回复评论功能</li>
</ul>
<h3 id="62-分类页">6.2 分类页</h3>
<h3 id="63-标签页">6.3 标签页</h3>
<h3 id="64-归档页">6.4 归档页</h3>
<h3 id="65-关于我">6.5 关于我</h3>
(String), 8(Long), https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1590818036358&di=9569a5452be6c4297afbb3746283a8d3&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201804%2F18%2F172344g6tsuasyytq2dd7a.png(String), 第一次制作博客，有BUG请联系我，在此十分感谢李仁密同学的讲解视频，该文章为李仁密同学的讲解文档。我针对李同学的项目进行了一些修改，把后台操作数据库的JPA改为了熟悉的Mybatis，其余的附加功能会在后面写博文讲解，源码放在了GitHub。感谢你的观看~(String), true(Boolean), true(Boolean), false(Boolean), true(Boolean), 2020-06-09 10:59:31.124(Timestamp), 11(Long)
2020-06-09 10:59:31.146 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.updateBlog          : <==    Updates: 1
2020-06-09 10:59:31.147  INFO 18584 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:59:31.147  INFO 18584 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: redirect:/admin/blogs
2020-06-09 10:59:31.151  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.blogs, args=[1, {msg=新增成功}])
2020-06-09 10:59:31.153 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t WHERE b.type_id = t.id 
2020-06-09 10:59:31.153 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==> Parameters: 
2020-06-09 10:59:31.155 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getAllBlog_COUNT    : <==      Total: 1
2020-06-09 10:59:31.155 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getAllBlog          : ==>  Preparing: /*后台博客展示*/ select b.id, b.title, b.update_time, b.recommend, b.type_id, b.published, t.id typeid, t.name typename from t_blog b, t_type t where b.type_id = t.id /*博客类型id=类型id*/ LIMIT ? 
2020-06-09 10:59:31.155 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getAllBlog          : ==> Parameters: 5(Integer)
2020-06-09 10:59:31.156 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getAllBlog          : <==      Total: 1
2020-06-09 10:59:31.158 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TypeDao.getAllType          : ==>  Preparing: select * from t_type 
2020-06-09 10:59:31.158 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TypeDao.getAllType          : ==> Parameters: 
2020-06-09 10:59:31.161 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TypeDao.getAllType          : <==      Total: 2
2020-06-09 10:59:31.165 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TagDao.getAllTag            : ==>  Preparing: select * from blog.t_tag 
2020-06-09 10:59:31.166 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TagDao.getAllTag            : ==> Parameters: 
2020-06-09 10:59:31.167 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TagDao.getAllTag            : <==      Total: 4
2020-06-09 10:59:31.167  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:59:31.167  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: admin/blogs
2020-06-09 10:59:33.932  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@24ab87da])
2020-06-09 10:59:33.935 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:59:33.936 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:59:33.938 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:59:33.941  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:59:33.942  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:59:34.488  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:59:34.493 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:59:34.495 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:59:34.497 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:59:34.497  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:59:34.497  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:59:34.672  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:59:34.673 DEBUG 18584 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:59:34.674 DEBUG 18584 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:59:34.679 DEBUG 18584 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:59:34.680 DEBUG 18584 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:59:34.680 DEBUG 18584 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:59:34.681 DEBUG 18584 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:59:34.682 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:59:34.682 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:59:34.683 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:59:34.684 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:59:34.684 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:59:34.686 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:59:34.689 DEBUG 18584 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:59:34.690 DEBUG 18584 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:59:34.695 DEBUG 18584 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:59:34.695  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:59:34.696  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 10:59:37.123  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/types/-1, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.TypeShowController.types, args=[-1, 1, {}])
2020-06-09 10:59:37.126 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType_COUNT   : ==>  Preparing: SELECT count(0) FROM t_type t, t_blog b WHERE t.id = b.type_id 
2020-06-09 10:59:37.126 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType_COUNT   : ==> Parameters: 
2020-06-09 10:59:37.128 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType_COUNT   : <==      Total: 1
2020-06-09 10:59:37.128 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id LIMIT ? 
2020-06-09 10:59:37.128 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 100(Integer)
2020-06-09 10:59:37.130 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType         : <==      Total: 1
2020-06-09 10:59:37.131 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getByTypeId         : ==>  Preparing: select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id and b.type_id = ? order by b.update_time desc 
2020-06-09 10:59:37.131 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getByTypeId         : ==> Parameters: 8(Long)
2020-06-09 10:59:37.133 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getByTypeId         : <==      Total: 1
2020-06-09 10:59:37.133  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:59:37.133  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: types
2020-06-09 10:59:37.546  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:59:37.546 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:59:37.546 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:59:37.549 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:59:37.549  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:59:37.549  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:59:38.527  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 10:59:38.530 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 10:59:38.531 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 10:59:38.532 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 10:59:38.532 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getIndexBlog        : ==>  Preparing: /*主页博客展示*/ select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id order by b.update_time desc LIMIT ? 
2020-06-09 10:59:38.532 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getIndexBlog        : ==> Parameters: 8(Integer)
2020-06-09 10:59:38.534 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getIndexBlog        : <==      Total: 1
2020-06-09 10:59:38.534 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 10:59:38.534 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 10:59:38.535 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.TypeDao.getBlogType         : <==      Total: 1
2020-06-09 10:59:38.536 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 10:59:38.536 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 10:59:38.542 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.TagDao.getBlogTag           : <==      Total: 3
2020-06-09 10:59:38.543 DEBUG 18584 --- [http-nio-8080-exec-4] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 10:59:38.543 DEBUG 18584 --- [http-nio-8080-exec-4] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 10:59:38.544 DEBUG 18584 --- [http-nio-8080-exec-4] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 1
2020-06-09 10:59:38.545  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:59:38.545  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: index
2020-06-09 10:59:38.908  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:59:38.909 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:59:38.909 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:59:38.914 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:59:38.914  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:59:38.915  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:59:50.582  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@24ab87da])
2020-06-09 10:59:50.588 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 10:59:50.588 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 10:59:50.593 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 10:59:50.597  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:59:50.597  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 10:59:51.068  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 10:59:51.069 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 10:59:51.069 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 10:59:51.070 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 10:59:51.070  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:59:51.070  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 10:59:51.236  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 10:59:51.236 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:59:51.236 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 10:59:51.237 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 10:59:51.238 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:59:51.238 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 10:59:51.239 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 10:59:51.240 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:59:51.240 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 10:59:51.243 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 10:59:51.245 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:59:51.246 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 10:59:51.249 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 10:59:51.249 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 10:59:51.249 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 10:59:51.250 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 10:59:51.250  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 10:59:51.250  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:00:03.136  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@4b43159])
2020-06-09 11:00:03.142 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 11:00:03.142 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 11:00:03.147 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 11:00:03.147 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 11:00:03.152 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 18(Integer), 11(Long)
2020-06-09 11:00:03.155 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 11:00:03.155  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:00:03.155  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 11:00:03.802  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:00:03.804 DEBUG 18584 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:00:03.804 DEBUG 18584 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:00:03.806 DEBUG 18584 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 11:00:03.806  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:00:03.806  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:00:04.256  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 11:00:04.256 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:00:04.257 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 11:00:04.267 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 11:00:04.270 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:00:04.270 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 11:00:04.316 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 11:00:04.317 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:00:04.318 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 11:00:04.330 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:00:04.330 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:00:04.331 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 11:00:04.333 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:00:04.334 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:00:04.334 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 11:00:04.335 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 11:00:04.335  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:00:04.335  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:25:30.998  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 11:25:31.014 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 11:25:31.016 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 11:25:31.028 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 11:25:31.029 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getIndexBlog        : ==>  Preparing: /*主页博客展示*/ select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id order by b.update_time desc LIMIT ? 
2020-06-09 11:25:31.029 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getIndexBlog        : ==> Parameters: 8(Integer)
2020-06-09 11:25:31.049 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getIndexBlog        : <==      Total: 1
2020-06-09 11:25:31.051 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 11:25:31.051 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 11:25:31.053 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType         : <==      Total: 1
2020-06-09 11:25:31.053 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 11:25:31.053 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 11:25:31.055 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TagDao.getBlogTag           : <==      Total: 3
2020-06-09 11:25:31.056 DEBUG 18584 --- [http-nio-8080-exec-9] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 11:25:31.056 DEBUG 18584 --- [http-nio-8080-exec-9] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 11:25:31.057 DEBUG 18584 --- [http-nio-8080-exec-9] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 1
2020-06-09 11:25:31.058  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:25:31.058  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: index
2020-06-09 11:25:33.587  INFO 18584 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.loginPage, args=[])
2020-06-09 11:25:33.587  INFO 18584 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:25:33.587  INFO 18584 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: admin/login
2020-06-09 11:25:37.496  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:25:37.498 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:25:37.499 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:25:37.500 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 11:25:37.500  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:25:37.500  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:25:38.612  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@24ab87da])
2020-06-09 11:25:38.613 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 11:25:38.614 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 11:25:38.617 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 11:25:38.620  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:25:38.620  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 11:25:39.359  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:25:39.362 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:25:39.362 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:25:39.364 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 11:25:39.364  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:25:39.364  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:25:39.634  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 11:25:39.635 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:25:39.635 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 11:25:39.638 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 11:25:39.638 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:25:39.639 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 11:25:39.645 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 11:25:39.646 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:25:39.647 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 11:25:39.648 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:25:39.649 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:25:39.649 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 11:25:39.650 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:25:39.651 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:25:39.651 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 11:25:39.652 DEBUG 18584 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 11:25:39.652  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:25:39.652  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:27:05.909  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 11:27:05.912 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 11:27:05.913 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 11:27:05.914 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 11:27:05.914 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getIndexBlog        : ==>  Preparing: /*主页博客展示*/ select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id order by b.update_time desc LIMIT ? 
2020-06-09 11:27:05.914 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getIndexBlog        : ==> Parameters: 8(Integer)
2020-06-09 11:27:05.917 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getIndexBlog        : <==      Total: 1
2020-06-09 11:27:05.918 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 11:27:05.918 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 11:27:05.921 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TypeDao.getBlogType         : <==      Total: 1
2020-06-09 11:27:05.922 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 11:27:05.922 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 11:27:05.923 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.TagDao.getBlogTag           : <==      Total: 3
2020-06-09 11:27:05.924 DEBUG 18584 --- [http-nio-8080-exec-5] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 11:27:05.924 DEBUG 18584 --- [http-nio-8080-exec-5] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 11:27:05.926 DEBUG 18584 --- [http-nio-8080-exec-5] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 1
2020-06-09 11:27:05.926  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:27:05.926  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: index
2020-06-09 11:27:06.390  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:27:06.390 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:27:06.390 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:27:06.391 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 1
2020-06-09 11:27:06.392  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:27:06.392  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:27:13.738  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 11:27:13.747 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 11:27:13.747 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 11:27:13.762 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 11:27:13.762 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog        : ==>  Preparing: /*主页博客展示*/ select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id order by b.update_time desc LIMIT ? 
2020-06-09 11:27:13.762 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog        : ==> Parameters: 8(Integer)
2020-06-09 11:27:13.770 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog        : <==      Total: 1
2020-06-09 11:27:13.771 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 11:27:13.771 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 11:27:13.772 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getBlogType         : <==      Total: 1
2020-06-09 11:27:13.772 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 11:27:13.772 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 11:27:13.774 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getBlogTag           : <==      Total: 3
2020-06-09 11:27:13.774 DEBUG 18584 --- [http-nio-8080-exec-2] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 11:27:13.775 DEBUG 18584 --- [http-nio-8080-exec-2] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 11:27:13.778 DEBUG 18584 --- [http-nio-8080-exec-2] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 1
2020-06-09 11:27:13.778  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:27:13.778  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: index
2020-06-09 11:27:14.915  INFO 18584 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.loginPage, args=[])
2020-06-09 11:27:14.915  INFO 18584 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:27:14.915  INFO 18584 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: admin/login
2020-06-09 11:27:18.440  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/login, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.LoginController.login, args=[ldd, 123, org.apache.catalina.session.StandardSessionFacade@24ab87da, {}])
2020-06-09 11:27:18.441 DEBUG 18584 --- [http-nio-8080-exec-1] c.b.d.U.queryByUsernameAndPassword       : ==>  Preparing: select * from blog.t_user where username = ? and password = ?; 
2020-06-09 11:27:18.442 DEBUG 18584 --- [http-nio-8080-exec-1] c.b.d.U.queryByUsernameAndPassword       : ==> Parameters: ldd(String), 202cb962ac59075b964b07152d234b70(String)
2020-06-09 11:27:18.445 DEBUG 18584 --- [http-nio-8080-exec-1] c.b.d.U.queryByUsernameAndPassword       : <==      Total: 1
2020-06-09 11:27:18.445  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:27:18.445  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: admin/index
2020-06-09 11:27:21.856  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.blogs, args=[1, {}])
2020-06-09 11:27:21.861 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t WHERE b.type_id = t.id 
2020-06-09 11:27:21.862 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==> Parameters: 
2020-06-09 11:27:21.863 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getAllBlog_COUNT    : <==      Total: 1
2020-06-09 11:27:21.863 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getAllBlog          : ==>  Preparing: /*后台博客展示*/ select b.id, b.title, b.update_time, b.recommend, b.type_id, b.published, t.id typeid, t.name typename from t_blog b, t_type t where b.type_id = t.id /*博客类型id=类型id*/ LIMIT ? 
2020-06-09 11:27:21.864 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getAllBlog          : ==> Parameters: 5(Integer)
2020-06-09 11:27:21.865 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getAllBlog          : <==      Total: 1
2020-06-09 11:27:21.868 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getAllType          : ==>  Preparing: select * from t_type 
2020-06-09 11:27:21.869 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getAllType          : ==> Parameters: 
2020-06-09 11:27:21.871 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getAllType          : <==      Total: 2
2020-06-09 11:27:21.873 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getAllTag            : ==>  Preparing: select * from blog.t_tag 
2020-06-09 11:27:21.873 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getAllTag            : ==> Parameters: 
2020-06-09 11:27:21.875 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getAllTag            : <==      Total: 4
2020-06-09 11:27:21.875  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:27:21.875  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: admin/blogs
2020-06-09 11:27:23.850  INFO 18584 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs/input, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.toAddBlog, args=[{}])
2020-06-09 11:27:23.854 DEBUG 18584 --- [http-nio-8080-exec-6] com.blog.dao.TypeDao.getAllType          : ==>  Preparing: select * from t_type 
2020-06-09 11:27:23.855 DEBUG 18584 --- [http-nio-8080-exec-6] com.blog.dao.TypeDao.getAllType          : ==> Parameters: 
2020-06-09 11:27:23.856 DEBUG 18584 --- [http-nio-8080-exec-6] com.blog.dao.TypeDao.getAllType          : <==      Total: 2
2020-06-09 11:27:23.858 DEBUG 18584 --- [http-nio-8080-exec-6] com.blog.dao.TagDao.getAllTag            : ==>  Preparing: select * from blog.t_tag 
2020-06-09 11:27:23.858 DEBUG 18584 --- [http-nio-8080-exec-6] com.blog.dao.TagDao.getAllTag            : ==> Parameters: 
2020-06-09 11:27:23.859 DEBUG 18584 --- [http-nio-8080-exec-6] com.blog.dao.TagDao.getAllTag            : <==      Total: 4
2020-06-09 11:27:23.859  INFO 18584 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:27:23.859  INFO 18584 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: admin/blogs-input
2020-06-09 11:27:43.284  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.addBlog, args=[Blog(id=null, title=aaaaaaaaaaaaaa, content=aaaaaaaaaaaa, firstPicture=https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1590818036358&di=9569a5452be6c4297afbb3746283a8d3&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201804%2F18%2F172344g6tsuasyytq2dd7a.png, flag=, views=null, appreciation=true, shareStatement=true, commentabled=true, published=true, recommend=true, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=8, description=aaaa, type=Type(id=8, name=null, blogs=[]), user=null, tags=[], comments=[]), org.apache.catalina.session.StandardSessionFacade@24ab87da, {}])
2020-06-09 11:27:43.287 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getType             : ==>  Preparing: select id,name from blog.t_type where id = ? 
2020-06-09 11:27:43.288 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getType             : ==> Parameters: 8(Long)
2020-06-09 11:27:43.290 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TypeDao.getType             : <==      Total: 1
2020-06-09 11:27:43.292 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getTag               : ==>  Preparing: select id,name from blog.t_tag where id = ? 
2020-06-09 11:27:43.292 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getTag               : ==> Parameters: 8(Long)
2020-06-09 11:27:43.293 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.TagDao.getTag               : <==      Total: 1
2020-06-09 11:27:43.294 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.saveBlog            : ==>  Preparing: insert into t_blog (title, content, first_picture, flag, views, appreciation, share_statement, commentabled,published, recommend, create_time, update_time, type_id, user_id, description) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?); 
2020-06-09 11:27:43.296 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.saveBlog            : ==> Parameters: aaaaaaaaaaaaaa(String), aaaaaaaaaaaa(String), https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1590818036358&di=9569a5452be6c4297afbb3746283a8d3&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201804%2F18%2F172344g6tsuasyytq2dd7a.png(String), (String), 0(Integer), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-06-09 11:27:43.294(Timestamp), 2020-06-09 11:27:43.294(Timestamp), 8(Long), 1(Long), aaaa(String)
2020-06-09 11:27:43.302 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.saveBlog            : <==    Updates: 1
2020-06-09 11:27:43.405 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.saveBlogAndTag      : ==>  Preparing: insert into t_blog_tags (tags_id, blogs_id) SELECT ?,? FROM DUAL WHERE NOT EXISTS(SELECT * FROM t_blog_tags WHERE blogs_id = ? and tags_id = ?) 
2020-06-09 11:27:43.406 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.saveBlogAndTag      : ==> Parameters: 8(Long), 12(Long), 12(Long), 8(Long)
2020-06-09 11:27:43.411 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.saveBlogAndTag      : <==    Updates: 1
2020-06-09 11:27:43.415  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:27:43.415  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: redirect:/admin/blogs
2020-06-09 11:27:43.420  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/admin/blogs, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.admin.BlogController.blogs, args=[1, {msg=新增成功}])
2020-06-09 11:27:43.421 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t WHERE b.type_id = t.id 
2020-06-09 11:27:43.421 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getAllBlog_COUNT    : ==> Parameters: 
2020-06-09 11:27:43.423 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getAllBlog_COUNT    : <==      Total: 1
2020-06-09 11:27:43.423 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getAllBlog          : ==>  Preparing: /*后台博客展示*/ select b.id, b.title, b.update_time, b.recommend, b.type_id, b.published, t.id typeid, t.name typename from t_blog b, t_type t where b.type_id = t.id /*博客类型id=类型id*/ LIMIT ? 
2020-06-09 11:27:43.423 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getAllBlog          : ==> Parameters: 5(Integer)
2020-06-09 11:27:43.425 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getAllBlog          : <==      Total: 2
2020-06-09 11:27:43.426 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getAllType          : ==>  Preparing: select * from t_type 
2020-06-09 11:27:43.426 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getAllType          : ==> Parameters: 
2020-06-09 11:27:43.428 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getAllType          : <==      Total: 2
2020-06-09 11:27:43.429 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TagDao.getAllTag            : ==>  Preparing: select * from blog.t_tag 
2020-06-09 11:27:43.429 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TagDao.getAllTag            : ==> Parameters: 
2020-06-09 11:27:43.430 DEBUG 18584 --- [http-nio-8080-exec-9] com.blog.dao.TagDao.getAllTag            : <==      Total: 4
2020-06-09 11:27:43.431  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:27:43.431  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: admin/blogs
2020-06-09 11:27:46.160  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:27:46.161 DEBUG 18584 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:27:46.161 DEBUG 18584 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:27:46.169 DEBUG 18584 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:27:46.169  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:27:46.169  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:28:03.848  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 11:28:03.856 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 11:28:03.856 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 11:28:03.860 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 11:28:03.860 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getIndexBlog        : ==>  Preparing: /*主页博客展示*/ select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id order by b.update_time desc LIMIT ? 
2020-06-09 11:28:03.860 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getIndexBlog        : ==> Parameters: 8(Integer)
2020-06-09 11:28:03.864 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getIndexBlog        : <==      Total: 2
2020-06-09 11:28:03.866 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 11:28:03.866 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 11:28:03.869 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TypeDao.getBlogType         : <==      Total: 2
2020-06-09 11:28:03.869 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 11:28:03.869 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 11:28:03.871 DEBUG 18584 --- [http-nio-8080-exec-7] com.blog.dao.TagDao.getBlogTag           : <==      Total: 4
2020-06-09 11:28:03.871 DEBUG 18584 --- [http-nio-8080-exec-7] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 11:28:03.871 DEBUG 18584 --- [http-nio-8080-exec-7] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 11:28:03.873 DEBUG 18584 --- [http-nio-8080-exec-7] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 2
2020-06-09 11:28:03.873  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:28:03.873  INFO 18584 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: index
2020-06-09 11:28:04.296  INFO 18584 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:28:04.296 DEBUG 18584 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:28:04.296 DEBUG 18584 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:28:04.302 DEBUG 18584 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:28:04.302  INFO 18584 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:28:04.302  INFO 18584 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:28:06.950  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/12, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[12, {}, org.apache.catalina.session.StandardSessionFacade@24ab87da])
2020-06-09 11:28:06.951 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 11:28:06.951 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 12(Long)
2020-06-09 11:28:06.953 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 1
2020-06-09 11:28:06.954  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:28:06.954  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 11:28:07.318  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:28:07.318 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:28:07.318 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:28:07.319 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:28:07.320  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:28:07.320  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:28:07.393  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/12, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[12, {}])
2020-06-09 11:28:07.393 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:28:07.394 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 11:28:07.404 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 11:28:07.405 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:28:07.405 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 11:28:07.406 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 11:28:07.407 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:28:07.407 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 11:28:07.408 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:28:07.409 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:28:07.409 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 11:28:07.410 DEBUG 18584 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:28:07.411 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:28:07.411 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 11:28:07.414 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 11:28:07.414  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:28:07.414  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:28:50.412  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/12, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[12, {}, org.apache.catalina.session.StandardSessionFacade@24ab87da])
2020-06-09 11:28:50.414 DEBUG 18584 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 11:28:50.414 DEBUG 18584 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 12(Long)
2020-06-09 11:28:50.416 DEBUG 18584 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 1
2020-06-09 11:28:50.417  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:28:50.417  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 11:28:50.846  INFO 18584 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:28:50.846 DEBUG 18584 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:28:50.847 DEBUG 18584 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:28:50.848 DEBUG 18584 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:28:50.848  INFO 18584 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:28:50.848  INFO 18584 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:28:50.923  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/12, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[12, {}])
2020-06-09 11:28:50.925 DEBUG 18584 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:28:50.925 DEBUG 18584 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 11:28:50.928 DEBUG 18584 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 11:28:50.929 DEBUG 18584 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:28:50.929 DEBUG 18584 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 11:28:50.930 DEBUG 18584 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 11:28:50.930 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:28:50.931 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 11:28:50.931 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:28:50.932 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:28:50.932 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 11:28:50.933 DEBUG 18584 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:28:50.933 DEBUG 18584 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:28:50.933 DEBUG 18584 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 11:28:50.934 DEBUG 18584 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 11:28:50.935  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:28:50.935  INFO 18584 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:30:16.216  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/12, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[12, {}, org.apache.catalina.session.StandardSessionFacade@24ab87da])
2020-06-09 11:30:16.220 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 11:30:16.220 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 12(Long)
2020-06-09 11:30:16.222 DEBUG 18584 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 1
2020-06-09 11:30:16.223  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:30:16.223  INFO 18584 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 11:30:16.660  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:30:16.661 DEBUG 18584 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:30:16.661 DEBUG 18584 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:30:16.662 DEBUG 18584 --- [http-nio-8080-exec-9] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:30:16.662  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:30:16.662  INFO 18584 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:30:16.756  INFO 18584 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/12, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[12, {}])
2020-06-09 11:30:16.756 DEBUG 18584 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:30:16.756 DEBUG 18584 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 11:30:16.758 DEBUG 18584 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 11:30:16.758 DEBUG 18584 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:30:16.759 DEBUG 18584 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 11:30:16.760 DEBUG 18584 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 11:30:16.761 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:30:16.761 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 11:30:16.762 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:30:16.763 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:30:16.763 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 11:30:16.767 DEBUG 18584 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:30:16.770 DEBUG 18584 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:30:16.770 DEBUG 18584 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 11:30:16.771 DEBUG 18584 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 11:30:16.772  INFO 18584 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:30:16.772  INFO 18584 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:30:25.576  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 11:30:25.582 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 11:30:25.583 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 11:30:25.585 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 11:30:25.585 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog        : ==>  Preparing: /*主页博客展示*/ select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id order by b.update_time desc LIMIT ? 
2020-06-09 11:30:25.586 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog        : ==> Parameters: 8(Integer)
2020-06-09 11:30:25.587 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getIndexBlog        : <==      Total: 2
2020-06-09 11:30:25.588 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 11:30:25.588 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 11:30:25.589 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType         : <==      Total: 2
2020-06-09 11:30:25.590 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 11:30:25.590 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 11:30:25.594 DEBUG 18584 --- [http-nio-8080-exec-8] com.blog.dao.TagDao.getBlogTag           : <==      Total: 4
2020-06-09 11:30:25.595 DEBUG 18584 --- [http-nio-8080-exec-8] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 11:30:25.595 DEBUG 18584 --- [http-nio-8080-exec-8] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 11:30:25.597 DEBUG 18584 --- [http-nio-8080-exec-8] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 2
2020-06-09 11:30:25.597  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:30:25.597  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: index
2020-06-09 11:30:25.975  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:30:25.975 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:30:25.975 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:30:25.978 DEBUG 18584 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:30:25.979  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:30:25.979  INFO 18584 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:30:27.517  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@24ab87da])
2020-06-09 11:30:27.519 DEBUG 18584 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 11:30:27.519 DEBUG 18584 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 11:30:27.522 DEBUG 18584 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 11:30:27.524  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:30:27.525  INFO 18584 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 11:30:27.939  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:30:27.940 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:30:27.940 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:30:27.941 DEBUG 18584 --- [http-nio-8080-exec-8] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:30:27.942  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:30:27.942  INFO 18584 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:30:28.095  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 11:30:28.095 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:30:28.096 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 11:30:28.097 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 11:30:28.098 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:30:28.098 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 11:30:28.100 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 11:30:28.100 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:30:28.100 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 11:30:28.101 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:30:28.102 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:30:28.102 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 11:30:28.103 DEBUG 18584 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:30:28.103 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:30:28.103 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 11:30:28.105 DEBUG 18584 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 11:30:28.106  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:30:28.107  INFO 18584 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:30:52.177  INFO 14520 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 14520 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 11:30:52.212 DEBUG 14520 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 11:30:52.212  INFO 14520 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 11:30:52.352  INFO 14520 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 11:30:52.352  INFO 14520 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 11:30:55.442  INFO 14520 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 11:30:55.462  INFO 14520 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 11:30:55.462  INFO 14520 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 11:30:55.652  INFO 14520 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 11:30:55.652  INFO 14520 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3300 ms
2020-06-09 11:30:57.002  INFO 14520 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 11:30:57.122  INFO 14520 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 11:30:57.632  INFO 14520 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 11:30:57.722  INFO 14520 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 11:30:57.722  INFO 14520 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 6.48 seconds (JVM running for 15.869)
2020-06-09 11:31:00.604  INFO 14520 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 11:31:00.605  INFO 14520 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 11:31:00.622  INFO 14520 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 17 ms
2020-06-09 11:31:00.686  INFO 14520 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@28c45854])
2020-06-09 11:31:00.792  INFO 14520 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 11:31:01.183  INFO 14520 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 11:31:01.191 DEBUG 14520 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 11:31:01.225 DEBUG 14520 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 11:31:01.255 DEBUG 14520 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 11:31:01.368 DEBUG 14520 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 11:31:01.369 DEBUG 14520 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 19(Integer), 11(Long)
2020-06-09 11:31:01.374 DEBUG 14520 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 11:31:01.375  INFO 14520 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:31:01.375  INFO 14520 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 11:31:02.412  INFO 14520 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:31:02.416 DEBUG 14520 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:31:02.416 DEBUG 14520 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:31:02.418 DEBUG 14520 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:31:02.419  INFO 14520 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:31:02.419  INFO 14520 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:31:02.685  INFO 14520 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 11:31:02.688 DEBUG 14520 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:31:02.689 DEBUG 14520 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 11:31:02.702 DEBUG 14520 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 11:31:02.702 DEBUG 14520 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:31:02.703 DEBUG 14520 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 11:31:02.704 DEBUG 14520 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 11:31:02.705 DEBUG 14520 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:31:02.705 DEBUG 14520 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 11:31:02.707 DEBUG 14520 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:31:02.709 DEBUG 14520 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:31:02.710 DEBUG 14520 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 11:31:02.713 DEBUG 14520 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:31:02.714 DEBUG 14520 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:31:02.714 DEBUG 14520 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 11:31:02.716 DEBUG 14520 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 11:31:02.716  INFO 14520 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:31:02.716  INFO 14520 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:31:28.312  INFO 14520 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=吖, email=13803345745@163.com, content=嗯嗯, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=11, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[])), org.apache.catalina.session.StandardSessionFacade@28c45854])
2020-06-09 11:31:33.137 DEBUG 14520 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getBlog             : ==>  Preparing: /*后台展示博客*/ select b.id, b.published, b.flag, b.title, b.content, b.type_id typeid, ty.name typename, b.first_picture, b.description, b.recommend, b.share_statement, b.appreciation, b.commentabled , t.id tagid ,t.name tagname from t_blog b left join t_type ty on ty.id=b.type_id LEFT JOIN t_blog_tags bt on bt.blogs_id = b.id left join t_tag t on t.id= bt.tags_id where b.id = ?; 
2020-06-09 11:31:33.142 DEBUG 14520 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getBlog             : ==> Parameters: 11(Long)
2020-06-09 11:31:33.162 DEBUG 14520 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getBlog             : <==      Total: 3
2020-06-09 11:32:02.012 DEBUG 14520 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id, admincomment) values (?,?,?,?, ?,?,?, ?); 
2020-06-09 11:32:02.042 DEBUG 14520 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : ==> Parameters: 吖(String), 13803345745@163.com(String), 嗯嗯(String), /images/avatar.jpg(String), 2020-06-09 11:32:02.012(Timestamp), null, 11(Long), false(Boolean)
2020-06-09 11:32:02.052 DEBUG 14520 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : <==    Updates: 1
2020-06-09 11:34:28.352  WARN 14520 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m26s347ms676µs100ns).
2020-06-09 11:36:02.642  WARN 14520 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m2s190ms393µs800ns).
2020-06-09 11:37:28.046  INFO 14520 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:37:28.046  INFO 14520 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: redirect:/comments/11
2020-06-09 11:37:28.082  INFO 14520 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 11:37:28.082 DEBUG 14520 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:37:28.082 DEBUG 14520 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 11:37:28.087 DEBUG 14520 --- [http-nio-8080-exec-10] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 11:37:28.087 DEBUG 14520 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:37:28.087 DEBUG 14520 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 11:37:28.087 DEBUG 14520 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 11:37:28.087 DEBUG 14520 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:37:28.092 DEBUG 14520 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 11:37:28.092 DEBUG 14520 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:37:28.092 DEBUG 14520 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:37:28.092 DEBUG 14520 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 11:37:28.092 DEBUG 14520 --- [http-nio-8080-exec-10] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:37:28.092 DEBUG 14520 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:37:28.092 DEBUG 14520 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 11:37:28.092 DEBUG 14520 --- [http-nio-8080-exec-10] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 2
2020-06-09 11:37:40.257  INFO 18628 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 18628 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 11:37:40.262 DEBUG 18628 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 11:37:40.262  INFO 18628 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 11:37:40.308  INFO 18628 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 11:37:40.308  INFO 18628 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 11:37:41.691  INFO 18628 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 11:37:41.706  INFO 18628 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 11:37:41.706  INFO 18628 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 11:37:41.796  INFO 18628 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 11:37:41.796  INFO 18628 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1488 ms
2020-06-09 11:37:42.541  INFO 18628 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 11:37:42.657  INFO 18628 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 11:37:43.011  INFO 18628 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 11:37:43.061  INFO 18628 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 11:37:43.061  INFO 18628 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 3.776 seconds (JVM running for 9.695)
2020-06-09 11:37:51.780  INFO 18628 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 11:37:51.780  INFO 18628 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 11:37:51.793  INFO 18628 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2020-06-09 11:37:51.845  INFO 18628 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@85564b5])
2020-06-09 11:37:51.884  INFO 18628 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 11:37:52.063  INFO 18628 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 11:37:52.071 DEBUG 18628 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 11:37:52.098 DEBUG 18628 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 11:37:52.128 DEBUG 18628 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 11:37:52.226 DEBUG 18628 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 11:37:52.227 DEBUG 18628 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 20(Integer), 11(Long)
2020-06-09 11:37:52.231 DEBUG 18628 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 11:37:52.232  INFO 18628 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:37:52.232  INFO 18628 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 11:37:53.191  INFO 18628 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:37:53.193 DEBUG 18628 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:37:53.194 DEBUG 18628 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:37:53.195 DEBUG 18628 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:37:53.196  INFO 18628 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:37:53.196  INFO 18628 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:37:53.395  INFO 18628 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 11:37:53.402 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:37:53.404 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 11:37:53.415 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 11:37:53.418 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:37:53.419 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 11:37:53.423 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 11:37:53.424 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:37:53.424 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 11:37:53.426 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:37:53.427 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:37:53.427 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 11:37:53.428 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:37:53.429 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:37:53.429 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 11:37:53.433 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 2
2020-06-09 11:37:53.435 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:37:53.436 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 16(Long)
2020-06-09 11:37:53.439 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:37:53.439 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:37:53.440 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 17(Long)
2020-06-09 11:37:53.441 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:37:53.442  INFO 18628 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:37:53.442  INFO 18628 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:38:05.327  INFO 18628 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=我, email=1802585483@qq.com, content=呜呜呜, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=17, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=11, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[])), org.apache.catalina.session.StandardSessionFacade@85564b5])
2020-06-09 11:38:12.647 DEBUG 18628 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id, admincomment) values (?,?,?,?, ?,?,?, ?); 
2020-06-09 11:38:12.650 DEBUG 18628 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : ==> Parameters: 我(String), 1802585483@qq.com(String), 呜呜呜(String), /images/avatar.jpg(String), 2020-06-09 11:38:12.646(Timestamp), 11(Long), 17(Long), false(Boolean)
2020-06-09 11:38:12.655 DEBUG 18628 --- [http-nio-8080-exec-4] com.blog.dao.CommentDao.saveComment      : <==    Updates: 1
2020-06-09 11:38:12.655  INFO 18628 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:38:12.655  INFO 18628 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: redirect:/comments/11
2020-06-09 11:38:12.670  INFO 18628 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 11:38:12.670 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:12.671 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 11:38:12.673 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 11:38:12.674 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:12.674 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 11:38:12.676 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 11:38:12.677 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:12.677 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 11:38:12.679 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:38:12.680 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:12.680 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 11:38:12.681 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:38:12.683 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:12.684 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 11:38:12.687 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 2
2020-06-09 11:38:12.688 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:12.688 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 16(Long)
2020-06-09 11:38:12.690 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:38:12.691 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:12.691 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 17(Long)
2020-06-09 11:38:12.694 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:38:12.695 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:12.695 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 18(Long)
2020-06-09 11:38:12.697 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:38:12.697  INFO 18628 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:38:12.697  INFO 18628 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:38:29.346  INFO 18628 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@85564b5])
2020-06-09 11:38:29.347 DEBUG 18628 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 11:38:29.348 DEBUG 18628 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 11:38:29.353 DEBUG 18628 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 11:38:29.359 DEBUG 18628 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 11:38:29.359 DEBUG 18628 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 21(Integer), 11(Long)
2020-06-09 11:38:29.364 DEBUG 18628 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 11:38:29.364  INFO 18628 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:38:29.365  INFO 18628 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 11:38:29.910  INFO 18628 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:38:29.911 DEBUG 18628 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:38:29.911 DEBUG 18628 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:38:29.913 DEBUG 18628 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:38:29.914  INFO 18628 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:38:29.914  INFO 18628 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:38:30.113  INFO 18628 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 11:38:30.114 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:30.114 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 11:38:30.117 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 11:38:30.120 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:30.122 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 11:38:30.125 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 11:38:30.126 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:30.126 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 11:38:30.129 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:38:30.129 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:30.129 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 11:38:30.129 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:38:30.131 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:30.131 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 11:38:30.131 DEBUG 18628 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 2
2020-06-09 11:38:30.131 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:30.135 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 16(Long)
2020-06-09 11:38:30.139 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:38:30.140 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:30.140 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 17(Long)
2020-06-09 11:38:30.142 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:38:30.143 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:30.143 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 18(Long)
2020-06-09 11:38:30.144 DEBUG 18628 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:38:30.145  INFO 18628 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:38:30.145  INFO 18628 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:38:33.470  INFO 18628 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/12, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[12, {}, org.apache.catalina.session.StandardSessionFacade@85564b5])
2020-06-09 11:38:33.475 DEBUG 18628 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 11:38:33.476 DEBUG 18628 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 12(Long)
2020-06-09 11:38:33.479 DEBUG 18628 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 1
2020-06-09 11:38:33.480 DEBUG 18628 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 11:38:33.480 DEBUG 18628 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 1(Integer), 12(Long)
2020-06-09 11:38:33.485 DEBUG 18628 --- [http-nio-8080-exec-7] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 11:38:33.486  INFO 18628 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:38:33.486  INFO 18628 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 11:38:33.852  INFO 18628 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:38:33.853 DEBUG 18628 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:38:33.853 DEBUG 18628 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:38:33.855 DEBUG 18628 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:38:33.856  INFO 18628 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:38:33.856  INFO 18628 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:38:33.961  INFO 18628 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/12, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[12, {}])
2020-06-09 11:38:33.962 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:33.962 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long)
2020-06-09 11:38:33.967 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 11:38:33.969 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:33.969 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 11:38:33.971 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 11:38:33.971 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:33.972 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 11:38:33.982 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:38:33.985 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:33.986 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 11:38:33.987 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:38:33.988 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:33.988 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 11:38:33.989 DEBUG 18628 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 2
2020-06-09 11:38:33.990 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:33.990 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 16(Long)
2020-06-09 11:38:33.991 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:38:33.992 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:33.992 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 17(Long)
2020-06-09 11:38:33.994 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:38:33.994 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:38:33.994 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 18(Long)
2020-06-09 11:38:33.995 DEBUG 18628 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:38:33.995  INFO 18628 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:38:33.995  INFO 18628 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:41:14.448  INFO 17228 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 17228 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 11:41:14.460 DEBUG 17228 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 11:41:14.462  INFO 17228 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 11:41:14.903  INFO 17228 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 11:41:14.903  INFO 17228 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 11:41:17.231  INFO 17228 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 11:41:17.253  INFO 17228 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 11:41:17.255  INFO 17228 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 11:41:17.399  INFO 17228 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 11:41:17.400  INFO 17228 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2497 ms
2020-06-09 11:41:18.410  INFO 17228 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 11:41:18.566  INFO 17228 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 11:41:19.062  INFO 17228 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 11:41:19.124  INFO 17228 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 11:41:19.129  INFO 17228 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 5.515 seconds (JVM running for 11.687)
2020-06-09 11:41:52.770  INFO 17228 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 11:41:52.771  INFO 17228 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 11:41:52.786  INFO 17228 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2020-06-09 11:41:52.865  INFO 17228 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@2da38413])
2020-06-09 11:41:52.946  INFO 17228 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 11:41:53.172  INFO 17228 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 11:41:53.182 DEBUG 17228 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 11:41:53.211 DEBUG 17228 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 11:41:53.249 DEBUG 17228 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 11:41:53.381 DEBUG 17228 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 11:41:53.381 DEBUG 17228 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 22(Integer), 11(Long)
2020-06-09 11:41:53.401 DEBUG 17228 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 11:41:53.402  INFO 17228 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:41:53.402  INFO 17228 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 11:41:54.326  INFO 17228 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:41:54.328 DEBUG 17228 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:41:54.329 DEBUG 17228 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:41:54.330 DEBUG 17228 --- [http-nio-8080-exec-1] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:41:54.331  INFO 17228 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:41:54.331  INFO 17228 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:41:54.519  INFO 17228 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 11:41:54.529 DEBUG 17228 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? where c.blog_id=? order by c.create_time desc 
2020-06-09 11:41:54.530 DEBUG 17228 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long), 11(Long)
2020-06-09 11:41:54.914  INFO 17228 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:41:54.932 ERROR 17228 --- [http-nio-8080-exec-5] c.b.handler.ControllerExceptionHandler   : Request url: /comments/11, Exception: {}

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where c.blog_id=11
        order by c.create_time desc' at line 3
### The error may exist in file [F:\idea\blog\blog-master\blog\target\classes\mapper\CommentDao.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: select *         from blog.t_comment c         where c.parent_comment_id = ? where c.blog_id=?         order by c.create_time desc
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where c.blog_id=11
        order by c.create_time desc' at line 3
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where c.blog_id=11
        order by c.create_time desc' at line 3
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:235) ~[spring-jdbc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72) ~[spring-jdbc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at com.sun.proxy.$Proxy82.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223) ~[mybatis-spring-2.0.3.jar:2.0.3]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:93) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy86.findByParentIdNull(Unknown Source) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.sun.proxy.$Proxy87.findByParentIdNull(Unknown Source) ~[na:na]
	at com.blog.service.impl.CommentServiceImpl.listComment(CommentServiceImpl.java:34) ~[classes/:na]
	at com.blog.controller.CommentController.comments(CommentController.java:34) ~[classes/:na]
	at com.blog.controller.CommentController$$FastClassBySpringCGLIB$$6c601308.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at com.blog.controller.CommentController$$EnhancerBySpringCGLIB$$e71865c8.comments(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.4.RELEASE.jar:5.2.4.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.31.jar:9.0.31]
	at java.lang.Thread.run(Thread.java:748) [na:na]
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where c.blog_id=11
        order by c.create_time desc' at line 3
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-3.4.2.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-3.4.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy114.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109) ~[mybatis-3.5.3.jar:3.5.3]
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108) ~[pagehelper-5.1.11.jar:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.3.jar:3.5.3]
	at com.sun.proxy.$Proxy112.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.3.jar:3.5.3]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140) ~[mybatis-3.5.3.jar:3.5.3]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_211]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_211]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_211]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426) ~[mybatis-spring-2.0.3.jar:2.0.3]
	... 88 common frames omitted

2020-06-09 11:41:54.936  WARN 17228 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where c.blog_id=11
        order by c.create_time desc' at line 3
### The error may exist in file [F:\idea\blog\blog-master\blog\target\classes\mapper\CommentDao.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: select *         from blog.t_comment c         where c.parent_comment_id = ? where c.blog_id=?         order by c.create_time desc
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where c.blog_id=11
        order by c.create_time desc' at line 3
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where c.blog_id=11
        order by c.create_time desc' at line 3]
2020-06-09 11:42:22.095  INFO 16840 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 16840 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 11:42:22.115 DEBUG 16840 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 11:42:22.116  INFO 16840 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 11:42:22.239  INFO 16840 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 11:42:22.239  INFO 16840 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 11:42:24.032  INFO 16840 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 11:42:24.043  INFO 16840 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 11:42:24.043  INFO 16840 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 11:42:24.176  INFO 16840 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 11:42:24.176  INFO 16840 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1937 ms
2020-06-09 11:42:25.166  INFO 16840 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 11:42:25.300  INFO 16840 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 11:42:25.722  INFO 16840 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 11:42:25.781  INFO 16840 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 11:42:25.785  INFO 16840 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 4.713 seconds (JVM running for 11.075)
2020-06-09 11:43:31.452  INFO 16840 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 11:43:31.452  INFO 16840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 11:43:31.478  INFO 16840 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 26 ms
2020-06-09 11:43:31.528  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@745d5c70])
2020-06-09 11:43:31.562  INFO 16840 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 11:43:31.730  INFO 16840 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 11:43:31.739 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 11:43:31.762 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 11:43:31.793 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 11:43:31.878 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 11:43:31.878 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 23(Integer), 11(Long)
2020-06-09 11:43:31.881 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 11:43:31.882  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:43:31.883  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 11:43:32.975  INFO 16840 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:43:32.978 DEBUG 16840 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:43:32.978 DEBUG 16840 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:43:32.980 DEBUG 16840 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:43:32.980  INFO 16840 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:43:32.980  INFO 16840 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:43:33.163  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 11:43:33.166 DEBUG 16840 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? and c.blog_id=? order by c.create_time desc 
2020-06-09 11:43:33.166 DEBUG 16840 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long), 11(Long)
2020-06-09 11:43:33.180 DEBUG 16840 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 11:43:33.180 DEBUG 16840 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:43:33.181 DEBUG 16840 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 11:43:33.183 DEBUG 16840 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 11:43:33.184 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:43:33.184 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 11:43:33.193 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:43:33.194 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:43:33.194 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 11:43:33.195 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:43:33.196 DEBUG 16840 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:43:33.196 DEBUG 16840 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 11:43:33.199 DEBUG 16840 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 2
2020-06-09 11:43:33.199 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:43:33.200 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 16(Long)
2020-06-09 11:43:33.209 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:43:33.210 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:43:33.210 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 17(Long)
2020-06-09 11:43:33.212 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:43:33.212 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:43:33.213 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 18(Long)
2020-06-09 11:43:33.226 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:43:33.227  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:43:33.227  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:43:39.440  INFO 16840 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/12, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[12, {}, org.apache.catalina.session.StandardSessionFacade@745d5c70])
2020-06-09 11:43:39.442 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 11:43:39.442 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 12(Long)
2020-06-09 11:43:39.445 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 1
2020-06-09 11:43:39.446 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 11:43:39.447 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 2(Integer), 12(Long)
2020-06-09 11:43:39.454 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 11:43:39.454  INFO 16840 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:43:39.454  INFO 16840 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 11:43:39.889  INFO 16840 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:43:39.890 DEBUG 16840 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:43:39.890 DEBUG 16840 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:43:39.893 DEBUG 16840 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:43:39.893  INFO 16840 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:43:39.894  INFO 16840 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:43:39.974  INFO 16840 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/12, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[12, {}])
2020-06-09 11:43:39.975 DEBUG 16840 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? and c.blog_id=? order by c.create_time desc 
2020-06-09 11:43:39.975 DEBUG 16840 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long), 12(Long)
2020-06-09 11:43:39.976 DEBUG 16840 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 0
2020-06-09 11:43:39.977  INFO 16840 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:43:39.977  INFO 16840 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:43:47.129  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comment, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.post, args=[Comment(id=null, nickname=请求, email=13803345745@163.com, content=强强强强, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=Comment(id=-1, nickname=null, email=null, content=null, adminComment=false, avatar=null, createTime=null, blogId=null, parentCommentId=null, parentNickname=null, replyComments=[], parentComment=null, blog=null), blog=Blog(id=12, title=null, content=null, firstPicture=null, flag=null, views=null, appreciation=false, shareStatement=false, commentabled=false, published=false, recommend=false, createTime=null, updateTime=null, typeId=null, userId=null, tagIds=null, description=null, type=null, user=null, tags=[], comments=[])), org.apache.catalina.session.StandardSessionFacade@745d5c70])
2020-06-09 11:43:51.962 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.saveComment      : ==>  Preparing: insert into blog.t_comment (nickname,email,content,avatar, create_time,blog_id,parent_comment_id, admincomment) values (?,?,?,?, ?,?,?, ?); 
2020-06-09 11:43:51.966 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.saveComment      : ==> Parameters: 请求(String), 13803345745@163.com(String), 强强强强(String), /images/avatar.jpg(String), 2020-06-09 11:43:51.961(Timestamp), 12(Long), -1(Long), false(Boolean)
2020-06-09 11:43:51.972 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.saveComment      : <==    Updates: 1
2020-06-09 11:43:51.974  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:43:51.974  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: redirect:/comments/12
2020-06-09 11:43:51.987  INFO 16840 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/12, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[12, {}])
2020-06-09 11:43:51.987 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? and c.blog_id=? order by c.create_time desc 
2020-06-09 11:43:51.988 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long), 12(Long)
2020-06-09 11:43:51.990 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 1
2020-06-09 11:43:51.991 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:43:51.991 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 19(Long)
2020-06-09 11:43:51.992 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 11:43:51.993  INFO 16840 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:43:51.993  INFO 16840 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:43:56.551  INFO 16840 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/12, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[12, {}, org.apache.catalina.session.StandardSessionFacade@745d5c70])
2020-06-09 11:43:56.553 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 11:43:56.554 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 12(Long)
2020-06-09 11:43:56.561 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 1
2020-06-09 11:43:56.563 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 11:43:56.563 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 3(Integer), 12(Long)
2020-06-09 11:43:56.570 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 11:43:56.570  INFO 16840 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:43:56.571  INFO 16840 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 11:43:57.024  INFO 16840 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:43:57.025 DEBUG 16840 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:43:57.025 DEBUG 16840 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:43:57.028 DEBUG 16840 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:43:57.029  INFO 16840 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:43:57.029  INFO 16840 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:43:57.124  INFO 16840 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/12, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[12, {}])
2020-06-09 11:43:57.125 DEBUG 16840 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? and c.blog_id=? order by c.create_time desc 
2020-06-09 11:43:57.125 DEBUG 16840 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long), 12(Long)
2020-06-09 11:43:57.128 DEBUG 16840 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 1
2020-06-09 11:43:57.129 DEBUG 16840 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:43:57.129 DEBUG 16840 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 19(Long)
2020-06-09 11:43:57.132 DEBUG 16840 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 0
2020-06-09 11:43:57.134  INFO 16840 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:43:57.134  INFO 16840 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:43:59.293  INFO 16840 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@745d5c70])
2020-06-09 11:43:59.294 DEBUG 16840 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 11:43:59.295 DEBUG 16840 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 11:43:59.304 DEBUG 16840 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 11:43:59.307 DEBUG 16840 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 11:43:59.308 DEBUG 16840 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 24(Integer), 11(Long)
2020-06-09 11:43:59.315 DEBUG 16840 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 11:43:59.317  INFO 16840 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:43:59.317  INFO 16840 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 11:43:59.759  INFO 16840 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:43:59.760 DEBUG 16840 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:43:59.760 DEBUG 16840 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:43:59.766 DEBUG 16840 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:43:59.766  INFO 16840 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:43:59.766  INFO 16840 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:43:59.941  INFO 16840 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 11:43:59.941 DEBUG 16840 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? and c.blog_id=? order by c.create_time desc 
2020-06-09 11:43:59.941 DEBUG 16840 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long), 11(Long)
2020-06-09 11:43:59.943 DEBUG 16840 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 11:43:59.944 DEBUG 16840 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:43:59.944 DEBUG 16840 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 11:43:59.946 DEBUG 16840 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 11:43:59.949 DEBUG 16840 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:43:59.949 DEBUG 16840 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 11:43:59.951 DEBUG 16840 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:43:59.952 DEBUG 16840 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:43:59.952 DEBUG 16840 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 11:43:59.954 DEBUG 16840 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:43:59.954 DEBUG 16840 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:43:59.955 DEBUG 16840 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 11:43:59.956 DEBUG 16840 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 2
2020-06-09 11:43:59.957 DEBUG 16840 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:43:59.958 DEBUG 16840 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 16(Long)
2020-06-09 11:43:59.962 DEBUG 16840 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:43:59.963 DEBUG 16840 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:43:59.963 DEBUG 16840 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 17(Long)
2020-06-09 11:43:59.970 DEBUG 16840 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:43:59.971 DEBUG 16840 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:43:59.972 DEBUG 16840 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 18(Long)
2020-06-09 11:43:59.986 DEBUG 16840 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:43:59.987  INFO 16840 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:43:59.988  INFO 16840 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:44:22.090  INFO 16840 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@745d5c70])
2020-06-09 11:44:22.092 DEBUG 16840 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 11:44:22.092 DEBUG 16840 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 11:44:22.105 DEBUG 16840 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 11:44:22.107 DEBUG 16840 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 11:44:22.107 DEBUG 16840 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 25(Integer), 11(Long)
2020-06-09 11:44:22.114 DEBUG 16840 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 11:44:22.114  INFO 16840 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:44:22.114  INFO 16840 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 11:44:22.617  INFO 16840 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:44:22.618 DEBUG 16840 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:44:22.618 DEBUG 16840 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:44:22.620 DEBUG 16840 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:44:22.621  INFO 16840 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:44:22.621  INFO 16840 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:44:22.804  INFO 16840 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 11:44:22.805 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? and c.blog_id=? order by c.create_time desc 
2020-06-09 11:44:22.806 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long), 11(Long)
2020-06-09 11:44:22.811 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 11:44:22.814 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:44:22.814 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 11:44:22.816 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 11:44:22.817 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:44:22.817 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 11:44:22.819 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 11:44:22.820 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:44:22.820 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 11:44:22.821 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:44:22.822 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:44:22.823 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 11:44:22.824 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 11:44:22.825 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 11:44:22.827 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 16(Long)
2020-06-09 11:44:22.832 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 11:44:22.833  INFO 16840 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:44:22.833  INFO 16840 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 11:44:42.169  INFO 16840 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/about, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.AboutShowController.about, args=[])
2020-06-09 11:44:42.174  INFO 16840 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:44:42.174  INFO 16840 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: about
2020-06-09 11:44:42.713  INFO 16840 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:44:42.714 DEBUG 16840 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:44:42.715 DEBUG 16840 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:44:42.717 DEBUG 16840 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:44:42.717  INFO 16840 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:44:42.717  INFO 16840 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:45:02.444  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 11:45:02.594 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 11:45:02.594 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 11:45:02.598 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 11:45:02.600 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog        : ==>  Preparing: /*主页博客展示*/ select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id order by b.update_time desc LIMIT ? 
2020-06-09 11:45:02.600 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog        : ==> Parameters: 8(Integer)
2020-06-09 11:45:02.603 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog        : <==      Total: 2
2020-06-09 11:45:02.606 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 11:45:02.607 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 11:45:02.609 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getBlogType         : <==      Total: 2
2020-06-09 11:45:02.610 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 11:45:02.610 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 11:45:02.612 DEBUG 16840 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getBlogTag           : <==      Total: 4
2020-06-09 11:45:02.613 DEBUG 16840 --- [http-nio-8080-exec-2] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 11:45:02.613 DEBUG 16840 --- [http-nio-8080-exec-2] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 11:45:02.615 DEBUG 16840 --- [http-nio-8080-exec-2] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 2
2020-06-09 11:45:02.617  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:45:02.617  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: index
2020-06-09 11:45:03.071  INFO 16840 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:45:03.072 DEBUG 16840 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:45:03.072 DEBUG 16840 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:45:03.074 DEBUG 16840 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:45:03.074  INFO 16840 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:45:03.074  INFO 16840 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:45:03.830  INFO 16840 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/types/-1, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.TypeShowController.types, args=[-1, 1, {}])
2020-06-09 11:45:03.835 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType_COUNT   : ==>  Preparing: SELECT count(0) FROM t_type t, t_blog b WHERE t.id = b.type_id 
2020-06-09 11:45:03.835 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType_COUNT   : ==> Parameters: 
2020-06-09 11:45:03.836 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType_COUNT   : <==      Total: 1
2020-06-09 11:45:03.836 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id LIMIT ? 
2020-06-09 11:45:03.837 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 100(Integer)
2020-06-09 11:45:03.838 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.TypeDao.getBlogType         : <==      Total: 2
2020-06-09 11:45:03.841 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getByTypeId         : ==>  Preparing: select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id and b.type_id = ? order by b.update_time desc 
2020-06-09 11:45:03.842 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getByTypeId         : ==> Parameters: 8(Long)
2020-06-09 11:45:03.845 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getByTypeId         : <==      Total: 2
2020-06-09 11:45:03.846  INFO 16840 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:45:03.846  INFO 16840 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: types
2020-06-09 11:45:04.371  INFO 16840 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:45:04.375 DEBUG 16840 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:45:04.375 DEBUG 16840 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:45:04.377 DEBUG 16840 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:45:04.377  INFO 16840 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:45:04.377  INFO 16840 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:45:04.562  INFO 16840 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/about, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.AboutShowController.about, args=[])
2020-06-09 11:45:04.562  INFO 16840 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:45:04.562  INFO 16840 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: about
2020-06-09 11:45:05.003  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:45:05.005 DEBUG 16840 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:45:05.008 DEBUG 16840 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:45:05.012 DEBUG 16840 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:45:05.013  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:45:05.013  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:45:06.609  INFO 16840 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/archives, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.ArchiveShowController.archives, args=[{}])
2020-06-09 11:45:06.615 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.findGroupYear       : ==>  Preparing: select DATE_FORMAT(b.update_time, '%Y') from t_blog b order by b.update_time desc 
2020-06-09 11:45:06.615 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.findGroupYear       : ==> Parameters: 
2020-06-09 11:45:06.617 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.findGroupYear       : <==      Total: 2
2020-06-09 11:45:06.619 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.findByYear          : ==>  Preparing: select b.title, b.update_time, b.id, b.flag from t_blog b where DATE_FORMAT(b.update_time, "%Y") = ? 
2020-06-09 11:45:06.619 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.findByYear          : ==> Parameters: 2020(String)
2020-06-09 11:45:06.621 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.findByYear          : <==      Total: 2
2020-06-09 11:45:06.623 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getAllBlog          : ==>  Preparing: /*后台博客展示*/ select b.id, b.title, b.update_time, b.recommend, b.type_id, b.published, t.id typeid, t.name typename from t_blog b, t_type t where b.type_id = t.id /*博客类型id=类型id*/ 
2020-06-09 11:45:06.624 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getAllBlog          : ==> Parameters: 
2020-06-09 11:45:06.626 DEBUG 16840 --- [http-nio-8080-exec-8] com.blog.dao.BlogDao.getAllBlog          : <==      Total: 2
2020-06-09 11:45:06.626  INFO 16840 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:45:06.626  INFO 16840 --- [http-nio-8080-exec-8] com.blog.aspect.LogAspect                : Result: archives
2020-06-09 11:45:07.044  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:45:07.044 DEBUG 16840 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:45:07.044 DEBUG 16840 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:45:07.046 DEBUG 16840 --- [http-nio-8080-exec-2] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:45:07.046  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:45:07.046  INFO 16840 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:45:09.746  INFO 16840 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/tags/-1, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.TagShowController.types, args=[-1, 1, {}])
2020-06-09 11:45:09.755 DEBUG 16840 --- [http-nio-8080-exec-4] com.blog.dao.TagDao.getBlogTag_COUNT     : ==>  Preparing: SELECT count(0) FROM t_tag t, t_blog b, t_blog_tags bt WHERE t.id = bt.tags_id AND b.id = bt.blogs_id 
2020-06-09 11:45:09.755 DEBUG 16840 --- [http-nio-8080-exec-4] com.blog.dao.TagDao.getBlogTag_COUNT     : ==> Parameters: 
2020-06-09 11:45:09.756 DEBUG 16840 --- [http-nio-8080-exec-4] com.blog.dao.TagDao.getBlogTag_COUNT     : <==      Total: 1
2020-06-09 11:45:09.757 DEBUG 16840 --- [http-nio-8080-exec-4] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id LIMIT ? 
2020-06-09 11:45:09.757 DEBUG 16840 --- [http-nio-8080-exec-4] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 100(Integer)
2020-06-09 11:45:09.760 DEBUG 16840 --- [http-nio-8080-exec-4] com.blog.dao.TagDao.getBlogTag           : <==      Total: 4
2020-06-09 11:45:09.760 DEBUG 16840 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getByTagId          : ==>  Preparing: select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, t1.name tagname, t1.id tagid, u.nickname, u.avatar from t_blog b, t_type t, t_user u, t_blog_tags tb, t_tag t1 where b.type_id = t.id and u.id = b.user_id and tb.blogs_id = b.id and tb.tags_id = t1.id and t1.id = ? order by b.update_time desc 
2020-06-09 11:45:09.761 DEBUG 16840 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getByTagId          : ==> Parameters: 9(Long)
2020-06-09 11:45:09.763 DEBUG 16840 --- [http-nio-8080-exec-4] com.blog.dao.BlogDao.getByTagId          : <==      Total: 1
2020-06-09 11:45:09.764  INFO 16840 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:45:09.764  INFO 16840 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: tags
2020-06-09 11:45:10.272  INFO 16840 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:45:10.273 DEBUG 16840 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:45:10.273 DEBUG 16840 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:45:10.274 DEBUG 16840 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:45:10.275  INFO 16840 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:45:10.275  INFO 16840 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:45:13.449  INFO 16840 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/types/-1, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.TypeShowController.types, args=[-1, 1, {}])
2020-06-09 11:45:13.453 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.TypeDao.getBlogType_COUNT   : ==>  Preparing: SELECT count(0) FROM t_type t, t_blog b WHERE t.id = b.type_id 
2020-06-09 11:45:13.454 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.TypeDao.getBlogType_COUNT   : ==> Parameters: 
2020-06-09 11:45:13.456 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.TypeDao.getBlogType_COUNT   : <==      Total: 1
2020-06-09 11:45:13.456 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id LIMIT ? 
2020-06-09 11:45:13.456 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 100(Integer)
2020-06-09 11:45:13.458 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.TypeDao.getBlogType         : <==      Total: 2
2020-06-09 11:45:13.458 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getByTypeId         : ==>  Preparing: select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id and b.type_id = ? order by b.update_time desc 
2020-06-09 11:45:13.458 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getByTypeId         : ==> Parameters: 8(Long)
2020-06-09 11:45:13.461 DEBUG 16840 --- [http-nio-8080-exec-3] com.blog.dao.BlogDao.getByTypeId         : <==      Total: 2
2020-06-09 11:45:13.461  INFO 16840 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:45:13.461  INFO 16840 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: types
2020-06-09 11:45:13.870  INFO 16840 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:45:13.871 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:45:13.871 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:45:13.873 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:45:13.873  INFO 16840 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:45:13.873  INFO 16840 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:45:15.071  INFO 16840 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 11:45:15.076 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 11:45:15.076 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 11:45:15.080 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 11:45:15.080 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getIndexBlog        : ==>  Preparing: /*主页博客展示*/ select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id order by b.update_time desc LIMIT ? 
2020-06-09 11:45:15.081 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getIndexBlog        : ==> Parameters: 8(Integer)
2020-06-09 11:45:15.084 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getIndexBlog        : <==      Total: 2
2020-06-09 11:45:15.084 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 11:45:15.085 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 11:45:15.087 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.TypeDao.getBlogType         : <==      Total: 2
2020-06-09 11:45:15.087 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 11:45:15.087 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 11:45:15.089 DEBUG 16840 --- [http-nio-8080-exec-1] com.blog.dao.TagDao.getBlogTag           : <==      Total: 4
2020-06-09 11:45:15.089 DEBUG 16840 --- [http-nio-8080-exec-1] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 11:45:15.090 DEBUG 16840 --- [http-nio-8080-exec-1] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 11:45:15.091 DEBUG 16840 --- [http-nio-8080-exec-1] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 2
2020-06-09 11:45:15.091  INFO 16840 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:45:15.091  INFO 16840 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: index
2020-06-09 11:45:15.508  INFO 16840 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:45:15.508 DEBUG 16840 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:45:15.508 DEBUG 16840 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:45:15.510 DEBUG 16840 --- [http-nio-8080-exec-7] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:45:15.510  INFO 16840 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:45:15.511  INFO 16840 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 11:45:30.111  INFO 16840 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/types/8, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.TypeShowController.types, args=[8, 1, {}])
2020-06-09 11:45:30.120 DEBUG 16840 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType_COUNT   : ==>  Preparing: SELECT count(0) FROM t_type t, t_blog b WHERE t.id = b.type_id 
2020-06-09 11:45:30.120 DEBUG 16840 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType_COUNT   : ==> Parameters: 
2020-06-09 11:45:30.121 DEBUG 16840 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType_COUNT   : <==      Total: 1
2020-06-09 11:45:30.121 DEBUG 16840 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id LIMIT ? 
2020-06-09 11:45:30.122 DEBUG 16840 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 100(Integer)
2020-06-09 11:45:30.129 DEBUG 16840 --- [http-nio-8080-exec-9] com.blog.dao.TypeDao.getBlogType         : <==      Total: 2
2020-06-09 11:45:30.129 DEBUG 16840 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getByTypeId         : ==>  Preparing: select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id and b.type_id = ? order by b.update_time desc 
2020-06-09 11:45:30.130 DEBUG 16840 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getByTypeId         : ==> Parameters: 8(Long)
2020-06-09 11:45:30.133 DEBUG 16840 --- [http-nio-8080-exec-9] com.blog.dao.BlogDao.getByTypeId         : <==      Total: 2
2020-06-09 11:45:30.133  INFO 16840 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:45:30.133  INFO 16840 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: types
2020-06-09 11:45:30.504  INFO 16840 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 11:45:30.504 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 11:45:30.504 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 11:45:30.506 DEBUG 16840 --- [http-nio-8080-exec-3] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 11:45:30.506  INFO 16840 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 11:45:30.506  INFO 16840 --- [http-nio-8080-exec-3] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 12:10:33.820  INFO 4560 --- [restartedMain] com.blog.BlogApplication                 : Starting BlogApplication on LAPTOP-VN9AJ8OO with PID 4560 (F:\idea\blog\blog-master\blog\target\classes started by vae in F:\idea\blog\blog-master\blog)
2020-06-09 12:10:33.834 DEBUG 4560 --- [restartedMain] com.blog.BlogApplication                 : Running with Spring Boot v2.2.5.RELEASE, Spring v5.2.4.RELEASE
2020-06-09 12:10:33.834  INFO 4560 --- [restartedMain] com.blog.BlogApplication                 : The following profiles are active: dev
2020-06-09 12:10:33.997  INFO 4560 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-06-09 12:10:33.997  INFO 4560 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-06-09 12:10:35.348  INFO 4560 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-06-09 12:10:35.357  INFO 4560 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-06-09 12:10:35.357  INFO 4560 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]
2020-06-09 12:10:35.446  INFO 4560 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-06-09 12:10:35.446  INFO 4560 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1448 ms
2020-06-09 12:10:36.178  INFO 4560 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-06-09 12:10:36.276  INFO 4560 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-06-09 12:10:36.622  INFO 4560 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-06-09 12:10:36.664  INFO 4560 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-06-09 12:10:36.667  INFO 4560 --- [restartedMain] com.blog.BlogApplication                 : Started BlogApplication in 3.428 seconds (JVM running for 9.293)
2020-06-09 12:11:02.437  INFO 4560 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-06-09 12:11:02.437  INFO 4560 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-06-09 12:11:02.450  INFO 4560 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2020-06-09 12:11:02.502  INFO 4560 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toIndex, args=[1, {}])
2020-06-09 12:11:02.607  INFO 4560 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-06-09 12:11:03.170  INFO 4560 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-06-09 12:11:03.218 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==>  Preparing: SELECT count(0) FROM t_blog b, t_type t, t_user u WHERE b.type_id = t.id AND u.id = b.user_id 
2020-06-09 12:11:03.305 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog_COUNT  : ==> Parameters: 
2020-06-09 12:11:03.342 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog_COUNT  : <==      Total: 1
2020-06-09 12:11:03.367 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog        : ==>  Preparing: /*主页博客展示*/ select b.id, b.title, b.first_picture, b.views, b.update_time, b.description, t.name typename, t.id typeid, u.nickname, u.avatar from t_blog b, t_type t, t_user u where b.type_id = t.id and u.id = b.user_id order by b.update_time desc LIMIT ? 
2020-06-09 12:11:03.367 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog        : ==> Parameters: 8(Integer)
2020-06-09 12:11:03.371 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getIndexBlog        : <==      Total: 2
2020-06-09 12:11:03.377 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getBlogType         : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title, b.type_id from t_type t, t_blog b where t.id = b.type_id 
2020-06-09 12:11:03.377 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getBlogType         : ==> Parameters: 
2020-06-09 12:11:03.381 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.TypeDao.getBlogType         : <==      Total: 2
2020-06-09 12:11:03.381 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getBlogTag           : ==>  Preparing: select t.id tid, t.name, b.id bid, b.title from t_tag t, t_blog b, t_blog_tags bt where t.id = bt.tags_id and b.id = bt.blogs_id 
2020-06-09 12:11:03.382 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getBlogTag           : ==> Parameters: 
2020-06-09 12:11:03.383 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.TagDao.getBlogTag           : <==      Total: 4
2020-06-09 12:11:03.384 DEBUG 4560 --- [http-nio-8080-exec-2] c.blog.dao.BlogDao.getAllRecommendBlog   : ==>  Preparing: select id, title, recommend from t_blog order by update_time desc; 
2020-06-09 12:11:03.384 DEBUG 4560 --- [http-nio-8080-exec-2] c.blog.dao.BlogDao.getAllRecommendBlog   : ==> Parameters: 
2020-06-09 12:11:03.387 DEBUG 4560 --- [http-nio-8080-exec-2] c.blog.dao.BlogDao.getAllRecommendBlog   : <==      Total: 2
2020-06-09 12:11:03.389  INFO 4560 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:11:03.389  INFO 4560 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: index
2020-06-09 12:11:05.056  INFO 4560 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 12:11:05.067 DEBUG 4560 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 12:11:05.068 DEBUG 4560 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 12:11:05.070 DEBUG 4560 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 12:11:05.071  INFO 4560 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:11:05.071  INFO 4560 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 12:11:06.796  INFO 4560 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@2780efd4])
2020-06-09 12:11:06.801 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 12:11:06.801 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 12:11:06.805 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 12:11:06.967 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 12:11:06.967 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 26(Integer), 11(Long)
2020-06-09 12:11:06.981 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 12:11:06.981  INFO 4560 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:11:06.981  INFO 4560 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 12:11:07.717  INFO 4560 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 12:11:07.719 DEBUG 4560 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 12:11:07.719 DEBUG 4560 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 12:11:07.722 DEBUG 4560 --- [http-nio-8080-exec-10] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 12:11:07.722  INFO 4560 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:11:07.722  INFO 4560 --- [http-nio-8080-exec-10] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 12:11:07.950  INFO 4560 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 12:11:07.953 DEBUG 4560 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? and c.blog_id=? order by c.create_time desc 
2020-06-09 12:11:07.954 DEBUG 4560 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long), 11(Long)
2020-06-09 12:11:07.964 DEBUG 4560 --- [http-nio-8080-exec-5] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 12:11:07.965 DEBUG 4560 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:11:07.966 DEBUG 4560 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 12:11:07.968 DEBUG 4560 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 12:11:07.969 DEBUG 4560 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:11:07.969 DEBUG 4560 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 12:11:07.970 DEBUG 4560 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 12:11:07.971 DEBUG 4560 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:11:07.971 DEBUG 4560 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 12:11:07.972 DEBUG 4560 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 12:11:07.973 DEBUG 4560 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:11:07.973 DEBUG 4560 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 12:11:07.979 DEBUG 4560 --- [http-nio-8080-exec-5] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 12:11:07.980 DEBUG 4560 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:11:07.980 DEBUG 4560 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 16(Long)
2020-06-09 12:11:07.981 DEBUG 4560 --- [http-nio-8080-exec-5] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 12:11:07.981  INFO 4560 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:11:07.981  INFO 4560 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 12:11:58.325  INFO 4560 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@2780efd4])
2020-06-09 12:11:58.328 DEBUG 4560 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 12:11:58.329 DEBUG 4560 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 12:11:58.342 DEBUG 4560 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 12:11:58.345 DEBUG 4560 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 12:11:58.346 DEBUG 4560 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 27(Integer), 11(Long)
2020-06-09 12:11:58.354 DEBUG 4560 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 12:11:58.355  INFO 4560 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:11:58.355  INFO 4560 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 12:11:58.849  INFO 4560 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 12:11:58.851 DEBUG 4560 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 12:11:58.852 DEBUG 4560 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 12:11:58.854 DEBUG 4560 --- [http-nio-8080-exec-6] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 12:11:58.855  INFO 4560 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:11:58.855  INFO 4560 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 12:11:59.027  INFO 4560 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 12:11:59.028 DEBUG 4560 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? and c.blog_id=? order by c.create_time desc 
2020-06-09 12:11:59.030 DEBUG 4560 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long), 11(Long)
2020-06-09 12:11:59.035 DEBUG 4560 --- [http-nio-8080-exec-9] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 12:11:59.036 DEBUG 4560 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:11:59.036 DEBUG 4560 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 12:11:59.038 DEBUG 4560 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 12:11:59.039 DEBUG 4560 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:11:59.039 DEBUG 4560 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 12:11:59.041 DEBUG 4560 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 12:11:59.042 DEBUG 4560 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:11:59.043 DEBUG 4560 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 12:11:59.048 DEBUG 4560 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 12:11:59.051 DEBUG 4560 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:11:59.052 DEBUG 4560 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 12:11:59.054 DEBUG 4560 --- [http-nio-8080-exec-9] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 12:11:59.056 DEBUG 4560 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:11:59.057 DEBUG 4560 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 16(Long)
2020-06-09 12:11:59.060 DEBUG 4560 --- [http-nio-8080-exec-9] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 12:11:59.061  INFO 4560 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:11:59.061  INFO 4560 --- [http-nio-8080-exec-9] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 12:12:05.732  INFO 4560 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@2780efd4])
2020-06-09 12:12:05.734 DEBUG 4560 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 12:12:05.734 DEBUG 4560 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 12:12:05.737 DEBUG 4560 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 12:12:05.740 DEBUG 4560 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 12:12:05.741 DEBUG 4560 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 28(Integer), 11(Long)
2020-06-09 12:12:05.748 DEBUG 4560 --- [http-nio-8080-exec-1] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 12:12:05.750  INFO 4560 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:12:05.750  INFO 4560 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 12:12:06.282  INFO 4560 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 12:12:06.288 DEBUG 4560 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 12:12:06.290 DEBUG 4560 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 12:12:06.296 DEBUG 4560 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 12:12:06.297  INFO 4560 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:12:06.297  INFO 4560 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 12:12:06.470  INFO 4560 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 12:12:06.471 DEBUG 4560 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? and c.blog_id=? order by c.create_time desc 
2020-06-09 12:12:06.471 DEBUG 4560 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long), 11(Long)
2020-06-09 12:12:06.473 DEBUG 4560 --- [http-nio-8080-exec-1] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 12:12:06.474 DEBUG 4560 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:12:06.474 DEBUG 4560 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 12:12:06.476 DEBUG 4560 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 12:12:06.477 DEBUG 4560 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:12:06.477 DEBUG 4560 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 12:12:06.478 DEBUG 4560 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 12:12:06.479 DEBUG 4560 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:12:06.479 DEBUG 4560 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 12:12:06.480 DEBUG 4560 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 12:12:06.481 DEBUG 4560 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:12:06.481 DEBUG 4560 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 12:12:06.485 DEBUG 4560 --- [http-nio-8080-exec-1] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 12:12:06.493 DEBUG 4560 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:12:06.493 DEBUG 4560 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 16(Long)
2020-06-09 12:12:06.496 DEBUG 4560 --- [http-nio-8080-exec-1] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 12:12:06.496  INFO 4560 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:12:06.496  INFO 4560 --- [http-nio-8080-exec-1] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 12:12:10.667  INFO 4560 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@2780efd4])
2020-06-09 12:12:10.679 DEBUG 4560 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 12:12:10.680 DEBUG 4560 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 12:12:10.683 DEBUG 4560 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 12:12:10.688 DEBUG 4560 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 12:12:10.689 DEBUG 4560 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 29(Integer), 11(Long)
2020-06-09 12:12:10.692 DEBUG 4560 --- [http-nio-8080-exec-5] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 12:12:10.693  INFO 4560 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:12:10.693  INFO 4560 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 12:12:11.171  INFO 4560 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 12:12:11.173 DEBUG 4560 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 12:12:11.173 DEBUG 4560 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 12:12:11.175 DEBUG 4560 --- [http-nio-8080-exec-5] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 12:12:11.176  INFO 4560 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:12:11.176  INFO 4560 --- [http-nio-8080-exec-5] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 12:12:11.411  INFO 4560 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 12:12:11.412 DEBUG 4560 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? and c.blog_id=? order by c.create_time desc 
2020-06-09 12:12:11.412 DEBUG 4560 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long), 11(Long)
2020-06-09 12:12:11.417 DEBUG 4560 --- [http-nio-8080-exec-2] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 12:12:11.417 DEBUG 4560 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:12:11.419 DEBUG 4560 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 12:12:11.426 DEBUG 4560 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 12:12:11.427 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:12:11.427 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 12:12:11.428 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 12:12:11.429 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:12:11.429 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 12:12:11.430 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 12:12:11.431 DEBUG 4560 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:12:11.431 DEBUG 4560 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 12:12:11.433 DEBUG 4560 --- [http-nio-8080-exec-2] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 12:12:11.433 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:12:11.434 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 16(Long)
2020-06-09 12:12:11.438 DEBUG 4560 --- [http-nio-8080-exec-2] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 12:12:11.440  INFO 4560 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:12:11.440  INFO 4560 --- [http-nio-8080-exec-2] com.blog.aspect.LogAspect                : Result: blog :: commentList
2020-06-09 12:12:20.250  INFO 4560 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/blog/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.toLogin, args=[11, {}, org.apache.catalina.session.StandardSessionFacade@2780efd4])
2020-06-09 12:12:20.251 DEBUG 4560 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.getDetailedBlog     : ==>  Preparing: /*博客详情*/ select b.id, b.first_picture, b.flag, b.title, b.content, b.views, b.update_time,b.commentabled, b.share_statement, b.appreciation, u.nickname, u.avatar, tag.id tagid, tag.name tagname from t_blog b, t_user u, t_tag tag, t_blog_tags tb where b.user_id = u.id and tb.blogs_id = b.id and tb.tags_id = tag.id and b.id = ? 
2020-06-09 12:12:20.252 DEBUG 4560 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.getDetailedBlog     : ==> Parameters: 11(Long)
2020-06-09 12:12:20.255 DEBUG 4560 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.getDetailedBlog     : <==      Total: 3
2020-06-09 12:12:20.257 DEBUG 4560 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.updateBlogView      : ==>  Preparing: update t_blog set views=? where id = ?; 
2020-06-09 12:12:20.258 DEBUG 4560 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.updateBlogView      : ==> Parameters: 30(Integer), 11(Long)
2020-06-09 12:12:20.261 DEBUG 4560 --- [http-nio-8080-exec-6] com.blog.dao.BlogDao.updateBlogView      : <==    Updates: 1
2020-06-09 12:12:20.262  INFO 4560 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:12:20.263  INFO 4560 --- [http-nio-8080-exec-6] com.blog.aspect.LogAspect                : Result: blog
2020-06-09 12:12:20.736  INFO 4560 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/footer/newblog, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.IndexController.newblogs, args=[{}])
2020-06-09 12:12:20.736 DEBUG 4560 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==>  Preparing: select t.id , t.title from t_blog t ORDER BY t.update_time limit ? 
2020-06-09 12:12:20.736 DEBUG 4560 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : ==> Parameters: 3(Integer)
2020-06-09 12:12:20.738 DEBUG 4560 --- [http-nio-8080-exec-4] c.b.dao.BlogDao.getListRecommendBlogTop  : <==      Total: 2
2020-06-09 12:12:20.739  INFO 4560 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:12:20.739  INFO 4560 --- [http-nio-8080-exec-4] com.blog.aspect.LogAspect                : Result: _fragments :: newblogList
2020-06-09 12:12:20.869  INFO 4560 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Request: LogAspect.RequestLog(url=http://localhost:8080/comments/11, ip=0:0:0:0:0:0:0:1, classMethod=com.blog.controller.CommentController.comments, args=[11, {}])
2020-06-09 12:12:20.870 DEBUG 4560 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? and c.blog_id=? order by c.create_time desc 
2020-06-09 12:12:20.870 DEBUG 4560 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : ==> Parameters: -1(Long), 11(Long)
2020-06-09 12:12:20.871 DEBUG 4560 --- [http-nio-8080-exec-7] c.b.dao.CommentDao.findByParentIdNull    : <==      Total: 2
2020-06-09 12:12:20.872 DEBUG 4560 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:12:20.872 DEBUG 4560 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 12(Long)
2020-06-09 12:12:20.873 DEBUG 4560 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 12:12:20.873 DEBUG 4560 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:12:20.873 DEBUG 4560 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 14(Long)
2020-06-09 12:12:20.874 DEBUG 4560 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 1
2020-06-09 12:12:20.875 DEBUG 4560 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:12:20.875 DEBUG 4560 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 15(Long)
2020-06-09 12:12:20.876 DEBUG 4560 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 12:12:20.877 DEBUG 4560 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:12:20.880 DEBUG 4560 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : ==> Parameters: 11(Long)
2020-06-09 12:12:20.883 DEBUG 4560 --- [http-nio-8080-exec-7] c.b.d.CommentDao.findByParentIdNotNull   : <==      Total: 1
2020-06-09 12:12:20.883 DEBUG 4560 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==>  Preparing: select * from blog.t_comment c where c.parent_comment_id = ? order by c.create_time desc 
2020-06-09 12:12:20.883 DEBUG 4560 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : ==> Parameters: 16(Long)
2020-06-09 12:12:20.884 DEBUG 4560 --- [http-nio-8080-exec-7] com.blog.dao.CommentDao.findByReplayId   : <==      Total: 0
2020-06-09 12:12:20.884  INFO 4560 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : ------------doAfter------------
2020-06-09 12:12:20.884  INFO 4560 --- [http-nio-8080-exec-7] com.blog.aspect.LogAspect                : Result: blog :: commentList
